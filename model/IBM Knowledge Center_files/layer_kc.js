/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"kc/widget/common/HealthCheckAlert":function(){require({cache:{"url:kc/widget/common/templates/HealthCheckAlert.html":"<div data-dojo-attach-point=\"_healthCheckContainer\" class=\"healthCheckContainer hidden\">\n\t<div data-dojo-attach-point=\"_healthCheckAlert\" \n\t\t\tdata-dojo-type=\"dijit.form.Button\"\n\t\t\tlabel=\"${buttonLabel}\"\n\t\t\tshowLabel=\"false\"\n\t\t\ticonClass=\"healthCheckWarning\">\n\t</div>\n</div>","url:kc/widget/common/templates/HealthCheckAlertPopup.html":"<table class=\"healthCheckAlertPopup\" role=\"presentation\">\n<tbody>\n\t<tr>\n\t\t<td><div style=\"display: inline-block;\" data-dojo-attach-point=\"iconNode\" class=\"idxSignIcon\"></div></td>\n\t\t<td data-dojo-attach-point=\"textNode\" class=\"message\"></td>\n\t</tr>\n</tbody>\n</table>"}});define("kc/widget/common/HealthCheckAlert",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/_base/array","dojo/ready","dojo/query","dojo/string","kc/widget/common/KCWidget","dojo/text!kc/widget/common/templates/HealthCheckAlert.html","dojo/text!kc/widget/common/templates/HealthCheckAlertPopup.html","dojo/_base/window","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dijit/focus","dojo/_base/fx","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","dijit/form/Button","idx/oneui/HoverCard"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,fx,_10,_11,_12,_13){return _1("kc.widget.common.HealthCheckAlert",[_8],{templateString:_9,_hoverCard:undefined,_hoverCardContent:undefined,_lastAlertType:undefined,popupPosition:undefined,postCreate:function(){this.inherited(arguments);this._hoverCardContent=_1([_8],{templateString:_a,buildRendering:function(){this.inherited(arguments);_e.remove(this.iconNode,"idxWarnIcon idxOkIcon");if(_12.ALERT_SUCCESS===this.alertType){_e.add(this.iconNode,"idxOkIcon");}else{_e.add(this.iconNode,"idxWarnIcon");}this.textNode.appendChild(_b.doc.createTextNode(this.alertMessage));}});},_initializeStrings:function(){this.buttonLabel=this.getString("HEALTH_CHECK_ALERT");},_initializeConnections:function(){this.addConnection(this._healthCheckAlert,"onClick",this,this._onHealthCheckAlertClick);},_initializeSubscriptions:function(){this.addSubscription(_11.KC_HEALTH_CHECK_ALERT,this,"_onHealthCheckAlert");},_onHealthCheckAlert:function(_14,_15){if(_12.ALERT_INFO===_14||_12.ALERT_SUCCESS===_14){this._healthCheckAlert.set("alertMessage",_7.trim(""+_15));if(_12.ALERT_SUCCESS===_14&&_13.isUndefined(this._lastAlertType)){this._lastAlertType=_14;}else{if(this._lastAlertType!==_14){if(_13.isDomNodeHidden(this._healthCheckContainer)){_d.set(this._healthCheckContainer,"opacity","0");_13.setDomNodeShow(this._healthCheckContainer,true);}fx.fadeIn({node:this._healthCheckContainer}).play();this._healthCheckAlert.set("iconClass",_12.ALERT_INFO===_14?"healthCheckWarning":"healthCheckOk");this._healthCheckAlert.set("nextAlertType",_14);if(!_13.isUndefined(this._lastAlertType)){var _16=this._initHealthCheckAlertPopup();_16.close();fx.fadeIn({node:this._healthCheckContainer}).play();_16.open(this._healthCheckContainer);}this._healthCheckAlert.set("alertType",_14);this._lastAlertType=_14;}}}},_onHealthCheckAlertClick:function(){var _17=this._initHealthCheckAlertPopup();_17.open(this._healthCheckContainer);},_initHealthCheckAlertPopup:function(){var hcc=new this._hoverCardContent({alertMessage:this._healthCheckAlert.get("alertMessage"),alertType:this._healthCheckAlert.get("nextAlertType")});hcc.startup();if(_13.isUndefined(this._hoverCard)){this._hoverCard=new idx.oneui.HoverCard({draggable:false,content:hcc});this._hoverCard.position=_13.isUndefined(this.popupPosition)?["below-centered"]:this.popupPosition;this._hoverCard.closeButtonNode.title=this.getString("ACTION_CLOSE");this._hoverCard.startup();var _18=_13.getFirstElementOfArray(this._hoverCard.position)==="below-centered";var _19=this._hoverCard.duration;var hc=this._hoverCard;_3.after(this._hoverCard,"open",function(){if(_18){_d.set(this.connectorNode,"backgroundPosition","-20px -4px");}_d.set(this.containerNode,"minHeight","0");var d=_19;setTimeout(_2.hitch(this,function(){_f.focus(hc.closeButtonNode.domNode);}),d*2);});_3.after(this._hoverCard,"hide",_2.hitch(this,function(){if(_12.ALERT_SUCCESS===this._healthCheckAlert.get("alertType")){var d=_19;setTimeout(_2.hitch(this,function(){_f.focus(this._lastFocusNode);this._lastFocusNode=undefined;}),d+1);fx.fadeOut({node:this._healthCheckContainer,onEnd:_2.hitch(this,function(){})}).play();}else{if(_12.ALERT_SUCCESS===this._healthCheckAlert.get("nextAlertType")){this._lastFocusNode=_f.curNode;}else{if(_12.ALERT_INFO===this._healthCheckAlert.get("nextAlertType")){var d=this._hoverCard.duration;setTimeout(_2.hitch(this,function(){_f.focus(this._healthCheckAlert.focusNode);}),d);}}}}));_5(_2.hitch(this,function(){if(_e.contains(_b.body(),"dijit_a11y")){this._hoverCard.closeButtonNode.innerHTML="X";}}));_4.forEach(_6(".idxOneuiHoverCardGrip",this._hoverCard.domNode),_c.destroy);_4.forEach(_6(".idxOneuiHoverCardFooterExpand",this._hoverCard.domNode),_c.destroy);_4.forEach(_6(".idxOneuiHoverCardFooter",this._hoverCard.domNode),_c.destroy);_4.forEach(_6(".dijitBackgroundIframe",this._hoverCard.domNode),_c.destroy);}else{_c.empty(this._hoverCard.containerNode);this._hoverCard.set("content",hcc);}return this._hoverCard;}});});},"kc/widget/navigation/BreadcrumbController":function(){(function(){var _1a=function(_1b,_1c,_1d,_1e,_1f,_20,_21,_22,_23,_24,_25,_26,_27,_28){var _29=_1b("kc.widget.navigation._Breadcrumb",_25,{baseClass:"kcBreadcrumb"});var _2a=_29;var _2b=_1b("kc.widget.navigation.BreadcrumbController",[_23],{buttonWidget:_2a,idxBaseClass:"idxBreadcrumbController",constructor:function(){this.button2pane={};},buildRendering:function(){this.inherited(arguments);_1c.add(this.domNode,this.idxBaseClass);},onStartup:function(_2c){_1d.set(this.domNode,"role","group");_21.forEach(_2c.children,this.onAddChild,this);},resize:function(_2d,_2e){this.inherited(arguments);if(_2d){_1e.getMarginBox(this.domNode,_2d);}},onAddChild:function(_2f,_30){var _31=_30;if(_30===undefined){_31=this.containerNode.children.length;}this.inherited(arguments,[_2f,_31]);var _32=this.pane2button[_2f.id];_1d.remove(_32.focusNode,"aria-selected");this.button2pane[_32.id]=_2f;var _33=undefined;var _34=this.getChildren()[_31-1];if(_34){_33=this.button2pane[_34.id];}if(_33){var _35=this.pane2connects[_2f.id];_21.forEach(_35,_1f.hitch(this,this.disconnect));this.pane2connects[_2f.id]=[this.connect(_32,"onClick",_1f.hitch(this,"onButtonClick",_33)),this.connect(_32,"onClickCloseButton",_1f.hitch(this,"onCloseButtonClick",_33))];}if(_27.isFunction(_2f.added)){_2f.added();}},onRemoveChild:function(_36){var _37=this.pane2button[_36.id];if(_37){delete this.button2pane[_37.id];}this.inherited(arguments);if(_27.isFunction(_36.removed)){_36.removed();}},onButtonClick:function(_38){this.inherited(arguments);},onSelectChild:function(_39){if(!_39){return;}if(_27.isFunction(_39.load)){_39.load();}var _3a=_20.byId(this.containerId);var _3b=_3a.getIndexOfChild(_39);var _3c=_3a.getChildren();for(var i=_3b+1;i<_3c.length;i++){var _3d=_3c[i];_3a.removeChild(_3d);_3d.destroyRecursive();}var _3e=this._currentChild;this.inherited(arguments);var _3f=this.pane2button[_39.id];_1d.remove(_3f.focusNode,"aria-selected");if(_3e){var _40=this.pane2button[_3e.id];_1d.remove(_40.focusNode,"aria-selected");_1d.set(_40.focusNode,"tabindex",0);}var _3c=_3a.getChildren();for(var i=0;i<_3c.length;i++){var _3d=_3c[i];if(_27.isFunction(_3d.show)){_3d.show(_3d===_39);}}},resize:function(_41,_42){var cn=this.domNode;var mb=_42||{};_1f.mixin(mb,_41||{});if(!("h" in mb)||!("w" in mb)){mb=_1f.mixin(_1e.getMarginBox(cn),mb);}var _43=0;for(var _44 in this.pane2button){var dm=this.pane2button[_44].domNode;if(dm){_43+=_1e.getMarginBox(dm).w;}}}});_2b.Breadcrumb=_29;return _2b;};define("kc/widget/navigation/BreadcrumbController",["dojo/_base/declare","dojo/dom-class","dojo/dom-attr","dojo/dom-geometry","dojo/_base/lang","dijit/registry","dojo/_base/array","dojo/dom-construct","dijit/layout/StackController","idx/form/Link","idx/util","kc/Utils","kc/Constants"],function(_45,_46,_47,_48,_49,_4a,_4b,_4c,_4d,_4e,_4f,_50,_51){return _1a(_45,_46,_47,_48,_49,_4a,_4b,_4c,_4d,_4d.StackButton,_4e,_4f,_50,_51);});})();},"kc/widget/common/TextBoxWithoutPopup":function(){define("kc/widget/common/TextBoxWithoutPopup",["dojo/_base/declare","idx/oneui/form/TextBox","idx/oneui/HoverHelpTooltip"],function(_52,_53,_54){return _52("kc.widget.common.TextBoxWithoutPopup",[_53],{postCreate:function(){this.inherited(arguments);},displayMessage:function(_55){this.__hideTooltips();},reset:function(){this.__hideTooltips();this.inherited(arguments);},uninitialize:function(){this.__hideTooltips();this.inherited(arguments);},__hideTooltips:function(){_54.hide(this.oneuiBaseNode);_54.hide(this.iconNode);}});});},"kc/InstrumentationManager":function(){define("kc/InstrumentationManager",["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/on","dojo/query","kc/widget/common/_KCi18nMixin","kc/Topics","kc/Messaging","kc/Utils","kc/Constants","kc/DialogManager","idx/util","kc/state/StateUtils","kc/state/KCState"],function(_56,_57,win,on,_58,_59,_5a,_5b,_5c,_5d,_5e,_5f,_60,_61){_56("kc.InstrumentationManager",[_59],{_initialized:false,_debug:_5d.debugMode,log:undefined,initialize:function(){if(this._initialized){return;}var _62=_5d.getServerProperty(_5d.SERVER_PROPERTY_KEY_INSTRUMENTATION_DISABLED,"false")==="true";this.log=function(){};if(!_62){_5b.subscribe(_5a.BROWSER_STATE_CHANGE,this,"_browserStateChanged",_5d.MESSAGING_PRIORITY_LATE);_5b.subscribe(_5a.KC_ACTION,this,"_onAction",_5d.MESSAGING_PRIORITY_LATE);_5b.subscribe(_5a.KC_NOTIFICATION,this,"_onNotification",_5d.MESSAGING_PRIORITY_LATE);}this._initialized=true;},_createJavaScriptNode:function(url,_63){var _64=_5c.createJavascriptTag(document,url);var _65=_5f.isIE?"readystatechange":"load";var _66=/complete|loaded/;on(_64,_65,_57.hitch(this,function(evt,_67){if(evt.type=="load"||_66.test(_64.readyState)&&_5c.isFunction(_63)){_63();}}));},_browserStateChanged:function(_68){if(_5c.isEmpty(_68)){return;}var _69=_60.browserStateToString(_68,true);var _6a=_5c.getObject("title",_68,"");this.addLog("content",_68.contentType,_69,_69,_6a);},_onAction:function(_6b,_6c,_6d,_6e){var _6f=_61.browserState;var _70=_60.browserStateToString(_6f,true);var _71=_5c.getObject("title",_6f,"");this.addLog("contentAction",_6b,_6c,_70,_71);},_onNotification:function(_72,_73,_74){if(_5d.ACTION_RATING_LIKE===_73||_5d.ACTION_RATING_DISLIKE===_73){var _75=_61.browserState;var _76=_60.browserStateToString(_75,true);var _77=_5c.getObject("title",_75,"");this.addLog("contentAction",_72,_73,_76,_77);}},addLog:function(_78,_79,_7a,_7b,_7c){this.log({ibmEV:_78,ibmEvAction:_7a,ibmEvTarget:_7b,ibmEvLinkTitle:_7c,ibmEvGroup:"IBM Knowledge Center",ibmEvModule:_79});if(window.cmCreateElementTag&&_79!==_5d.CONTENT_TOPIC){var _7d=window.location.host+window.location.pathname;cmCreateElementTag(_7a,_78,_78+"-_-"+_7a+"-_--_-"+"IBM Knowledge Center"+"-_-"+_79+"-_--_-"+_7b+"-_-"+_7c+"-_--_--_--_--_--_--_-"+_7d);}}});kc.InstrumentationManager.instance=null,kc.InstrumentationManager.getInstance=function(){if(kc.InstrumentationManager.instance===null){kc.InstrumentationManager.instance=new kc.InstrumentationManager();kc.InstrumentationManager.instance.initialize();}return kc.InstrumentationManager.instance;};return kc.InstrumentationManager.getInstance();});},"kc/widget/common/_LazyContentMixin":function(){define("kc/widget/common/_LazyContentMixin",["dojo/_base/declare"],function(_7e){return _7e("kc.widget.common._LazyContentMixin",[],{_loadCalled:false,_isShowing:false,load:function(){if(this._loadCalled){return;}this._loadContent();this._loadCalled=true;},_loadContent:function(){},show:function(_7f){var _80=(this._isShowing!=_7f);this._isShowing=_7f;if(_80){this._show(_7f);}},_show:function(_81){}});});},"kc/model/Collection":function(){define("kc/model/Collection",["dojo/_base/declare","kc/model/KCModel","kc/Constants","kc/Utils"],function(_82,_83,_84,_85){return _82("kc.model.Collection",[_83],{cId:undefined,mobile:undefined,title:undefined,checksum:undefined,desc:undefined,items:undefined,operations:undefined,constructor:function(){}});});},"kc/widget/common/_ContextMenuMixin":function(){define("kc/widget/common/_ContextMenuMixin",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/aspect","kc/Utils","dijit/Menu"],function(_86,_87,_88,_89,_8a){return _86("kc.widget.common._ContextMenuMixin",[],{_menuConnection:undefined,postCreate:function(){this.inherited(arguments);this._attachContextMenu();},_attachContextMenu:function(){var _8b=new dijit.Menu();this._createContextMenuItems(_8b);var _8c=this._getMenuBindNode();if(_8c===undefined||_8c===null){return;}_8b.bindDomNode(_8c);var _8d=this;this._menuConnection=_89.after(_8b,"_openMyself",_87.hitch(this,function(e){var _8e=_8d._getDataForMenu(e.target);_88.forEach(_8b.getChildren(),function(_8f){if(_8a.isFunction(_8f.setData)){_8f.setData(_8e);}});}),true);},_getMenuBindNode:function(){},_createContextMenuItems:function(_90){},_getDataForMenu:function(_91){},uninitialize:function(){this.inherited(arguments);if(this._menuConnection){this._menuConnection.remove();this._menuConnection=undefined;}}});});},"url:idx/oneui/form/templates/CheckBox.html":"<div id=\"widget_${id}\" class=\"dijitReset dijitInline idxComposite\"\n\t><div class=\"dijit dijitReset dijitInline\" role=\"presentation\" dojoAttachPoint=\"stateNode,oneuiBaseNode\"\n\t\t><input\n\t\t\t${!nameAttrSetting} type=\"${type}\" ${checkedAttrSetting}\n\t\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\t\tdojoAttachPoint=\"focusNode\"\n\t\t\tdojoAttachEvent=\"onclick:_onClick\"\n\t/></div\n\t><div class=\"idxLabel dijitInline dijitHidden\"\n\t\t><label for=\"${id}\" dojoAttachPoint=\"compLabelNode\"></label\n\t></div\n\t><div class='dijitReset dijitInline dijitValidationContainer' dojoAttachPoint=\"iconNode\"\n\t\t><div class=\"dijitValidationIcon\"><input class=\"dijitReset dijitInputField dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"/\n\t></div></div\n></div>","idx/oneui/form/RadioButtonSet":function(){require({cache:{"url:idx/oneui/form/templates/RadioButtonSet.html":"<div class=\"dijit dijitReset dijitInline dijitLeft idxComposite idxNoOutline\" id=\"widget_${id}\"\n\t><div class=\"idxLabel\"><span class=\"idxRequiredIcon\">*&nbsp;</span><label for=\"${id}\" dojoAttachPoint=\"compLabelNode\"></label></div\n\t><div dojoAttachPoint=\"stateNode, oneuiBaseNode\" role=\"group\" class=\"idxCompContainer idxNoOutline\"\n\t\t><input type=\"hidden\" dojoAttachPoint=\"focusNode, valueNode\" class=\"dijitReset\"></input\n\t\t><div dojoAttachPoint=\"containerNode\"></div\n\t\t><div class=\"dijitReset dijitValidationContainer dijitInline\" dojoAttachPoint=\"iconNode\"\n\t\t\t><div class=\"dijitValidationIcon\"><input class=\"dijitReset dijitInputField dijitValidationInner\"\n\t\t\t\tvalue=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/></div></div\n\t></div\n></div>"}});define("idx/oneui/form/RadioButtonSet",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/sniff","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/keys","dijit/form/_FormSelectWidget","dijit/_Container","../_CssStateMixin","./_CompositeMixin","./_ValidationMixin","./_InputListMixin","./_RadioButtonSetItem","../HoverHelpTooltip","dojo/text!./templates/RadioButtonSet.html"],function(_92,_93,_94,has,_95,_96,_97,_98,_99,_9a,_9b,_9c,_9d,_9e,_9f,_a0,_a1){return _92("idx.oneui.form.RadioButtonSet",[_99,_9a,_9b,_9c,_9d,_9e],{templateString:_a1,baseClass:"idxRadioButtonSetWrap",oneuiBaseClass:"idxRadioButtonSet",multiple:false,buildRendering:function(){this.name=this.name||this.id;this.inherited(arguments);},_setNameAttr:function(_a2){this._set("name",_a2);_94.forEach(this.getChildren(),function(_a3){_a3.set("name",_a2);});},_setValueAttr:function(_a4,_a5){if(this._loadingStore){this._pendingValue=_a4;return;}var _a6=this.getOptions()||[];if(!_93.isArray(_a4)){_a4=[_a4];}_94.forEach(_a4,function(i,idx){if(!_93.isObject(i)){i=i+"";}if(typeof i==="string"){_a4[idx]=_94.filter(_a6,function(_a7){return _a7.value===i;})[0]||{value:"",label:""};}},this);_a4=_94.filter(_a4,function(i){return i&&i.value;});if(!this.multiple&&(!_a4[0]||!_a4[0].value)&&_a6.length){_a4[0]="";}this.lastFocusedChild=null;_94.forEach(_a6,function(i,_a8){i.selected=_94.some(_a4,function(v){return v.value===i.value;});if(i.selected&&this.getChildren()[_a8]){this.lastFocusedChild=this.getChildren()[_a8];this.focusChild(this.lastFocusedChild);}},this);var val=_94.map(_a4,function(i){return i.value;}),_a9=_94.map(_a4,function(i){return i.label;});this._set("value",this.multiple?val:val[0]);this._setDisplay(this.multiple?_a9:_a9[0]);this._updateSelection();this._handleOnChange(this.value,_a5);},_addOptionItem:function(_aa){var _ab=new _9f({_inputId:this.id+"_RadioItem"+_94.indexOf(this.options,_aa),option:_aa,name:this.name,disabled:_aa.disabled||this.disabled||false,parent:this});_96.toggle(_ab.domNode,"dijitInline",!(this.groupAlignment=="vertical"));this.addChild(_ab);if(_aa.selected){this.lastFocusedChild=_ab;}if(has("ie")>7&&!has("quirks")){this._relayout(this.domNode);}this.onAfterAddOptionItem(_ab,_aa);},validate:function(_ac){var _ad=this.isValid(_ac);this._set("state",_ad?"":"Error");this.focusNode.setAttribute("aria-invalid",_ad?"false":"true");var _ae=_ad?"":this.getErrorMessage();if(this.message!==_ae){this._set("message",_ae);this.displayMessage(this.message);}return _ad;},displayMessage:function(_af,_b0){_a0.hide(this.domNode);_a0.hide(this.iconNode);if(_af&&this.focused||_b0){var _b1=_97.get(this.iconNode,"visibility")=="hidden"?this.oneuiBaseNode:this.iconNode;_a0.show(_af,_b1,this.tooltipPosition,!this.isLeftToRight());}}});});},"kc/model/User":function(){define("kc/model/User",["dojo/_base/declare","kc/model/KCModel","kc/Constants","kc/Utils"],function(_b2,_b3,_b4,_b5){return _b2("kc.model.User",[_b3],{loginName:undefined,displayName:undefined});});},"url:kc/widget/search/templates/SearchInput.html":"<div id=\"searchKeywordContainer\">\n\t<div class=\"searchInputboxContainer\">\n\t    <label for=\"searchInputBox\" style=\"display: none;\">${_searchInputLabel}</label>\n\t    <!-- role=\"textbox\" is a better fit for the input however JAWS and RPT have issues with it. The accessibility team suggest using role=\"combobox\" instead. All work well like this also -->\n        <input id=\"searchInputBox\" maxlength=\"200\" class=\"searchInputBox\" data-dojo-attach-point=\"_searchInputBox\" tabindex=\"0\"\n        \t\trole=\"combobox\" aria-autocomplete=\"list\" aria-haspopup=\"true\" aria-label=\"${_searchInputLabel}\" aria-describedby=\"searchTypeAheadStatus\"\n        \t\tplaceHolder=\"${_searchInputLabel}\" accesskey=\"${ACCESS_KEY_FOCUS_SEARCH}\"></input>\n        <span id=\"searchTypeAheadStatus\" role=\"status\" aria-live=\"polite\" aria-label=\"${_searchSuggestions}\" class=\"hiddenAccesible\" data-dojo-attach-point=\"_searchTypeAheadStatus\"></span>\n    </div>\n    <div data-dojo-attach-point=\"_typeaheadSearchInput\" class=\"typeaheadSearchInput\"></div>\n</div>","kc/widget/search/FilterDialog":function(){require({cache:{"url:kc/widget/search/templates/FilterDialog.html":"<div data-dojo-attach-point=\"_dialog\" class=\"filterDialogContainer\">\n\t<div id=\"filterDialogDescription\" data-dojo-attach-point=\"filterDialogDescription\">${_filterDialogDescription}</div>\n\t<div class=\"filterSearchNode\" data-dojo-attach-point=\"filterSearchNode\">\n\t\t<div class=\"filterSearchNodeInner filterKeywordContainer\" data-dojo-attach-point=\"filterSearchNodeInner\">\n\t\t   \t<div class=\"searchInputboxContainer\">\n\t    \t\t<label for=\"filterInputBox\" style=\"display: none;\">${_filterInputLabel}</label>\n        \t\t<input id=\"filterInputBox\" maxlength=\"200\" class=\"filterInputBox\" data-dojo-attach-point=\"_filterInputBox\" aria-label=\"${_filterInputLabel}\" placeHolder=\"${_filterInputLabel}\"></input>\n    \t\t</div>\n\t\t</div>\n\t\t<div data-dojo-attach-point=\"_typeaheadFilterInput\" class=\"typeaheadFilterInput\"></div>\n    </div>\n\t<div data-dojo-attach-point=\"_loading\" class=\"loading\"></div>\n\t<div data-dojo-attach-point=\"_infoMessage\" class=\"infoMessage\" role=\"log\" aria-live=\"polite\" aria-label=\"${_filterDialogNameLabel}\"></div>\n\t<div data-dojo-attach-point=\"_treeWrapper\">\n\t\t<div data-dojo-attach-point=\"_productTreePlaceholder\" id=\"filterProductTree\"></div>\n\t</div>\n\t<span id=\"filterDialogFilterStatus\" class=\"hiddenAccesible\" data-dojo-attach-point=\"_filterDialogFilterStatus\" aria-label=\"${_filterLogLabel}\" aria-live=\"polite\" role=\"status\"></span>\n</div>"}});define("kc/widget/search/FilterDialog",["dojo/_base/declare","kc/widget/common/KCWidget","kc/widget/common/_KCFocusRingMixin","kc/DialogManager","dojo/text!kc/widget/search/templates/FilterDialog.html","dojo/string","dojo/_base/lang","dojo/_base/array","dojo/aspect","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-construct","dojo/dom-style","dojo/query","dijit/focus","kc/state/KCState","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","idx/util","kc/controller/SearchController","kc/widget/common/KCTreeUtils","kc/state/StateUtils","kc/widget/search/SearchUtils","kc/widget/topic/TopicUtils","dojo/keys","dojo/window","kc/model/Search","kc/model/Tag","dijit/form/Button","idx/oneui/CheckBoxTree","dojo/data/ItemFileWriteStore","dijit/tree/ForestStoreModel","kc/model/Search"],function(_b6,_b7,_b8,_b9,_ba,_bb,_bc,_bd,_be,_bf,_c0,_c1,_c2,_c3,_c4,_c5,_c6,_c7,_c8,_c9,_ca,_cb,_cc,_cd,_ce,_cf,_d0,_d1,win){_b6("kc.widget.search.FilterTreeNode2",[idx.oneui._CheckBoxTreeNode],{postCreate:function(){this.inherited(arguments);this.connect(this.labelNode,"onclick",function(){if(!_c0.contains(this.checkboxNode.domNode,"hidden")){this.checkboxNode.click();var _d2=this.checkboxNode.get("checked");this.updateState(_d2);this.tree.focusNode(this);}else{if(this.isExpandable){if(!this.isExpanded){this.tree._expandNode(this);}else{this.tree._collapseNode(this);}}}});this.connect(this,"onload",this._setTreeNodeType());},_isCheckable:function(){return _d0.isCheckable(this.item,this.tree.model.store);},_setTreeNodeType:function(){if(this.getIdentity()!==""&&!this._isCheckable()){_c0.add(this.checkboxNode.domNode,"hidden");this.checkboxNode.set("disabled",true);}},_labelKeyPressHandler:function(evt){var dk=_d1;if(this.checkboxNode.disabled&&(evt.charOrCode==dk.SPACE||evt.charOrCode==dk.ENTER||evt.charOrCode===" ")){if(this.isExpandable){if(!this.isExpanded){this.tree._expandNode(this);}else{this.tree._collapseNode(this);}}}else{this.inherited(arguments);}}});return _b6("kc.widget.search.FilterDialog",[_b7],{templateString:_ba,_productTree:undefined,dialog:undefined,initialTree:true,filterData:null,selectCount:0,selectedProducts:null,focus:function(){if(this._productTree&&this._productTree.lastFocused){_c5.focus(this._productTree.lastFocused.labelNode);}},postCreate:function(){this.inherited(arguments);_ca.setDomNodeShow(this._infoMessage,false);},startup:function(){this.inherited(arguments);},_initializeStrings:function(){this._filterDialogNameLabel=this.getString("FILTER_DIALOG_TITLE");this._filterDialogDescription=this.getString("FILTER_DIALOG_DESCRIPTION");this._filterInputLabel=this.getString("FILTER_DIALOG_INPUT_LABEL");this._filterNoResultMessage=this.getString("FILTER_DIALOG_NO_RESULT_MESSAGE");this._filterLogLabel=this.getString("FILTER_DIALOG_LOG_LABEL");this._filterLogMessage=this.getString("FILTER_DIALOG_LOG_MESSAGE");},_initializeConnections:function(){this.addConnection(this._filterInputBox,"onkeyup",this,"_onKeyUp");},_initializeSubscriptions:function(){},_dataWrapper:function(a){var _d3={};_d3["identifier"]=_c9.TOC_ID;_d3["label"]=_c9.TOC_TITLE;_d3["items"]=_ca.clone(a);return _d3;},_filterArray:function(o,_d4,_d5){if(_ca.isArray(o)){_bd.forEach(o,function(i){if(i.title.toLowerCase().indexOf(_d4)>-1){_d5.push(i);}else{this._filterArray(i.items,_d4,_d5);}},this);}},_addParentIdToItems:function(o,_d6){if(_ca.isArray(o)){_bd.forEach(o,function(i){i.parentId=_d6;this._addParentIdToItems(i.items,i.id);},this);}},_allProductsData:undefined,_allProductsStore:undefined,_createFilter:function(_d7){var _d8=_bc.hitch(this,function(){if(this.filterRequest){this.filterRequest.remove();}this.filterRequest=_ca.defer(_bc.hitch(this,function(){var _d9=this._allProductsStore;if(_d7){this.filterData=[];this._filterArray(this._allProductsData.items,_d7.toLowerCase(),this.filterData);_d9=this._createStore(this._dataWrapper(this.filterData));}this._renderFilter(_d9);}),this.filterRequest?500:0);});if(_ca.isUndefined(this._allProductsData)&&_ca.isUndefined(this._allProductsStore)){var _da=_bc.hitch(this,function(_db){this._allProductsData=_db;this._addParentIdToItems(this._allProductsData.items);this._allProductsStore=this._createStore(_ca.clone(this._allProductsData));_d8();});_cc.getProductCollections(_da);}else{_d8();}},_createStore:function(_dc){var _dd=new dojo.data.ItemFileWriteStore({data:_dc});return _dd;},_renderFilter:function(_de){this._createTree(_de);},_createTree:function(_df){if(this._productTree===undefined){var _e0=new dijit.tree.ForestStoreModel({rootId:"",store:_df,childrenAttrs:["items"]});this._productTree=new idx.oneui.CheckBoxTree({model:_e0,showRoot:false,label:this._productLabel,onLoad:_bc.hitch(this,function(){this._setInitialExpansion(this._productTree);this._productTree.toggleNode(this._productTree.rootNode,false);this._selectProductTreeNodes();}),_createTreeNode:function(_e1){return new kc.widget.search.FilterTreeNode2(_e1);},refresh:function(){var _e2=_bc.hitch(this,function(d){if(d){d.cancel();}});_e2(this.rootNode._expandDeferred);delete this.rootNode._expandDeferred;_e2(this.rootNode._expandNodeDeferred);delete this.rootNode._expandNodeDeferred;this.dndController.selectNone();this.model.store.close();this._itemNodesMap={};this.rootNode.state="UNCHECKED";this.model.root.children=null;this.rootNode.destroyRecursive();this.model.constructor(this.model);this.postMixInProperties();this._load();},getLabelClass:function(_e3,_e4){return "filterPaneCheckBoxTreeLabel";},lastScroll:null,_onNodeFocus:function(_e5){idx.oneui.CheckBoxTree.prototype._onNodeFocus.apply(this,arguments);this.lastScroll=_e5.tree.domNode.scrollTop;},onNodeStateChange:_bc.hitch(this,function(_e6,_e7){if(!_c0.contains(_e6.checkboxNode.domNode,"hidden")&&_e6.item.id){var _e8=this._productTree.model.store.getValue(_e6.item,"id");if(_e7===true){this.selectedProducts[_e8]=true;}else{var _e9=this._allProductsStore._getItemByIdentity(_e8),_ea=this._allProductsStore.getValue(_e9,"parentId");if(this.selectedProducts[_e8]){delete this.selectedProducts[_e8];}if(this.selectedProducts[_ea]){delete this.selectedProducts[_ea];}}}}),},this._productTreePlaceholder);this._productTree.startup();}else{this._productTree.model.store=_df;this._productTree.refresh();if(!_df._arrayOfAllItems.length){this._infoMessage.innerHTML=this._filterNoResultMessage;this._filterDialogFilterStatus.innerHTML="";_ca.setDomNodeShow(this._infoMessage,true);}else{_ca.setDomNodeShow(this._infoMessage,false);this._filterDialogFilterStatus.innerHTML=this._filterLogMessage;}}_bf.set(this._productTree.rootNode.containerNode,"aria-label",this.getString("FILTER_PRODUCT_LABEL"));_bf.set(this._productTree.rootNode.containerNode,"aria-multiselectable","true");_bf.set(this._productTree,"tabindex","-1");_c0.add(this._loading,"hidden");},_setInitialExpansion:function(_eb){var _ec=_eb.rootNode.getChildren();if(_ec.length&&_ec.length<5){_bd.forEach(_ec,function(_ed){_eb._expandNode(_ed,false);});}},_setProduct:function(){if(!this._productTree){this._createFilter();}else{this._productTree.toggleNode(this._productTree.rootNode,false);this._selectProductTreeNodes();this._scrollIntoLastFocusedProduct();}},_scrollIntoLastFocusedProduct:function(){if(this._productTree.lastScroll&&this._productTree.lastFocused){this._productTree.domNode.scrollTop=this._productTree.lastScroll;win.scrollIntoView(this._productTree.lastFocused.domNode);}},_setProductInfo:function(){var _ee=_ca.getObject("scope",_c6.getLatestContentModel(_c9.CONTENT_SEARCH));var tag=_ca.getObject("tag",_c6.getLatestContentModel(_c9.CONTENT_SEARCH));var _ef=null,_f0=null;this.selectedProducts={};if(tag){_ef=_ca.getObject("product",tag);}if(_ef&&_ef.length){_f0=_ef;}else{if(_ee&&_ee.length){_f0=_ee;}}this.selectedProducts={};_bd.forEach(_f0,function(_f1){this.selectedProducts[_f1]=true;},this);},_selectProductTreeNodes:function(){if(this.selectedProducts){var _f2=[];for(var _f3 in this.selectedProducts){var _f4=this._allProductsStore._getItemByIdentity(_f3),_f5=this._allProductsStore.getValues(_f4,"items"),_f6=_bc.hitch(this,_f7,_f3)();if(_f6){_f2.push(_f6);}_bd.forEach(_f5,function(_f8){var _f9=_bc.hitch(this,_f7,this._allProductsStore.getValue(_f8,"id"))();if(_f9){_f2.push(_f9);}},this);}this._productTree.set("paths",_f2).addCallback(_bc.hitch(this,_fa));}function _fa(_fb){var _fc=_bd.filter(_fb,function(arr){return arr[0];});_bd.forEach(_fc,function(arr){var _fd=arr[1];try{if(_fd){this._productTree.toggleNode(_fd,true);}}catch(error){}},this);};function _f7(_fe){var _ff=null,_f4=this._productTree.model.store._getItemByIdentity(_fe);if(_f4){var _100=_cd.getParentChain(_f4,this._productTree.model.store);_ff=_bd.map(_100,function(p){return _cd.getIdentity(p,this._productTree.model.store);},this);_ff.unshift(this._productTree.model.rootId);}return _ff;};},_getSelectedProducts:function(){if(!this._productTree){return [];}var _101=[];var _102=this._productTree.dndController.getSelectedTreeNodes();_bd.forEach(_102,function(node){if(!_c0.contains(node.checkboxNode.domNode,"hidden")&&node!=this._productTree.rootNode){var _103=node.getParent();var _104=_103.checkboxNode.get("checked");if((_103===this._productTree.rootNode)||!(_103&&_104===true)||(_104===true&&_c0.contains(_103.checkboxNode.domNode,"hidden"))){if(node.item.id){var _105=node.item.id[0];_101.push(_105);}}}},this);return _101;},_applySelection:function(){var term=_cf.getSearchTerm();var tag=_cf.getSearchTag();var _106=[];for(var _107 in this.selectedProducts){_106.push(_107);}if(_106.length){var _108={};_bd.forEach(_106,function(_109){var _10a=this._allProductsStore._getItemByIdentity(_109);if(_10a){var _10b=this._allProductsStore.getValue(_10a,"parentId"),_10c=this._allProductsStore._getItemByIdentity(_10b);if(_10b&&_d0.isCheckable(_10c,this._allProductsStore)){if(!_108[_10b]){_108[_10b]=[];}_108[_10b].push(_109);}}},this);for(var _10d in _108){var _10e=this._allProductsStore._getItemByIdentity(_10d),_10f=_108[_10d],_110=this._allProductsStore.getValues(_10e,"items");if(_10f.length===_110.length){var _111=_106;_106=[_10d];_bd.forEach(_111,function(_112){if(_bd.indexOf(_10f,_112)===-1&&_112!==_10d){_106.push(_112);}});}}}_106.sort();tag.product=_106;var _113=_cf.getSearchModel(term,_106,tag);var args=[_c9.CONTENT_SEARCH,_c9.ACTION_PRODUCT_COLLECTION_APPLY,{},_113];_c7.publish(_c8.KC_ACTION,args);if(_c6.active==_c9.CONTENT_SEARCH){_c7.publish(_c8.KC_SEARCH,[_c9.SOURCE_SEARCH_FILTER_PANE,_113,true]);_c7.publish(_c8.KC_FOCUS,[_c9.ACTION_FOCUS_SEARCH]);}else{_c7.publish(_c8.KC_FILTER,[_c9.CONTENT_SEARCH,_113,true]);}},_clearAll:function(){this.selectedProducts={};var _114=this._productTree.dndController.getSelectedTreeNodes();_bd.forEach(_114,function(node){this._productTree.toggleNode(node,false);},this);this._filterInputBox.value="";this._filterInputBox.focus();this._createFilter();this.initialTree=true;return false;},_onCancel:function(){this._filterInputBox.value="";this._createFilter();this.initialTree=true;},_onKeyUp:function(e){var key=e.keyCode;var _115=!((key==_d1.ENTER)||(key==_d1.UP_ARROW)||(key==_d1.DOWN_ARROW)||(key==_d1.LEFT_ARROW)||(key==_d1.RIGHT_ARROW));var _116=e.target.value;if(_116!=this._lastValue){if(_115&&(_116.length>=3)&&(_116!=(""||" "))){this._createFilter(_116);this.initialTree=false;}else{if(!this.initialTree){this._createFilter();this.initialTree=true;}}}this._lastValue=_116;},_updateCounter:function(){var _117=this._getSelectedProducts();this.selectCount=0;_bd.forEach(_117,function(pID){var i=this._productTree.model.store._getItemByIdentity(pID);var c=_cd.getChildren(i,this._productTree.model.store);c?this.selectCount+=c.length:this.selectCount+=1;},this);if(this.dialog&&this.dialog.domNode){_c4("#treeSelectCounter",this.dialog.domNode)[0].innerHTML=_bb.substitute(this._filterCounterLabel,[this.selectCount]);}},show:function(){this.dialog=_b9.__showConfirmationDialog(this._filterDialogNameLabel.split(".").join(""),undefined,{callback:_bc.hitch(this,this._applySelection),label:this.getString("ACTION_APPLY")},{callback:_bc.hitch(this,this._clearAll),label:this.getString("FILTER_ROW_PRODUCT_CLEAR")},{callback:_bc.hitch(this,this._onCancel),label:this.getString("ACTION_CANCEL")},false,false,this.domNode);_bf.set(this.dialog.domNode,"aria-describedby","filterDialogDescription");_c0.add(_c4(".dijitDialogPaneContent",this.dialog.domNode)[0],"filterDialog");var _118=_c4(".dijitDialogPaneActionBar",this.dialog.domNode)[0];this._setProductInfo();this._setProduct();var _119=_c1.getMarginBox(this._treeWrapper.parentNode);var _11a=_c1.getMarginBox(this.filterDialogDescription);var _11b=_c1.getMarginBox(this.filterSearchNode);var _11c=_119.h-_11a.h-_11b.h;var box={h:_11c};_c1.setMarginBox(this._treeWrapper,box);}});});},"idx/oneui/form/_InputListMixin":function(){define("idx/oneui/form/_InputListMixin",["dojo/_base/declare","dojo/_base/kernel","dojo/_base/array","dojo/_base/sniff","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/query","dojo/i18n","dijit/Tooltip","dojo/i18n!./nls/_InputListMixin"],function(_11d,_11e,_11f,has,_120,_121,_122,_123,i18n,_124){return _11d("idx.oneui.form._InputListMixin",null,{instantValidate:true,groupAlignment:"vertical",lastFocusedChild:null,postCreate:function(){this.extension={"input":"onChange","blur":"_onBlur","focus":"_onFocus"};if(this.instantValidate){this.connect(this,"_onFocus",function(){if(this.message==""){return;}this.displayMessage(this.message);});}this.inherited(arguments);this.connect(this,"focusChild",function(){this.lastFocusedChild=this.focusedChild;});_120.set(this.stateNode,{tabIndex:-1});this.initLoaded=true;},setStore:function(_125,_126,_127){this.inherited(arguments);var _128=function(_129){var _12a=_11f.map(_129,function(item){return item.value[0];});if(_12a.length){this.set("value",_12a);}};this.store.fetch({query:{selected:true},onComplete:_128,scope:this});},postMixInProperties:function(){this.inherited(arguments);this._nlsResources=i18n.getLocalization("idx.oneui.form","_InputListMixin",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this._nlsResources.invalidMessage;}},_fillContent:function(){var opts=this.options;if(!opts){opts=this.options=this.srcNodeRef?_123("> *",this.srcNodeRef).map(function(node){if(node.getAttribute("type")==="separator"){return {value:"",label:"",selected:false,disabled:false};}return {value:(node.getAttribute("data-"+_11e._scopeName+"-value")||node.getAttribute("value")),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};},this):[];}if(!this.value){this._set("value",this._getValueFromOpts());}else{if(this.multiple&&typeof this.value=="string"){this._set("value",this.value.split(","));}}},_getValueFromOpts:function(){var opts=this.getOptions()||[];if(!this.multiple&&opts.length){var opt=_11f.filter(opts,function(i){return i.selected&&i.selected!=="false";})[0];if(opt&&opt.value){return opt.value;}}else{if(this.multiple){return _11f.map(_11f.filter(opts,function(i){return i.selected&&i.selected!=="false";}),function(i){return i.value;})||[];}}return "";},onAfterAddOptionItem:function(item,_12b){},onChange:function(_12c){this.validate(this.focused);},reset:function(){this.inherited(arguments);_124.hide(this.oneuiBaseNode);_124.hide(this.iconNode);},_onMouseDown:function(e){this.mouseFocus=true;_120.set(this.domNode,"tabIndex","-1");if(has("ie")<9||has("quirks")){e.cancelBubble=true;}else{e.stopPropagation();}},_onContainerFocus:function(evt){if(evt.target!==this.domNode){return;}if(!this.mouseFocus){if(this.lastFocusedChild){this.focusChild(this.lastFocusedChild);}else{this.focusFirstChild();}}_120.set(this.domNode,"tabIndex","-1");},_updateSelection:function(){this.inherited(arguments);_120.set(this.valueNode,"value",this.value);_11f.forEach(this._getChildren(),function(item){item._updateBox();});},_getChildren:function(){return this.getChildren();},invertSelection:function(_12d){_11f.forEach(this.options,function(i){i.selected=!i.selected;});this._updateSelection();this._handleOnChange(this.value);},_setDisabledAttr:function(_12e){this.inherited(arguments);_12e||_120.remove(this.valueNode,"disabled");_11f.forEach(this.getChildren(),function(node){if(node&&node.set){node.set("disabled",_12e);}});},_setReadOnlyAttr:function(_12f){this.inherited(arguments);_11f.forEach(this.getChildren(),function(node){if(node&&node.set){node.set("readOnly",_12f);}});},_setGroupAlignmentAttr:function(_130){this._set("groupAlignment",_130);_11f.forEach(this.getChildren(),function(item){_121.toggle(item.domNode,"dijitInline",!(_130=="vertical"));},this);},_setRequiredAttr:function(_131){this._set("required",_131);this.inherited(arguments);},_isEmpty:function(){if(this.initLoaded){return false;}return this.value=="";},_relayout:function(node){_122.set(node,"zoom","1");_122.set(node,"zoom","");},startup:function(){this.inherited(arguments);this.initLoaded=false;},displayMessage:function(_132){_124.hide(this.oneuiBaseNode);_124.hide(this.iconNode);if(_132){var node=_122.set(this.iconNode,"visibility")=="hidden"?this.oneuiBaseNode:this.iconNode;_124.show(_132,node,this.tooltipPosition,!this.isLeftToRight());}},uninitialize:function(){_124.hide(this.domNode);_11f.forEach(this._getChildren(),function(_133){_133.destroyRecursive();});this.inherited(arguments);}});});},"kc/frame/ToolBar":function(){require({cache:{"url:kc/frame/templates/ToolBar.html":"<div>\n\t<div class=\"navigationToggleContainer\" data-dojo-attach-point=\"_navigationToggleContainer\">\n\t\t<div class=\"displayInlineBlock\" data-dojo-attach-point=\"_navigationToggleIcon\"></div>\n\t\t<div class=\"displayInlineBlock navigationToggleContainerLink\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_navigationToggle\" data-dojo-props=\"'aria-live': 'polite'\"><img data-dojo-attach-point=\"_navigationToggleImage\"></div>\n\t</div>\n\t<div data-dojo-type=\"dijit.layout.StackContainer\" doLayout=\"true\" data-dojo-attach-point=\"_actionBarContainer\" data-dojo-props=\"'class':'actionBarContainer'\">\n\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" data-dojo-attach-point=\"_noActions\"></div>\n\t\t<div data-dojo-attach-point=\"_searchActionsPlaceholder\"></div>\n\t\t<div data-dojo-attach-point=\"_topicActionsPlaceholder\"></div>\n\t\t<div data-dojo-attach-point=\"_collectionActionsPlaceholder\"></div>\n\t\t<div data-dojo-attach-point=\"_welcomeActionsPlaceholder\"></div>\n\t</div>\n</div>","url:kc/widget/common/templates/ActionBar.html":"<div class=\"{{actionBarClass}}\" data-dojo-attach-point=\"_actionbar\">\n\n\t{% block actionPlaceholderBeginning %}\n\t{% endblock %}\n\n\t{% if _hasLanguageAction %} \t\n\t\t{% block beforeLanguageAction %}\n\t\t{% endblock %}\n\t\t{% block languageAction %}\n\t\t <!-- This is used by Welcome and Topic action bars -->\n\t\t <div class=\"toolBarAction toolBarLanguageMenu\" data-dojo-attach-point=\"_languageMenu\" data-dojo-type=\"idx.oneui.form.Select\" maxHeight=\"300\" title=\"{{languageTitle}}\"  label=\"{{languageLabel}}\">\n\t\t </div>\n\t\t \n\t\t{% endblock %}\n\t\t{% block afterLanguageAction %}\n\t\t{% endblock %}\n\t{% endif %}\n\n\t{% if _hasShareAction %} \n\t\t{% block beforeShareAction %}\n\t\t{% endblock %}\t\n\t\t{% block shareAction %}\n\t\t <!-- This is used by Welcome, Topic action bars -->\n\t\t <div class=\"toolBarAction\" data-dojo-type=\"idx.form.DropDownLink\" label=\"{{shareLabel}}\">\n\t\t \t<div data-dojo-type=\"dijit.Menu\" data-dojo-attach-point=\"_shareMenu\">\t\t\t\t\t\t\n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_shareEmail\" label=\"{{emailLabel}}\"></div>\n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_shareLinkedIn\" label=\"{{linkedInLabel}}\"></div>\n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_shareTwitter\" label=\"{{twitterLabel}}\"></div>\n\t\t\t\t<!-- \n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_shareFacebook\" label=\"{{facebookLabel}}\"></div>\n\t\t\t\t -->\n\t\t\t</div>\n\t\t </div>\n\t\t{% endblock %} \t\t\n\t\t{% block afterShareAction %}\n\t\t{% endblock %}\n\t{% endif %}\n\n\t{% block actionPlaceholderEnd %}\n\t{% endblock %}\t\n\t \n</div>"}});define("kc/frame/ToolBar",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","kc/widget/common/KCWidget","dojo/text!kc/frame/templates/ToolBar.html","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","kc/widget/topic/TopicUtils","idx/util","idx/html","kc/widget/common/_DataHolderMixin","dijit/layout/StackContainer","dijit/layout/ContentPane","dojo/text!kc/widget/common/templates/ActionBar.html"],function(_134,lang,_135,_136,_137,_138,_139,_13a,_13b,_13c,_13d,_13e,_13f,_140,_141,_142,geom,_143){return _134("kc.frame.ToolBar",[_13a],{templateString:_13b,_lastContentName:undefined,_lastModel:undefined,_lastContentAvailabilityState:undefined,_navigationToggleLabelExpand:null,_navigationToggleLabelCollapse:null,constructor:function(){this._lastContentAvailabilityState={};},_initializeStrings:function(){this._navigationToggleLabelExpand=" "+this.getString("ACTION_NAV_SHOW");this._navigationToggleLabelCollapse=" "+this.getString("ACTION_NAV_HIDE");},_initializeConnections:function(){this.addConnection(this._navigationToggle,"onClick",this,function(){_13c.publish(_13d.CONSOLE_NAVIGATION);});},_initializeSubscriptions:function(){this.addSubscription(_13d.KC_CONTENT,this,"_showActionBar");this.addSubscription(_13d.CONSOLE_NAVIGATION_RESIZE,this,"_navigationPaneResized");this.addSubscription(_13d.KC_NOTIFICATION,this,"_onNotification");},postCreate:function(){this.inherited(arguments);_136.remove(this._navigationToggle.domNode,"alt");_136.set(this._navigationToggle,"role","button");_136.set(this._navigationToggleImage,"src",_13e.KC_ROOT+"/js/kc/themes/images/hide_show.png");},_showActionBar:function(_144,_145,_146){if(!_145){return;}this._lastContentName=_145;this._lastModel=_146;if(_13f.isString(this._lastContentAvailabilityState[_145])){this.setShowActionBarWidget(this._lastContentAvailabilityState[_145]);}var _147=undefined;var _148=undefined;if(_145===_13e.CONTENT_SEARCH){_147="kc/widget/search/SearchActionBar";_148=this._searchActionsPlaceholder;_13c.publish(_13d.KC_NOTIFICATION,[_13e.CONTENT_SEARCH,_13e.NOTIFICATION_CONTENT_AVAILABLE,this._lastModel]);}else{if(_145===_13e.CONTENT_TOPIC){if(_140.hasHref(_146)){_147="kc/widget/topic/TopicActionBar";_148=this._topicActionsPlaceholder;}}else{if(_145===_13e.CONTENT_COLLECTION){_147="kc/widget/collection/CollectionActionBar";_148=this._collectionActionsPlaceholder;}else{if(_145===_13e.CONTENT_WELCOME){_147="kc/widget/welcome/WelcomeActionBar";_148=this._welcomeActionsPlaceholder;_13c.publish(_13d.KC_NOTIFICATION,[_13e.CONTENT_WELCOME,_13e.NOTIFICATION_CONTENT_AVAILABLE,undefined]);}}}}_135.forEach(this._actionBarContainer.getChildren(),function(_149){if(_149.isInstanceOf(kc.widget.common._DataHolderMixin)){var dc=_149.declaredClass;var acDc="";if(_147){acDc=_147.replace(/\//g,".");}if(dc!==acDc){if(_149.getData()!==undefined){_149.setData(undefined);}}}});if(!_147){this._actionBarContainer.selectChild(this._noActions);return;}require([_147],lang.hitch(this,function(_14a){var bar=_141.getChildWidget(this._actionBarContainer,false,_14a);if(bar){bar.setData(_146);this._actionBarContainer.selectChild(bar);}else{bar=new _14a();bar.startup();bar.setData(_146);_138.place(bar.domNode,_148,"replace");this._actionBarContainer.selectChild(bar);}}));},_onNotification:function(_14b,_14c,_14d){if(this._lastContentName===_14b&&this._lastModel===_14d){this.setShowActionBarWidget(_14c);this._lastContentAvailabilityState[_14b]=_14c;}},setShowActionBarWidget:function(_14e){if(_14e===_13e.NOTIFICATION_CONTENT_AVAILABLE){_13f.setWidgetShow(this._actionBarContainer,true);}else{if(_14e===_13e.NOTIFICATION_CONTENT_NOT_AVAILABLE){_13f.setWidgetShow(this._actionBarContainer,false);}}},_navigationPaneResized:function(_14f){var _150=(_14f==0);var _151=_150?this._navigationToggleLabelExpand:this._navigationToggleLabelCollapse;this._navigationToggle.set("title",_151);this._navigationToggle.set("aria-label",_151);_136.set(this._navigationToggleImage,"alt",_151);if(_14f==0){_14f=189;}_139.setContentSize(this._navigationToggleContainer,{w:_14f-10});}});});},"kc/widget/topic/_TopicContextMenuMixin":function(){define("kc/widget/topic/_TopicContextMenuMixin",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/string","kc/widget/common/_KCi18nMixin","kc/Utils","kc/Messaging","kc/Constants","kc/Topics","kc/URIs","kc/state/KCState","kc/widget/topic/TopicUtils","dijit/Menu","dijit/MenuItem"],function(_152,lang,_153,_154,_155,_156,_157,_158,_159,URIs,_15a,_15b){return _152("kc.widget.topic._TopicContextMenuMixin",[_155],{_createContextMenuItems:function(menu){this.inherited(arguments);menu.addChild(this._createOpenInNewWindowMenuItem());menu.addChild(this._createOpenInNewWindowOnlyContentMenuItem());},_createOpenInNewWindowMenuItem:function(){var self=this;var mi=new dijit.MenuItem({label:this.getString("OPEN_NEW_WINDOW"),onClick:function(e){lang.hitch(self,self._openInNewWindowMenuItemClicked)(this.getData());},onDataChange:function(_15c){var _15d=(lang.hitch(self,self._canOpenInNewWindow)(_15c));this.set("disabled",!_15d);}});return mi;},_createOpenInNewWindowOnlyContentMenuItem:function(){var self=this;var mi=new dijit.MenuItem({label:this.getString("OPEN_NEW_WINDOW_ONLY_CONTENT"),onClick:function(e){lang.hitch(self,self._openInNewWindowOnlyContentMenuItemClicked)(this.getData());},onDataChange:function(_15e){var _15f=(lang.hitch(self,self._canOpenInNewWindow)(_15e));this.set("disabled",!_15f);}});return mi;},_openInNewWindowMenuItemClicked:function(_160){_157.publish(_159.EXTERNAL_OPEN_IN_NEW_WINDOW,[_158.CONTENT_TOPIC,_160]);},_openInNewWindowOnlyContentMenuItemClicked:function(_161){var href=_156.getObject(_158.TOPIC_HREF,_161);href=_15b.decodeHref(href);var url="";var lang=_156.getObject(_158.MODEL_CONTENT_LANGUAGE,_161,_158.KC_LANGUAGE);if(_15b.isExternalHref(href)){url=_15b.getExternalHref(href);}else{if(_156.isEmpty(lang)){url=_154.substitute(URIs.CONTENT,[href]);}else{url=_154.substitute(URIs.CONTENT_WITH_LANGUAGE,[href,lang]);}}_157.publish(_159.EXTERNAL_LINK,[url]);},_canOpenInNewWindow:function(_162){return _15b.hasHref(_162);}});});},"url:kc/widget/topic/templates/TopicActionBar.html":"{% extends actionBarTemplate %}\n\n{% block actionPlaceholderBeginning %}\n\t<div class=\"toolBarAction printIcon imageLink\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_print\" title=\"{{printLabel}}\" label=\"&nbsp;\" accesskey=\"{{ACCESS_KEY_PRINT}}\"></div>\n{% endblock %}\n\t\n{% block actionPlaceholderEnd %}\n \t <div class=\"toolBarAction\" data-dojo-type=\"idx.form.DropDownLink\" data-dojo-attach-point=\"_saveToCollectionMenuLink\" label=\"{{saveToCollectionLabel}}\">\n\t \t<div data-dojo-type=\"dijit.Menu\" data-dojo-attach-point=\"_saveToCollectionMenu\">\t\t\t\t\t\t\n\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_saveToExistingCollection\" label=\"{{saveToExistingCollectionLabel}}\"></div>\n\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_saveToNewCollection\" label=\"{{saveToNewCollectionLabel}}\"></div>\n\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_saveTreeToExistingCollection\" label=\"{{saveTreeToExistingCollectionLabel}}\"></div>\n\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_saveTreeToNewCollection\" label=\"{{saveTreeToNewCollectionLabel}}\"></div>\t\t\t\t\n\t\t</div>\n\t </div>\n\n\t{% if feedbackEnabled %}\n\t\t<div class=\"toolBarAction\" data-dojo-type=\"kc.widget.topic.Rating\" data-dojo-attach-point=\"_rating\" data-dojo-props=\"mode: 'editable', hideZeroBadge: true\"></div>\n\t{% endif %}\n{% endblock %}\n","kc/widget/collection/NewCollectionDialog":function(){require({cache:{"url:kc/widget/collection/templates/NewCollectionDialog.html":"<div>\n\t<!-- TODO add accessibility, tab cycles -->\n\t<div data-dojo-attach-point=\"_form\" data-dojo-type=\"dijit.form.Form\">\n\t\t<label>${title}</label>\n\t\t<div class=\"\" data-dojo-type=\"idx.oneui.form.TextBox\" data-dojo-props=\"trim: true, required: true, maxlength:128\" data-dojo-attach-point=\"_title\"\n\t\t\t\ttype=\"text\" name=\"title\" value=\"\"></div>\n\t</div>\n</div>\n"}});define("kc/widget/collection/NewCollectionDialog",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/query","dojo/dom-construct","dojo/dom-class","kc/widget/common/KCWidget","dojo/text!kc/widget/collection/templates/NewCollectionDialog.html","kc/DialogManager","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","kc/controller/CollectionsController","dijit/form/Form","idx/oneui/form/TextBox"],function(_163,lang,_164,_165,_166,_167,_168,_169,_16a,_16b,_16c,_16d,_16e,_16f){return _163("kc.widget.collection.NewCollectionDialog",[_168],{templateString:_169,_initializeStrings:function(){this.title=this.getString("COLLECTION_TITLE");},show:function(_170,_171,_172){var _173=_16a.showOkCancelDialog(this.getString("TBR_CREATENEWCOLLECTIONDLG"),undefined,lang.hitch(this,function(){if(!this._form.validate()){return false;}var _174=_16f.createCollection(encodeURIComponent(this._title.getValue()),_172);_174.then(lang.hitch(this,function(_175){if(_16e.isFunction(_170)){_170(_175);}}),lang.hitch(this,function(e){if(_16e.isFunction(_170)){_170(undefined);}}));return _174;}),undefined,false,false,this.domNode);_164.forEach(_165(".dijitDialogPaneActionBar",_173.domNode),function(_176){_167.add(_176,"dialogPaneActionBar");_166.place(_176,this._form.domNode,"last");},this);_167.add(_173.containerNode,"dialogPaneContent");}});});},"kc/widget/common/ActionBar":function(){require({cache:{"url:kc/widget/common/templates/ActionBar.html":"<div class=\"{{actionBarClass}}\" data-dojo-attach-point=\"_actionbar\">\n\n\t{% block actionPlaceholderBeginning %}\n\t{% endblock %}\n\n\t{% if _hasLanguageAction %} \t\n\t\t{% block beforeLanguageAction %}\n\t\t{% endblock %}\n\t\t{% block languageAction %}\n\t\t <!-- This is used by Welcome and Topic action bars -->\n\t\t <div class=\"toolBarAction toolBarLanguageMenu\" data-dojo-attach-point=\"_languageMenu\" data-dojo-type=\"idx.oneui.form.Select\" maxHeight=\"300\" title=\"{{languageTitle}}\"  label=\"{{languageLabel}}\">\n\t\t </div>\n\t\t \n\t\t{% endblock %}\n\t\t{% block afterLanguageAction %}\n\t\t{% endblock %}\n\t{% endif %}\n\n\t{% if _hasShareAction %} \n\t\t{% block beforeShareAction %}\n\t\t{% endblock %}\t\n\t\t{% block shareAction %}\n\t\t <!-- This is used by Welcome, Topic action bars -->\n\t\t <div class=\"toolBarAction\" data-dojo-type=\"idx.form.DropDownLink\" label=\"{{shareLabel}}\">\n\t\t \t<div data-dojo-type=\"dijit.Menu\" data-dojo-attach-point=\"_shareMenu\">\t\t\t\t\t\t\n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_shareEmail\" label=\"{{emailLabel}}\"></div>\n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_shareLinkedIn\" label=\"{{linkedInLabel}}\"></div>\n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_shareTwitter\" label=\"{{twitterLabel}}\"></div>\n\t\t\t\t<!-- \n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_shareFacebook\" label=\"{{facebookLabel}}\"></div>\n\t\t\t\t -->\n\t\t\t</div>\n\t\t </div>\n\t\t{% endblock %} \t\t\n\t\t{% block afterShareAction %}\n\t\t{% endblock %}\n\t{% endif %}\n\n\t{% block actionPlaceholderEnd %}\n\t{% endblock %}\t\n\t \n</div>"}});define("kc/widget/common/ActionBar",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/query","dojo/aspect","dojo/string","dojo/json","dojo/dom-class","dojo/dom-attr","kc/widget/common/KCWidgetDTL","kc/widget/common/_DataHolderMixin","dojo/text!kc/widget/common/templates/ActionBar.html","kc/Constants","kc/Messaging","kc/Topics","kc/URIs","kc/Utils","kc/state/KCState","kc/state/StateUtils","dijit/form/DropDownButton","dijit/Menu","dijit/MenuItem","dojox/dtl/tag/logic","dojox/dtl/tag/loader","idx/form/DropDownLink","idx/oneui/form/Select"],function(_177,lang,_178,_179,_17a,_17b,json,_17c,_17d,_17e,_17f,_180,_181,_182,_183,URIs,_184,_185,_186){return _177("kc.widget.common.ActionBar",[_17e,_17f],{templateString:_180,actionBarClass:"",actionBarTemplate:_181.KC_ROOT+"/js/kc/widget/common/templates/ActionBar.html",contentType:undefined,_hasLanguageAction:true,_hasShareAction:true,shareLabel:"",emailLabel:"",linkedInLabel:"",twitterLabel:"",facebookLabel:"",_onLanguageChangeListener:undefined,setData:function(_187){this.inherited(arguments);},_initializeStrings:function(){this.shareLabel=this.getString("ATT_SHARELABEL");this.emailLabel=this.getString("ATT_EMAILLABEL");this.linkedInLabel=this.getString("ATT_LINKEDINLABEL");this.twitterLabel=this.getString("ATT_TWITTERLABEL");this.facebookLabel=this.getString("ATT_FACEBOOKLABEL")+" (not working yet)";this.languageTitle=this.getString("ACTION_AVAILABLE_LANGUAGE");this.languageLabel=this.getString("ACTION_OTHER_LANGUAGES");},_initializeConnections:function(){if(this._hasLanguageAction){this._onLanguageChangeListener=this.addConnection(this._languageMenu,"onChange",this,"_onLanguageChange",false,true);this.addConnection(_17a.after(this._languageMenu,"setStore",lang.hitch(this,this._onLanguageStoreSet),true));}if(this._hasShareAction){this.addConnection(this._shareEmail,"onClick",this,"_onShareEmail");this.addConnection(this._shareLinkedIn,"onClick",this,"_onShareLinkedIn");this.addConnection(this._shareTwitter,"onClick",this,"_onShareTwitter");this.addConnection(this._shareFacebook,"onClick",this,"_onShareFacebook");}},_initializeSubscriptions:function(){},startup:function(){this.inherited(arguments);if(this._languageMenu){this._languageMenu.setAttribute("emptyLabel",this.languageLabel);}},_onLanguageChange:function(_188){_182.publish(_183.KC_LANGUAGE_CHANGE,[_188]);},_onLanguageStoreSet:function(_189,_18a,_18b){_189.fetch({onComplete:lang.hitch(this,function(_18c,_18d){if(_18c.length==0){_17c.add(this._languageMenu.domNode,"hidden");this._languageMenu.setDisabled(true);}else{if(_18c.length==1){_17c.remove(this._languageMenu.domNode,"hidden");this._languageMenu.setDisabled(true);}else{_17c.remove(this._languageMenu.domNode,"hidden");this._languageMenu.setDisabled(false);}}})});},_onShareEmail:function(){var s=this.__computeUrlToShare();var url=_17b.substitute(URIs.SHARE_EMAIL,[s.title,s.url]);_182.publish(_183.EXTERNAL_LINK,[url]);},_onShareLinkedIn:function(){var s=this.__computeUrlToShare();var url=_17b.substitute(URIs.SHARE_LINKEDIN,[s.title,s.url]);_182.publish(_183.EXTERNAL_LINK,[url]);},_onShareTwitter:function(){var s=this.__computeUrlToShare();var url=_17b.substitute(URIs.SHARE_TWITTER,[s.title+" "+s.url]);_182.publish(_183.EXTERNAL_LINK,[url]);},_onShareFacebook:function(){},__computeUrlToShare:function(){var _18e=_186.modelToBrowserState(this.contentType,this.getData());_18e.language=_184.getObject(_181.MODEL_CONTENT_LANGUAGE,this.getData(),_181.KC_LANGUAGE);var url=encodeURIComponent(_186.browserStateToExternalUrl(_18e,false));var _18f=encodeURIComponent(_18e.title);return {url:url,title:_18f};},_registerPublishActionEvent:function(_190,_191){this.addConnection(_190,"onClick",this,lang.hitch(this,function(_192){this._publishActionEvent(_192);},_191));},_publishActionEvent:function(_193,_194){if(_184.isEmpty(_194)){_194={};}var args=[this.contentType,_193,_194,this.getData()];_182.publish(_183.KC_ACTION,args);},_disableLanguageMenu:function(){_17c.remove(this._languageMenu._popupStateNode,"toolBarLanguageMenu");_17c.add(this._languageMenu._popupStateNode,"toolBarLanguageMenuDisabled");this._languageMenu.set("disabled",true);},_enableLanguageMenu:function(){_17c.remove(this._languageMenu._popupStateNode,"toolBarLanguageMenuDisabled");_17c.add(this._languageMenu._popupStateNode,"toolBarLanguageMenu");this._languageMenu.set("disabled",false);}});});},"url:kc/widget/common/templates/HealthCheckAlert.html":"<div data-dojo-attach-point=\"_healthCheckContainer\" class=\"healthCheckContainer hidden\">\n\t<div data-dojo-attach-point=\"_healthCheckAlert\" \n\t\t\tdata-dojo-type=\"dijit.form.Button\"\n\t\t\tlabel=\"${buttonLabel}\"\n\t\t\tshowLabel=\"false\"\n\t\t\ticonClass=\"healthCheckWarning\">\n\t</div>\n</div>","kc/widget/navigation/TOC":function(){require({cache:{"url:kc/widget/navigation/templates/TOC.html":"<div class=\"\">\n\t<div data-dojo-type=\"kc.widget.navigation.BreadcrumbController\" class=\"tocBreadcrumb\" data-dojo-attach-point=\"_tocBreadcrumb\" data-dojo-props=\"containerId:'tocContentContainer'\" aria-label=\"${_productsMessage}\"></div>\n\n\t<div class=\"currentProductLabel\"  id=\"currentProductLabel\" data-dojo-attach-point=\"_currentProductLabel\">${_productsMessage}</div>\n\t\t\n\t<div data-dojo-type=\"dijit.layout.StackContainer\" class=\"tocContentContainer\" id=\"tocContentContainer\" data-dojo-attach-point=\"_tocContentContainer\" doLayout=\"true\" style=\"width: 100%; height: 100%;\"></div>\n</div>\t\n"}});define("kc/widget/navigation/TOC",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/_base/array","dojo/topic","dojo/dom-class","kc/widget/common/KCWidget","dojo/text!kc/widget/navigation/templates/TOC.html","kc/Messaging","kc/Topics","kc/Constants","kc/state/KCState","kc/URIs","kc/Utils","kc/widget/topic/TopicUtils","dijit/layout/_LayoutWidget","kc/model/TOCContent","kc/widget/navigation/BreadcrumbController","dijit/layout/StackContainer","dijit/layout/ContentPane","dijit/form/Button","kc/widget/navigation/TOCContent","kc/widget/navigation/TopicTOCSynchronizer","kc/model/Topic"],function(_195,lang,_196,_197,_198,_199,_19a,_19b,_19c,_19d,_19e,_19f,URIs,_1a0,_1a1,_1a2){return _195("kc.widget.navigation.TOC",[_19a],{templateString:_19b,_kcTaxonomyTOCContent:null,_topicTOCSynchronizer:null,postMixInProperties:function(){this.inherited(arguments);this._topicTOCSynchronizer=new kc.widget.navigation.TopicTOCSynchronizer();},postCreate:function(){this.inherited(arguments);},_initializeStrings:function(){this._productsMessage=this.getString("PRODUCTS");},_initializeConnections:function(){this.addConnection(_196.around(this._tocContentContainer,"addChild",function(){return function(_1a3,_1a4){_1a2.prototype.addChild.apply(this,arguments);if(this._started){_198.publish(this.id+"-addChild",_1a3,_1a4);this.layout();}};}));this.addConnection(_196.after(this._tocBreadcrumb,"onSelectChild",lang.hitch(this,function(){var _1a5=this._tocBreadcrumb.getChildren().length;if(_1a5==1){this._currentProductLabel.innerHTML=this._productsMessage;_199.remove(this._currentProductLabel,"currentProductLabelWithBorder");_199.add(this._tocBreadcrumb.domNode,"hidden");}else{_199.add(this._currentProductLabel,"currentProductLabelWithBorder");_199.remove(this._tocBreadcrumb.domNode,"hidden");}})));this.addConnection(this._tocBreadcrumb,"onSelectChild",this,this._tocChange);this.addConnection(this._tocBreadcrumb,"onButtonClick",this,this._tocBreadcrumbClicked);},_initializeSubscriptions:function(){this.addSubscription(_19d.CONSOLE_TOC,this,"_showTOC");this.addSubscription(_19d.KC_TOC,this,"_showTOCContent");},startup:function(){this.inherited(arguments);this._topicTOCSynchronizer.startup();var _1a6=new kc.model.TOCContent({id:_19e.TAXONOMY_TREE_TOC_CONTENT_ID,title:this._productsMessage});this._kcTaxonomyTOCContent=new kc.widget.navigation.TOCContent();this._kcTaxonomyTOCContent.setData(_1a6);this._tocContentContainer.addChild(this._kcTaxonomyTOCContent,0);},_showTOC:function(){this._tocContentContainer.selectChild(this._kcTaxonomyTOCContent);},_showTOCContent:function(_1a7,_1a8){if(_1a8){var _1a9=_197.map(this._tocContentContainer.getChildren(),function(_1aa){return _1aa.getData();});var _1ab=_1a0.indexOfByProperty(_1a9,_19e.TOC_ID,_1a0.getObject(_19e.TOC_ID,_1a8));var tc=undefined;if(_1ab>-1){tc=this._tocContentContainer.getChildren()[_1ab];this._tocContentContainer.selectChild(tc);}else{var _1ac=new kc.widget.navigation.TOCContent();_1ac.setData(_1a8);this._tocContentContainer.addChild(_1ac);if(_1a8.loadOnAdd){this._tocContentContainer.selectChild(_1ac);}tc=_1ac;}if(tc&&_1a0.isFunction(tc.focus)&&_1a7===_19e.SOURCE_NAVIGATION_TOC){tc.focus();}}},_tocChange:function(page){var _1ad=_1a0.getObject(_19e.TOC_TITLE,page.getData(),this.getString("SEARCH_RESULT_NA"));this._currentProductLabel.innerHTML=_1ad;var _1ae=_197.map(this._tocContentContainer.getChildren(),function(_1af){return _1af.getData();});_19c.publish(_19d.KC_TOC_CHANGE,[_1ae]);},_tocBreadcrumbClicked:function(page){var _1b0=_197.map(this._tocContentContainer.getChildren(),function(_1b1){return _1b1.getData();});var _1b2=_1b0[_1b0.length-1];if(this._kcTaxonomyTOCContent.getData()===_1b2){_19c.publish(_19d.KC_WELCOME,[_19e.SOURCE_NAVIGATION_TOC]);}else{if(_1b2){var _1b3=_1a1.hasHref(_1b2);if(_1b3){var _1b4=new kc.model.Topic();_1a0.copyProperties(_1b2,_1b4);_19c.publish(_19d.KC_TOPIC,[_19e.SOURCE_NAVIGATION_TOC,_1b4]);}}}if(page&&_1a0.isFunction(page.focus)){page.focus();}},uninitialize:function(){if(this._topicTOCSynchronizer&&_1a0.isFunction(this._topicTOCSynchronizer.destroy)){this._topicTOCSynchronizer.destroy();}this.inherited(arguments);}});});},"kc/model/TOCContent":function(){define("kc/model/TOCContent",["dojo/_base/declare","kc/model/KCModel","kc/Constants","kc/Utils"],function(_1b5,_1b6,_1b7,_1b8){return _1b5("kc.model.TOCContent",[_1b6],{id:undefined,title:undefined,href:undefined,isProductLanding:false,contextPath:undefined,loadOnAdd:false,constructor:function(){}});});},"dijit/form/RadioButton":function(){define("dijit/form/RadioButton",["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_1b9,_1ba,_1bb){return _1b9("dijit.form.RadioButton",[_1ba,_1bb],{baseClass:"dijitRadio"});});},"url:kc/widget/search/templates/SearchPagination.html":"<div class=\"searchPaginationContainer\" data-dojo-attach-point=\"paginatorBar\">\n\t<table cellspacing=\"0\" cellpadding=\"0\" class=\"dojoxGridPaginator\" role=\"presentation\">\n\t\t<tr>\n\t\t\t<td class=\"dojoxGridDescriptionTd\">\n\t\t\t\t<div class=\"dojoxGridDescription\" tabindex=\"0\" data-dojo-attach-point=\"descriptionDiv\"></div>\n\t\t\t</td>\n\t\t\t<td class=\"dojoxGridPaginatorFastStep\">\n\t\t\t\t<div class=\"dojoxGridPaginatorStep\">\n\t\t\t\t\t<span data-dojo-attach-point=\"_pageNoContainer\"></span>\n\t\t\t\t\t<div class=\"searchNextPage\" id=\"sr_nextpage\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_nextPage\">${_nextPageLabel}</div>\n\t\t\t\t\t<div class=\"dojoxGridWardButton dojoxGridnextPageBtn searchNextPageIcon\" data-dojo-attach-point=\"_nextPageIcon\" title=\"${_nextPageLabel}\" aria-label=\"${_nextPageLabel}\">\n\t\t\t\t\t\t<span class=\"dojoxGridWardButtonInner\">></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</table>\n</div>","kc/widget/common/SignInDialog":function(){require({cache:{"url:kc/widget/common/templates/SignInDialog.html":"<div>\n\t<div data-dojo-type=\"idx.oneui.Dialog\" data-dojo-attach-point=\"_dialog\" class=\"signInDialog\" data-dojo-props=\"\n\t\t\ttitle: '${titleLabel}', \n\t\t\tcloseButtonLabel: '${cancelLabel}',\n\t\t\treference: {\n\t\t\t\tname: '${registerLabel}',\n\t\t\t\tlink: '${registerUrl}'\n\t\t\t}\n\t\t\">\n\t\t<div data-dojo-attach-point=\"_form\" data-dojo-type=\"dijit.form.Form\">\n\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" class=\"signInDialogContent\">\n\t\t\t<div class=\"floatLeading\" style=\"width: 50%\">\n\t\t\t\t<input class=\"signintext\" data-dojo-type=\"kc.widget.common.TextBoxWithoutPopup\" data-dojo-props=\"required: true\" data-dojo-attach-point=\"_username\"\n\t\t\t\t\t\ttype=\"text\" name=\"username\" id=\"username\" value=\"\" label=\"${usernameLabel}\" tabIndex=\"1\"/>\n            \t<a data-dojo-attach-point=\"_reghelp\" class=\"helpLink\" href=\"${forgotIDUrl}\" target=\"_blank\" tabIndex=\"5\">${forgotIBMIDLabel}</a>\t\t\t\t\n\t\t\t</div>\n\n\t\t\t<div class=\"floatTrailing\" style=\"width: 50%\">\n\t\t\t\t<input class=\"signintext\" data-dojo-type=\"kc.widget.common.TextBoxWithoutPopup\" data-dojo-props=\"required: true\" data-dojo-attach-point=\"_password\" autocomplete=\"off\"\n\t\t\t\t\t\ttype=\"password\" name=\"password\" id=\"password\" maxlength=\"31\" value=\"\" label=\"${passwordLabel}\" tabIndex=\"2\"/>\n\t\t\t\t<input type=\"hidden\" value=\"pwd\" name=\"login-form-type\"/>\n            \t<a data-dojo-attach-point=\"_forgot\" class=\"helpLink\" href=\"${forgotPasswordUrl}\" target=\"_blank\" tabIndex=\"6\">${forgotPasswordLabel}</a>\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"clearBoth\"></div>\n\t\t\t<a class=\"signInMsg displayBlock\" id=\"signInMsg\" dojoAttachPoint='statusNode' href='javascript:void(0);'>&nbsp;</a>\t\t\t\t\n\t\t</div>\n\t\t\n\t\t<div data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"_signInButton\" data-dojo-props=\"label: '${submitLabel}'\" tabIndex=\"3\">\n\t\t</div>\n\t\t</div>\n\t</div>\n\n</div>"}});define("kc/widget/common/SignInDialog",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/query","dojo/dom-construct","dojo/_base/Deferred","dojo/aspect","dijit/focus","dojo/dom-attr","dojo/dom-class","dijit/registry","kc/widget/common/KCWidget","dojo/text!kc/widget/common/templates/SignInDialog.html","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","kc/controller/AuthenticationController","kc/state/KCState","dojox/mobile/sniff","dojo/_base/window","dojo/window","dojo/dom-geometry","dojo/dom-style","kc/DialogManager","idx/oneui/Dialog","dijit/form/Form","dijit/form/Button","kc/widget/common/TextBoxWithoutPopup","dijit/layout/ContentPane","dojox/encoding/digests/_base","dojox/string/BidiComplex"],function(_1bc,lang,_1bd,_1be,_1bf,_1c0,_1c1,_1c2,_1c3,_1c4,_1c5,_1c6,_1c7,_1c8,_1c9,_1ca,_1cb,_1cc,_1cd,has,win,_1ce,_1cf,_1d0,_1d1){return _1bc("kc.widget.common.SignInDialog",[_1c6],{templateString:_1c7,buildRendering:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._dialog.addButton(this._signInButton);_1c3.set(this._dialog.reference,"target","_blank");_1c3.set(this._dialog.closeButton,"tabIndex","8");_1c3.set(this._reghelp,"tabIndex","4");_1c3.set(this._forgot,"tabIndex","5");_1c3.set(this.statusNode,"tabIndex","6");_1c3.set(this.statusNode,"role","log");_1c3.set(this.statusNode,"aria-live","polite");_1c3.set(this._dialog.reference,"tabIndex","7");if(has("ios")){var _1d2=this._username.textbox;var _1d3=this._password.textbox;this._dialog._position=function(){if(document.activeElement!=_1d2&&document.activeElement!=_1d3&&!_1c4.contains(win.body(),"dojoMove")){var node=this.domNode,_1d4=_1ce.getBox(),p=this._relativePosition,bb=p?null:_1cf.position(node),l=Math.floor(_1d4.l+(p?p.x:(_1d4.w-bb.w)/2)),t=Math.floor(_1d4.t+(p?p.y:(_1d4.h-bb.h)/2));_1d0.set(node,{left:l+"px",top:t+"px"});}};}_1bd.forEach(_1be(".dijitDialogPaneActionBar",this._dialog.domNode),function(_1d5){_1c4.add(_1d5,"dialogPaneActionBar");_1bf.place(_1d5,this._form.domNode,"last");},this);_1c4.add(this._dialog.contentWrapper,"signInDialogPaneContentWrapper");},_initializeStrings:function(){this.titleLabel=_1cb.escapeQuotes(this.getString("LGI_SIGNIN_DIALOG_TITLE"));this.submitLabel=_1cb.escapeQuotes(this.getString("ACTION_SUBMIT"));this.cancelLabel=_1cb.escapeQuotes(this.getString("ACTION_CANCEL"));this.registerLabel=_1cb.escapeQuotes(this.getString("LGI_REGISTER"));this.usernameLabel=this.getString("LGI_USERNAMELABEL");this.passwordLabel=this.getString("LGI_PASSWORDLABEL");this.successMsg=this.getString("LGI_SUCCEEDEDMSG");this.forgotIBMIDLabel=this.getString("LGI_FORGETIBMID");this.forgotPasswordLabel=this.getString("LGI_FORGETIBMPASSWORD");this.signinError=this.getString("SIGNIN_ERROR");this.signinInvalid=this.getString("SIGNIN_INVALID");this.serviceUnavailable=this.getString("ERROR_AUTHENTICATION_SERVER");this.idPassInvalid=this.getString("ERROR_AUTHENTICATION_SERVER");this.authenticateMsg=this.getString("LGI_AUTHENTICATEMSG");this.forgotIDUrl=_1ca.getServerProperty(_1ca.SERVER_PROPERTY_KEY_FORGOTID_URL,"");this.forgotPasswordUrl=_1ca.getServerProperty(_1ca.SERVER_PROPERTY_KEY_FORGOTPASSWORD_URL,"");this.registerUrl=_1ca.getServerProperty(_1ca.SERVER_PROPERTY_KEY_REGISTER_URL,"");},_initializeConnections:function(){var self=this;this.addConnection(_1c1.around(this._dialog,"onEnter",function(){return function(){self._signIn();};}));this.addConnection(this._dialog,"onCancel",this,"cancel");this.addConnection(this._signInButton,"onClick",this,"_signIn");this.addConnection(this.containerNode,"onkeypress",this,"_keypress");this.addConnection(this.statusNode,"onClick",this,"_showErrorMessageDetail");this.addConnection(this.statusNode,"onkeypress",this,lang.hitch(this,function(evt){var key=evt.keyCode;if(key==dojo.keys.ENTER){this._showErrorMessageDetail();evt.stopPropagation();}}));},_initializeSubscriptions:function(){},startup:function(){this.inherited(arguments);dojox.string.BidiComplex.attachInput(this._username.focusNode,"EMAIL");_1c3.set(this.statusNode,"aria-label",this.titleLabel);},dialogShowDeferred:undefined,show:function(){if(this.dialogShowDeferred&&this.dialogShowDeferred.fired!=true){this.dialogShowDeferred.reject({log:false});this.dialogShowDeferred=undefined;}this._username.reset();this._password.reset();this._username._set("state","");this._password._set("state","");this._clearStatus();var d=this._dialog.show();d.then(lang.hitch(this,function(){this._username.focus();}));this.dialogShowDeferred=new _1c0();return this.dialogShowDeferred;},cancel:function(){if(this.dialogShowDeferred&&this.dialogShowDeferred.fired!=true){this.dialogShowDeferred.resolve(_1ca.MESSAGING_CONTINUE_PROPAGATION);this.dialogShowDeferred=undefined;}this._username.reset();this._password.reset();},_signIn:function(){if(!this._form.validate()){return;}_1c4.remove(this.statusNode,"loginRed");_1c4.add(this.statusNode,"loginGreen");_1c4.remove(this.statusNode,"signInMsgWithDetail");this.statusNode.innerHTML=this.authenticateMsg;var _1d6=dojox.string.BidiComplex.stripSpecialCharacters(this._username.getValue())+":"+this._password.getValue();_1d6=dojox.encoding.digests.wordToBase64(dojox.encoding.digests.stringToWord(_1d6));_1cc.signIn(_1d6,lang.hitch(this,"_loginSuc"),lang.hitch(this,"_loginError"));},_loginSuc:function(_1d7,_1d8){_1c4.remove(this.statusNode,"loginRed");_1c4.add(this.statusNode,"loginGreen");this.statusNode.innerHTML=this.successMsg;location.reload();this._dialog.destroy();if(this.dialogShowDeferred&&this.dialogShowDeferred.fired!=true){this.dialogShowDeferred.resolve(_1ca.MESSAGING_STOP_PROPAGATION);this.dialogShowDeferred=undefined;}},_loginError:function(_1d9,_1da){var _1db=_1da.xhr.status;var _1dc="";var _1dd="";if(_1db==401){_1dc=this.signinError;_1dd=_1dc;}else{if(_1db==452){_1dc=this.signinError;_1dd=this.signinInvalid;this._username._set("state","Error");}else{if(_1db==453){_1dc=this.signinError;_1dd=this.signinInvalid;this._password._set("state","Error");}else{_1dc=this.serviceUnavailable;_1dd=_1dc;}}}_1c4.remove(this.statusNode,"loginGreen");_1c4.add(this.statusNode,"loginRed");this.statusNode.innerHTML=_1dc;_1c3.set(this.statusNode,"messageDetail",_1dd);if(_1dc!=_1dd){_1c4.add(this.statusNode,"signInMsgWithDetail");}else{_1c4.remove(this.statusNode,"signInMsgWithDetail");}_1cd.user=undefined;return _1d9;},_showErrorMessageDetail:function(){var _1de=_1c3.get(this.statusNode,"messageDetail");var _1df=this.statusNode.innerHTML;if(!_1cb.isEmpty(_1de)&&!_1cb.isEmpty(_1df)&&_1df!=_1de){_1d1.showTooltip(this.statusNode,_1de,_1ca.TOOLTIP_TIMEOUT);}},_keypress:function(evt){key=evt.keyCode;if(key==dojo.keys.ENTER){this._signIn();}},_clearStatus:function(){this.statusNode.innerHTML="<label class='hidden'>"+this.authenticateMsg+"</label>";_1c3.set(this.statusNode,"messageDetail","");_1c4.remove(this.statusNode,"signInMsgWithDetail");}});});},"url:kc/frame/templates/Header.html":"<div class=\"headerFrameContent idxBanner\">\n\t<div class=\"idxBannerInnerContainer\">\n\t\t<div data-dojo-attach-point=\"_menuContainer\" class=\"menuContainer clickable floatLeading\">\n\t\t\t<span data-dojo-attach-point=\"_logo\" id=\"ibmLogo\" class=\"headerLogo displayInlineBlock ibm-intercept-exit-survey\" tabindex=\"0\" role=\"link\" title=\"{{ibmLogo}}\"></span>\n\t\t\t<span data-dojo-attach-point=\"_ibmMenuDropdown\" class=\"ibmMenuArrowButtonInner  dijitArrowButtonInner displayInlineBlock\" tabindex=\"0\" aria-label=\"{{ibmmenu}}\" role=\"button\">\n\t\t\t\t<span>▼</span>\n\t\t\t</span>\n  \t\t\t<ul role=\"menu\" data-dojo-attach-point=\"_ibmMenu\" id=\"ibmMenu\">\n  \t\t\t\t<li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{analytics}}\" class=\"analytics ibm-intercept-exit-survey\" data-dojo-attach-point=\"_analyticsLink\">{{analytics}}</a></li>\n  \t\t\t\t<li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{cloud}}\" class=\"cloud ibm-intercept-exit-survey\" data-dojo-attach-point=\"_cloudLink\">{{cloud}}</a></li>\n  \t\t\t\t<li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{commerce}}\" class=\"commerce ibm-intercept-exit-survey\" data-dojo-attach-point=\"_commerceLink\">{{commerce}}</a></li>\n  \t\t\t\t<li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{mobilefirst}}\" class=\"mobilefirst ibm-intercept-exit-survey\" data-dojo-attach-point=\"_mobilefirstLink\">{{mobilefirst}}</a></li>\n  \t\t\t\t<li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{security}}\" class=\"security ibm-intercept-exit-survey\" data-dojo-attach-point=\"_securityLink\">{{security}}</a></li>\n  \t\t\t\t<li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{watson}}\" class=\"watson ibm-intercept-exit-survey\" data-dojo-attach-point=\"_watsonLink\">{{watson}}</a></li>\n  \t\t\t\t<li class=\"menu-divider\" tabindex=\"0\"></li>\n\t\t\t    <li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{products_and_solutions}}\" class=\"products_and_solutions ibm-intercept-exit-survey\" data-dojo-attach-point=\"_products_and_solutionsLink\">{{products_and_solutions}}</a></li>\n\t\t\t    <li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{services}}\" class=\"services ibm-intercept-exit-survey\" data-dojo-attach-point=\"_servicesLink\">{{services}}</a></li>\n\t\t\t    <li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{industries}}\" class=\"industries ibm-intercept-exit-survey\" data-dojo-attach-point=\"_industriesLink\">{{industries}}</a></li>\n\t\t\t    <li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{support}}\" class=\"support ibm-intercept-exit-survey\" data-dojo-attach-point=\"_supportLink\">{{support}}</a></li>\n\t\t\t    <li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{account}}\" class=\"account ibm-intercept-exit-survey\" data-dojo-attach-point=\"_accountLink\">{{account}}</a></li>  \t\t\t\n  \t\t\t</ul>\n\t\t</div>\n\t\t<div data-dojo-attach-point=\"containerNode\" class=\"idxBannerContainer\">\n\t\t\t<span data-dojo-attach-point=\"_title\" class=\"productTitle clickable\" tabindex=\"0\">{{productTitle}}</span>\n\t\t</div>\t\t\n\t\t<div data-dojo-attach-point=\"_trailerNode\" class=\"idxBannerTrailer\">\n\t\t\t<div data-dojo-attach-point=\"_actionsContainer\" class=\"actionsContainer\">\n\t\t\t\t<div data-dojo-type=\"kc.widget.common.HealthCheckAlert\"></div>\n\n\t\t\t\t<div data-dojo-attach-point=\"_ownerContainer\" class=\"ownerContainer\">\n\t\t\t\t\t<!-- The user is signed in; display user name -->\n\t\t\t\t\t{% if owner %}\n\t\t\t\t\t\t<!-- For SSO, we don't allow sign out, so only have the label -->\n\t\t\t\t\t\t{% if disableSignOut %}\n\t\t\t\t\t\t\t<span data-dojo-attach-point=\"_username\" class=\"oneUILinkBannerText usernameLabel\">{{usernameLabel}}</span>\n\t\t\t\t\t\t<!-- For local, we allow sign out -->\n\t\t\t\t\t\t{% else %}\n\t\t\t\t\t\t\t<div data-dojo-attach-point=\"_userMenuDropDown\" \n\t\t\t\t\t\t\t\t\tdata-dojo-type=\"dijit.form.DropDownButton\"\n\t\t\t\t\t\t\t\t\ticonClass=\"idxBannerActionButtonIcon\">\n\t\t\t\t\t\t\t\t<span>{{usernameLabel}}</span>\n\t\t\t\t\t\t\t\t<div data-dojo-type=\"dijit.Menu\" data-dojo-attach-point=\"_userMenu\" style=\"display: none;\">\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_signOut\" label=\"{{signOutLabel}}\">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{% endif %}\n\t\t\t\t\t{% else %}\n\t\t\t\t\t\t<div data-dojo-attach-point=\"_signIn\" \n\t\t\t\t\t\t\t\tdata-dojo-type=\"dijit.form.Button\"\n\t\t\t\t\t\t\t\tlabel=\"{{signInLabel}}\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{% endif %}\n\t\t\t\t</div>\n\t\t\t</div> \n\t\t</div>\n\t</div>\n</div>","kc/frame/Navigation":function(){require({cache:{"url:kc/frame/templates/Navigation.html":"<div class=\"navigationFrameContent\" role=\"tablist\">\n \n\t<div class=\"navigationPane tocPane\" data-dojo-type=\"idx.layout.TitlePane\" data-dojo-attach-point=\"_navigationPane\">\n\t\t<div class=\"hidden toc\" data-dojo-type=\"kc.widget.navigation.TOC\" data-dojo-attach-point=\"_toc\"></div>\t\n\t</div>\t\n\t\n\t<div class=\"navigationPane collectionsContainer\" data-dojo-type=\"idx.layout.TitlePane\" data-dojo-attach-point=\"_myCollectionsPane\">\n\t\t<div class=\"hidden collections\" data-dojo-type=\"kc.widget.collection.Collections\" data-dojo-attach-point=\"_collections\"></div>\n\t</div>\n\n\t<div class=\"navigationPane searchResultsContainer\" data-dojo-type=\"idx.layout.TitlePane\" data-dojo-attach-point=\"_searchResultsPane\">\n\t\t<div class=\"hidden searchResultFacets\" data-dojo-type=\"kc.widget.search.SearchResultFacets\" data-dojo-attach-point=\"_searchResultFacets\"></div>\t\t\n\t</div>\n\t\n\t<a data-dojo-attach-point=\"focusAccessKey\" accesskey=\"${ACCESS_KEY_FOCUS_NAVIGATION}\" tabindex=\"-1\" style=\"display:none;\"></a>\n</div>\n"}});define("kc/frame/Navigation",["dojo/_base/declare","dijit/registry","dojo/_base/array","dojo/_base/lang","dojo/keys","dojo/string","dojo/aspect","dojo/json","dojo/query","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dojo/dom-geometry","dojo/dom-attr","dojo/dom-style","kc/widget/common/KCWidget","dojo/text!kc/frame/templates/Navigation.html","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","idx/util","kc/state/KCState","dijit/TitlePane","kc/DialogManager","dojox/mobile/sniff","idx/layout/TitlePane","idx/form/Link","kc/widget/navigation/TOC","kc/widget/search/SearchResultFacets","kc/widget/collection/Collections","kc/widget/collection/CollectionManager","dijit/layout/StackContainer","kc/model/Topic","kc/model/CollectionTopic"],function(_1e0,_1e1,_1e2,lang,keys,_1e3,_1e4,json,_1e5,_1e6,_1e7,_1e8,_1e9,_1e8,_1ea,_1eb,_1ec,_1ed,_1ee,_1ef,_1f0,_1f1,_1f2,_1f3,_1f4,has){return _1e0("kc.frame.Navigation",[_1eb],{templateString:_1ec,kcTitle:undefined,searchResultsTitle:undefined,myCollectionsTitle:undefined,ACCESS_KEY_FOCUS_NAVIGATION:_1ef.ACCESS_KEY_FOCUS_NAVIGATION,openPane:undefined,postCreate:function(){this.inherited(arguments);this.kcTitle=new idx.form.Link({label:this.getString("NAVIGATION_TOC"),accesskey:_1ef.ACCESS_KEY_NAVIGATION_TOC});_1e8.set(this.kcTitle,"tabindex",-1);_1e8.set(this.kcTitle,"role","presentation");_1e8.remove(this.kcTitle.domNode,"wairole");this._setLinkFocus(this.kcTitle);_1e7.add(this.kcTitle.domNode,"navigationTitle");_1e7.add(this.kcTitle.domNode,"ellipseString");this._navigationPane.set("title",this.kcTitle);this._navigationPane.set("aria-posinset","1");this._navigationPane.set("aria-setsize","3");this.myCollectionsTitle=new idx.form.Link({label:this.getString("NAVIGATION_MY_COLLECTIONS"),accesskey:_1ef.ACCESS_KEY_NAVIGATION_MY_COLLECTION});_1e8.set(this.myCollectionsTitle,"tabindex",-1);_1e8.set(this.myCollectionsTitle,"role","presentation");_1e8.remove(this.myCollectionsTitle.domNode,"wairole");this._setLinkFocus(this.myCollectionsTitle);_1e7.add(this.myCollectionsTitle.domNode,"navigationTitle");_1e7.add(this.myCollectionsTitle.domNode,"ellipseString");this._myCollectionsPane.set("title",this.myCollectionsTitle);this._myCollectionsPane.set("aria-posinset","2");this._myCollectionsPane.set("aria-setsize","3");this.searchResultsTitle=new idx.form.Link({label:this.getString("NAVIGATION_SEARCH_RESULTS"),accesskey:_1ef.ACCESS_KEY_NAVIGATION_SEARCH});_1e8.set(this.searchResultsTitle,"tabindex",-1);_1e8.set(this.searchResultsTitle,"role","presentation");_1e8.remove(this.searchResultsTitle.domNode,"wairole");this._setLinkFocus(this.searchResultsTitle);_1e7.add(this.searchResultsTitle.domNode,"navigationTitle");_1e7.add(this.searchResultsTitle.domNode,"ellipseString");this._searchResultsPane.set("title",this.searchResultsTitle);this._searchResultsPane.set("aria-posinset","3");this._searchResultsPane.set("aria-setsize","3");if(has("touch")&&has("chrome")&&has("android")){_1e7.remove(this._navigationPane.domNode,"tocPane");}},_setLinkFocus:function(a){a.connect(a.linkNode,"onclick",function(){a.focus();});},_initializeConnections:function(){this.addConnection(window,"resize",this,"_resize");this._initializeAccessKeysConnections();this._initNavigationAccessibilityKeys();this.addConnection(_1e4.around(this._navigationPane,"toggle",lang.hitch(this,this._paneToggledFromPane,this._navigationPane)));this.addConnection(_1e4.around(this._searchResultsPane,"toggle",lang.hitch(this,this._paneToggledFromPane,this._searchResultsPane)));this.addConnection(_1e4.around(this._myCollectionsPane,"toggle",lang.hitch(this,this._paneToggledFromPane,this._myCollectionsPane)));},_initNavigationAccessibilityKeys:function(){var _1f5=_1e2.map(_1e5(".navigationPane",this.domNode),function(_1f6){var _1f7=_1e1.getEnclosingWidget(_1f6);return _1f7?_1f7.focusNode:null;});_1e2.forEach(_1f5,function(_1f8){this.addConnection(_1f8,"keydown",this,lang.partial(this.hNavigationTabKeyDown,_1f8,_1f5));},this);},_initializeAccessKeysConnections:function(){if(!!_1f1.isWebKit){this.addSubscription(_1ee.KC_ACCESS_KEY,this,function(_1f9){if(_1f9===this.ACCESS_KEY_FOCUS_NAVIGATION){this.hFocusCurrentPane();return;}var pane=null;var link=null;switch(_1f9){case _1ef.ACCESS_KEY_NAVIGATION_TOC:pane=this._navigationPane;link=this.kcTitle;break;case _1ef.ACCESS_KEY_NAVIGATION_SEARCH:pane=this._searchResultsPane;link=this.searchResultsTitle;break;case _1ef.ACCESS_KEY_NAVIGATION_MY_COLLECTION:pane=this._myCollectionsPane;link=this.myCollectionsTitle;break;}if(pane){this._paneToggledFromTitle(pane);}if(link){link.focusNode.focus();}});}this.addConnection(this.kcTitle,"onClick",this,lang.hitch(this,this._paneToggledFromTitle,this._navigationPane));this.addConnection(this.searchResultsTitle,"onClick",this,lang.hitch(this,this._paneToggledFromTitle,this._searchResultsPane));this.addConnection(this.myCollectionsTitle,"onClick",this,lang.hitch(this,this._paneToggledFromTitle,this._myCollectionsPane));this.addConnection(this.focusAccessKey,"click",this,"hFocusCurrentPane");},_initializeSubscriptions:function(){this.addSubscription(_1ee.KC_READY,this,"_ready");this.addSubscription(_1ee.KC_CONTENT,this,"_showPane");this.addSubscription(_1ee.CONSOLE_NAVIGATION_RESIZE,this,"_navigationPaneResized");this.addSubscription(_1ee.KC_NOTIFICATION,this,"_showNotification");this.addSubscription(_1ee.KC_WELCOME,this,"_showTaxonomy");},startup:function(){this.inherited(arguments);},_ready:function(){this._resize();},_lastTab:undefined,_showPane:function(_1fa,tab,_1fb){var _1fc;if(tab===_1ef.CONTENT_SEARCH){_1fc=this._searchResultsPane;}else{if(tab===_1ef.CONTENT_COLLECTION){_1fc=this._myCollectionsPane;}else{if(tab===_1ef.CONTENT_WELCOME){_1fc=this._navigationPane;}else{if(tab===_1ef.CONTENT_TOPIC){if(_1fa===_1ef.SOURCE_NAVIGATION_TOC||_1fa===_1ef.SOURCE_NAVIGATION_TOC_PANE_HEADER){_1fc=this._navigationPane;}else{if(_1f0.instanceOf(_1fb,kc.model.CollectionTopic)){_1fc=this._myCollectionsPane;}else{_1fc=this._navigationPane;}}}else{return;}}}}this._lastTab=tab;if(_1fc===this.openPane){return;}this.openPane=_1fc;this._navigationPane._setOpenAttr(false,true);this._searchResultsPane._setOpenAttr(false,true);this._myCollectionsPane._setOpenAttr(false,true);this.openPane._setOpenAttr(true,true);_1e7.add(this._toc.domNode,"hidden");_1e7.add(this._collections.domNode,"hidden");_1e7.add(this._searchResultFacets.domNode,"hidden");this._setSelected(this._navigationPane,"false");this._setSelected(this._searchResultsPane,"false");this._setSelected(this._myCollectionsPane,"false");this._setSelected(this.openPane,"true");_1e7.remove(this._toc.domNode,"hidden");_1e7.remove(this._collections.domNode,"hidden");_1e7.remove(this._searchResultFacets.domNode,"hidden");this._pushPanes();},_setSelected:function(pane,_1fd){_1e8.set(pane.focusNode,"aria-expanded",_1fd);_1e8.set(pane.focusNode,"aria-selected",_1fd);if(_1fd=="true"){_1e8.set(pane.domNode,"selected","true");_1e8.set(pane.focusNode,"tabindex",0);}else{_1e8.remove(pane.domNode,"selected");_1e8.set(pane.focusNode,"tabindex",-1);}},_paneToggledFromPane:function(pane){return lang.hitch(this,this._paneToggled,pane);},_paneToggledFromTitle:function(pane){this._paneToggled(pane);},_paneToggled:function(pane){if(this.openPane===undefined){return;}if(pane!==this.openPane){if(pane===this._searchResultsPane){this._showLastSearchResults();}else{if(pane===this._navigationPane){this._showLastTopicOrWelcome();}else{if(pane===this._myCollectionsPane){this._showLastCollectionOrWelcome();}}}}},_resize:function(){setTimeout(lang.hitch(this,function(){this._pushPanes();}),50);},_pushPanes:function(){var _1fe=36;var _1ff=_1e9.getContentBox(this.domNode.parentNode).h-(_1fe*2);_1ea.set(this._navigationPane.domNode,"height","auto");_1ea.set(this._searchResultsPane.domNode,"height","auto");_1ea.set(this._myCollectionsPane.domNode,"height","auto");if(this.openPane){_1ea.set(this.openPane.domNode,"height",_1ff+"px");_1e5(".dijitTitlePaneContentOuter",this.openPane.domNode).forEach(function(node){_1ea.set(node,"height",(_1ff-10-_1fe)+"px");_1e8.set(node,"tabindex",-1);});}},_showTaxonomy:function(){_1ed.publish(_1ee.CONSOLE_TOC,[]);},_showKCWelcome:function(_200){_1ed.publish(_1ee.KC_WELCOME,[_1ef.SOURCE_NAVIGATION_TOC_PANE_HEADER]);},_showLastSearchResults:function(_201){var _202=_1f2.getLatestContentModel(_1ef.CONTENT_SEARCH);var term=_1f0.getObject("term",_202);if(!_1f0.isEmpty(term)){_202=lang.clone(_202);_1ed.publish(_1ee.KC_SEARCH,[_1ef.SOURCE_NAVIGATION_SEARCH_FACETS_PANE_HEADER,_202]);}else{this.__showTooltip(this._searchResultsPane.domNode,this.getString("SEARCH_RESULTS_NOT_AVAILABLE"),false);}},_showLastTopicOrWelcome:function(_203){var _204=_1f2.getLatestContentModel(_1ef.CONTENT_TOPIC);if(!_1f0.isEmpty(_204)){var _205=new kc.model.Topic();_1f0.copyProperties(_204,_205);_1ed.publish(_1ee.KC_TOPIC,[_1ef.SOURCE_NAVIGATION_TOC_PANE_HEADER,_205]);}else{this._showKCWelcome();}},_showLastCollectionOrWelcome:function(_206){var _207=_1f2.getLatestContentModel(_1ef.CONTENT_COLLECTION);var _208=_1f2.getLatestContentModel(_1ef.CONTENT_TOPIC);if(!_1f0.isEmpty(_207)){if(!_1f0.isEmpty(_208)&&_1f2.getCollectionContext()===_207){var _209=new kc.model.CollectionTopic();_1f0.copyProperties(_208,_209);_1ed.publish(_1ee.KC_TOPIC,[_1ef.SOURCE_NAVIGATION_COLLECTION_PANE_HEADER,_209]);}else{_207=lang.clone(_207);_1ed.publish(_1ee.KC_COLLECTION,[_1ef.SOURCE_NAVIGATION_COLLECTION_PANE_HEADER,_207]);}}else{this._showMyCollectionsWelcome();}},_showMyCollectionsWelcome:function(_20a){_1ed.publish(_1ee.KC_COLLECTION,[_1ef.SOURCE_NAVIGATION_COLLECTION_PANE_HEADER]);},_navigationPaneResized:function(_20b){var w=_20b-65;_1ea.set(this.myCollectionsTitle.domNode,"width",w+"px");_1ea.set(this.searchResultsTitle.domNode,"width",w+"px");_1ea.set(this.kcTitle.domNode,"width",w+"px");if(this.myCollectionsTitle.domNode.offsetWidth>=this.myCollectionsTitle.domNode.scrollWidth){_1ea.set(this.myCollectionsTitle.domNode,"width","auto");}if(this.searchResultsTitle.domNode.offsetWidth>=this.searchResultsTitle.domNode.scrollWidth){_1ea.set(this.searchResultsTitle.domNode,"width","auto");}if(this.kcTitle.domNode.offsetWidth>=this.kcTitle.domNode.scrollWidth){_1ea.set(this.kcTitle.domNode,"width","auto");}},_showNotification:function(_20c,_20d,_20e){if(_20d===_1ef.ACTION_COLLECTION_SAVE_TOPIC_TO_NEW||_20d===_1ef.ACTION_COLLECTION_SAVE_TOPIC_TO_EXISTING){var node=this._myCollectionsPane.domNode;this.__showTooltip(node,_1e3.substitute(this.getString("COLLECTION_ADD_TOPIC_NOTIFICATION"),[unescape(_1f0.getObject("title",_20e,""))]),true);}else{if(_20d===_1ef.ACTION_COLLECTION_MOVE_TOPIC_TO_EXISTING||_20d===_1ef.ACTION_COLLECTION_MOVE_TOPIC_TO_NEW){var node=this._myCollectionsPane.domNode;this.__showTooltip(node,_1e3.substitute(this.getString("COLLECTION_MOVE_TOPIC_NOTIFICATION"),[unescape(_1f0.getObject("title",_20e,""))]),true);}}},__showTooltip:function(node,_20f,_210){_1f4.showTooltip(node,_20f,_1ef.TOOLTIP_TIMEOUT,_210);},hNavigationTabKeyDown:function(_211,_212,evt){var _213=evt.keyCode;if(_213>34&&_213<41){evt.preventDefault();var _214=0,_215=_1e2.indexOf(_212,_211);switch(_213){case keys.LEFT_ARROW:case keys.UP_ARROW:_214=(_215===0?_212.length:_215)-1;break;case keys.RIGHT_ARROW:case keys.DOWN_ARROW:_214=(_215===_212.length-1?0:_215+1);break;case keys.HOME:_214=0;break;case keys.END:_214=_212.length-1;break;}var _216=_212[_214];if(_216){_216.focus();}}},hFocusCurrentPane:function(){if(this.openPane){this.openPane.focusNode.focus();}}});});},"url:kc/widget/search/templates/FacetTreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\">\n    <div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\" data-dojo-attach-event=\" ondblclick:_onDblClick, onkeypress:_onKeyPress\">\n        <img data-dojo-attach-event=\"onclick:_onClick\" src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"/>\n        <span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"></span>\n        <span data-dojo-attach-point=\"contentNode\" class=\"dijitTreeContent\" role=\"presentation\" data-dojo-attach-event=\"onclick:_onNodeClick\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"/>\n\t\t\t<span data-dojo-attach-point=\"labelNode\"  class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\" data-dojo-attach-event=\"onfocus:_onLabelFocus\"></span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n\n","idx/form/nls/_DateTimeFormatterMixin":function(){define("idx/form/nls/_DateTimeFormatterMixin",{root:({"dateFormat":"mm/dd/yyyy","timeFormat":"hh:mm",idxTimePicker_iconTitle:"Click to open time picker",idxDatePicker_iconTitle:"Click to open date picker"}),"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"es":true,"fi":true,"fr":true,"hu":true,"it":true,"ja":true,"ko":true,"nl":true,"no":true,"pl":true,"pt":true,"pt-br":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-tw":true});},"kc/widget/topic/CommentItem":function(){require({cache:{"url:kc/widget/topic/templates/CommentItem.html":"<div class=\"commentItem\">\n\t<div class=\"commentTitleBar\" data-dojo-attach-point=\"titlebarNode\">\n\t\t<!-- DISABLED FOR KC R1.5 -->\n\t\t<!-- \n\t\t<span data-dojo-type=\"idx.form.Link\" class=\"commentEditLink\" data-dojo-attach-point=\"editLink\">${_commentEditLabel}</span>\n\t\t<span data-dojo-type=\"idx.form.Link\" class=\"commentDeleteLink\" data-dojo-attach-point=\"deleteLink\">${_commentDeleteLabel}</span>\n\t\t -->\n\t\t<span class=\"commentTitle\" data-dojo-attach-point=\"titleNode\"></span> \n\t\t<span class=\"commentInfo\" data-dojo-attach-point=\"author_dateNode\"></span>\n\t</div>\n\t  \n\t<div class=\"commentBody clearBoth\" data-dojo-attach-point=\"bodyNode\">\t\n\t\t<div class=\"commentContent\" data-dojo-attach-point=\"contentNode\"></div>\n\t\t\n\t\t<div>\n\t\t\t<span role=\"button\" data-dojo-type=\"idx.form.Link\" class=\"commentResponseLink\" data-dojo-attach-point=\"replyLink\">${_commentResponseLabel}</span>&nbsp;\n\t\t</div>\n\t\t\n\t\t<div data-dojo-attach-point=\"editorNode\"></div> \n\t</div>\n</div>"}});define("kc/widget/topic/CommentItem",["dojo/_base/declare","dojo/_base/window","idx/html","dojo/_base/array","dijit/registry","kc/widget/common/KCWidget","dojo/text!kc/widget/topic/templates/CommentItem.html","kc/Messaging","kc/controller/AuthenticationController","kc/Topics","kc/Utils","dojo/date/locale","dojo/_base/kernel","dojo/_base/lang","dojo/dom-class","dojo/window","dojo/_base/window","dojo/_base/xhr","kc/widget/topic/CommentEditor","dojo/query","kc/state/KCState","kc/Constants","kc/DialogManager","dijit/form/Button","idx/form/Link","idx/oneui/form/TextBox"],function(_217,dWin,_218,_219,_21a,_21b,_21c,_21d,_21e,_21f,_220,_221,_222,lang,_223,_224,_225,xhr,_226,_227,_228,_229,_22a){return _217("kc.widget.topic.CommentItem",[_21b],{templateString:_21c,topicModel:undefined,postCreate:function(){this.inherited(arguments);},_initializeStrings:function(){this._commentEditLabel=this.getString("ACTION_EDIT");this._commentDeleteLabel=this.getString("ACTION_DELETE");this._commentResponseLabel=this.getString("COMMENT_RESPONSE_LABEL");this._commentTitleLabel=this.getString("CMT_TITLELABEL");this._commentSubmitButtonLabel=this.getString("ACTION_SUBMIT");this._commentCancelButtonLabel=this.getString("ACTION_CANCEL");},_initializeConnections:function(){this.addConnection(this.replyLink,"onClick",this,"_reply");},startup:function(){this.inherited(arguments);this._setData(this.item);},_setData:function(item){this.item=item;if(item.root){return;}this.titleNode.appendChild(_225.doc.createTextNode(item.title[0]));var _22b=item.user?item.user:"";var time="";try{time=_221.format(new Date(Number(item.timestamp)),{selector:"date",formatLength:"long",locale:_222.locale});}catch(error){}this.author_dateNode.innerHTML=this.getString("COMMENT_INFO_LABEL",{author:_22b,time:time});this.contentNode.innerHTML=item.body[0];},_filterContent:function(_22c){var _22d="";if(_22c){_22d=_22c[0].replace(/[&]/g,"&amp;").replace(/[\']/g,"&#039;").replace(/[\"]/g,"&quot;").replace(/[<]/g,"&lt;").replace(/[>]/g,"&gt;");}return _22d;},_reply:function(){this._initEditor("r");},_initEditor:function(type){var _22e=(type=="r"?_229.ACTION_ADD_RESPONSE+"_"+this.item.id[0]:undefined);if(!_228.user){_21d.publish(_21f.KC_SIGN_IN,[_22e]);return;}if(_229.MESSAGING_STOP_PROPAGATION===_21e.checkAuthenticated(_22e)){return;}if(_227(".commentTitleEditor").length){_21d.publish(_21f.KC_COMMENT_EDIT,[]);return;}if(type==="r"){this.editor=new _226({parentId:this.item.id[0],type:type,store:this.store});}else{if(type==="e"){this.editor=new _226({commentId:this.item.id[0],type:type,store:this.store});}}this.editor.startup();this.editor.topicModel=this.topicModel;this.editorNode.appendChild(this.editor.domNode);_224.scrollIntoView(this.editor.domNode);_219.forEach(_227(".dijitButtonNode",this.editor.domNode),function(_22f){_21a.getEnclosingWidget(_22f).scrollOnFocus=false;});}});});},"url:kc/widget/welcome/templates/Welcome.html":"<div dojoAttachPoint=\"containerNode\">\n</div>","url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"onclick:_onClick\"\n/></div>\n","url:kc/widget/collection/templates/CollectionsWelcome.html":"<div class=\"collectionsWelcome\">\n\t<div class=\"welcome_box\">\n\t\t<div class=\"welcome_box_inner\">\n\t\t\t<h1 class=\"welcome_title\">${COLLECTION_WELCOME_TITLE}</h1>\n\t\n\t\t\t<p class=\"welcome_description\">${COLLECTION_WELCOME_HEADER}</p>\n\t\t\t\n\t\t\t<p class=\"group_header\">${COLLECTION_WELCOME_GROUP_HEADER}</p>\t\t\t\n\n\t\t\t<div class=\"contentWrapper\">\n\t\t\t<div class=\"contentWrapperInner\">\n\t\t\t\t<ol class=\"collection_box\">\n\t\t            <li class=\"navigate\">\n\t\t            \t<span class=\"icon\"></span>\n\t\t            \t<p>${COLLECTION_WELCOME_GROUP_SEARCHFILTER}</p>\n\t\t            </li>\n\t\t            <li class=\"custom\">\n\t\t            \t<span class=\"icon\"></span>\n\t\t            \t<p>${COLLECTION_WELCOME_GROUP_SELECTPAGES}</p>\n\t\t            </li>\n\t\t            <li class=\"interact\">\n\t\t            \t<span class=\"icon\"></span>\n\t\t\t\t\t\t<p>${COLLECTION_WELCOME_GROUP_ORGANIZE}</p>\n\t\t            </li>\n\t\t            <li class=\"build\">\n\t\t            \t<span class=\"icon\"></span>\n\t\t\t\t\t\t<p>${COLLECTION_WELCOME_GROUP_VIEWORPRINT}</p>\n\t\t            </li>\n\t\t\t\t</ol>\n\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p class=\"content_description\">${COLLECTION_WELCOME_FOOTER}</p>\n\t\t</div>\t\t\n\t</div>\t\n\n\n</div>","kc/widget/search/SearchOptionsDialog":function(){require({cache:{"url:kc/widget/search/templates/SearchOptionsDialog.html":"<div class=\"searchOptionsDialog\" data-dojo-attach-point=\"_searchOptionsDialogContainer\">\n    <div class=\"autoContextOptionContainer\">\n        <input id=\"autoContextOption\" data-dojo-type=\"idx.oneui.form.CheckBox\" \n            data-dojo-attach-point=\"_autoContextOption\"\n\t\t\tdata-dojo-props=\"name:'autoContextOption'\n\t\t\">\n\t    </input>\n\t</div>\n\t<div class=\"scopeOptionContainer\">\n\t    <select id=\"scopeOption\" multiple=\"true\" data-dojo-type=\"idx.oneui.form.RadioButtonSet\" label=\"${_tocOptionLabel}\"\n\t        data-dojo-attach-point=\"_scopeOption\"\n\t        data-dojo-props=\"name: 'scopeOption',\n\t\t\t                 groupAlignment: 'vertical'\">\n\t\t\t<option value=\"toc\">${_tocOptionLabel}</option>\n\t\t\t<option value=\"tag\">${_tagOptionLabel}</option>\t\t\t\n\t\t</select>\n\t</div>\n\t<div class=\"tagOptionContainer\">\n\t    <select id=\"tagOption\" multiple=\"true\" data-dojo-type=\"idx.oneui.form.RadioButtonSet\" label=\"${_tagOptionLabel}\"\n\t        data-dojo-attach-point=\"_tagOption\"\n\t        data-dojo-props=\"name: 'tagOption',\n\t\t\t                 groupAlignment: 'vertical'\">\n\t\t\t<option value=\"tagAll\">${_tagAllOptionLabel}</option>\n\t\t    <option value=\"tagScope\">${_tagProductScopeOptionLabel}</option>\t\t\t\n\t\t</select>\n\t</div>\n\t<div class=\"productInfoContainer\" data-dojo-attach-point=\"_productInfo\"></div>\n</div>"}});define("kc/widget/search/SearchOptionsDialog",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/keys","kc/widget/common/KCWidget","dojo/text!kc/widget/search/templates/SearchOptionsDialog.html","kc/DialogManager","kc/state/KCState","kc/Constants","kc/Utils","kc/state/StateUtils","kc/Messaging","kc/Topics","kc/controller/SearchController","kc/widget/common/KCTreeUtils","kc/widget/search/SearchUtils","idx/oneui/form/CheckBox","idx/oneui/form/RadioButtonSet","dijit/form/RadioButton","kc/model/SearchOption","kc/model/Search","kc/model/Tag","dojo/data/ItemFileReadStore","dijit/tree/ForestStoreModel","idx/oneui/CheckBoxTree"],function(_230,lang,_231,_232,_233,_234,keys,_235,_236,_237,_238,_239,_23a,_23b,_23c,_23d,_23e,_23f,_240){return _230("kc.widget.search.SearchOptionsDialog",[_235],{templateString:_236,_productStore:null,_initializeStrings:function(){this._dialogTitle=this.getString("SEARCH_OPTIONS");this._autoContextOptionLabel=this.getString("SEARCH_OPTIONS_AUTO_CONTEXT");this._tocOptionLabel=this.getString("SEARCH_OPTIONS_SEARCH_TOC");this._tagOptionLabel=this.getString("SEARCH_OPTIONS_SEARCH_TAG");this._tagAllOptionLabel=this.getString("SEARCH_OPTIONS_SEARCH_TAG_ALL");this._tagProductScopeOptionLabel=this.getString("SEARCH_OPTIONS_SEARCH_TAG_PRODUCT_SCOPE");},startup:function(){this.inherited(arguments);this._autoContextOption.set("label",this._autoContextOptionLabel);this._createProductStore();},_initializeConnections:function(){this.addConnection(this._scopeOption,"onChange",this,"_onChangeScopeOption");this.addConnection(this._tagOption,"onChange",this,"_onChangeTagOption");},_createProductStore:function(){var _241=lang.hitch(this,function(data){this._productStore=new dojo.data.ItemFileReadStore({data:data});});_23e.getProductCollections(_241);},_onChangeScopeOption:function(){if(this._scopeOption.getValue()=="toc"){this._tagOption.set("disabled",true);this._disableTagOptionSelection();}else{this._tagOption.set("disabled",false);if(this._tagOption.getValue()==""){this._tagOption.set("value","tagAll");}}},_onChangeTagOption:function(){if(this._tagOption.getValue()=="tagAll"){this._disableTagOptionSelection();}else{this._enableTagOptionSelection();}},_enableTagOptionSelection:function(){if(this._productTagTree){_231.forEach(this._productTagTree.rootNode.getChildren(),function(node){node.checkboxNode.set("disabled",false);_231.forEach(node.getChildren(),function(_242){_242.checkboxNode.set("disabled",false);});});}},_disableTagOptionSelection:function(){if(this._productTagTree){_231.forEach(this._productTagTree.rootNode.getChildren(),function(node){node.checkboxNode.set("disabled",true);_231.forEach(node.getChildren(),function(_243){_243.checkboxNode.set("disabled",true);});});}},show:function(){this._setProductInfo();this._setOptionValue();_237.showOkCancelDialog(this._dialogTitle,undefined,lang.hitch(this,function(){var _244=new kc.model.SearchOption();var _245=this._autoContextOption.get("checked");if(_245==true){_23a.setObject(_239.SEARCH_OPTION_AUTOCONTEXT,true,_244);}else{_23a.setObject(_239.SEARCH_OPTION_AUTOCONTEXT,false,_244);}var _246=this._scopeOption.getValue();if(_246=="toc"){_23a.setObject(_239.SEARCH_OPTION_PRODUCTTAG,false,_244);}else{if(_246=="tag"){_23a.setObject(_239.SEARCH_OPTION_PRODUCTTAG,true,_244);var _247=this._tagOption.getValue();if(_247=="tagAll"){_23a.setObject(_239.SEARCH_OPTION_PRODUCTTAGWITHSCOPE,false,_244);}else{if(_247=="tagScope"){_23a.setObject(_239.SEARCH_OPTION_PRODUCTTAGWITHSCOPE,true,_244);}}}}var args=[_239.CONTENT_SEARCH,_239.ACTION_SEARCH_OPTION_APPLY,{},_244];_23c.publish(_23d.KC_ACTION,args);_23c.publish(_23d.KC_NOTIFICATION,[_239.CONTENT_SEARCH,_239.ACTION_SEARCH_OPTION_APPLY,_244]);this._doSearch();}),undefined,false,false,this._searchOptionsDialogContainer);},_doSearch:function(){var term=_240.getSearchTerm();var tag=_240.getSearchTag();var _248=_240.getSearchScope();var _249=new kc.model.Search();var _24a=this._getSelectedProductTags();_249=this._optionSearchModel(_249,term,_248,tag,_24a);_23c.publish(_23d.KC_SEARCH,[_239.SOURCE_SEARCH_SEARCH_OPTIONS,_249]);},_getSelectedProductTags:function(){var _24b=[];if(this._productTagTree){var _24c=this._productTagTree.rootNode.checkboxNode.get("checked");if(_24c==true){_231.forEach(this._productTagTree.rootNode.getChildren(),function(node){var _24d=node.item.id[0];_24b.push(_24d);});}else{var _24e=this._productTagTree.dndController.getSelectedTreeNodes();_231.forEach(_24e,function(node){if(!(node.getParent()&&node.getParent().checkboxNode.get("checked")==true)){if(node.item.id){var _24f=node.item.id[0];_24b.push(_24f);}}});}}return _24b;},_optionSearchModel:function(_250,term,_251,tag,_252){if(null==_250){_250=new kc.model.Search();}_23a.setObject("term",term,_250);if(tag==null||tag==""){tag=new kc.model.Tag();}var _253=_23a.getObject("product",tag,[]);if(_238.getSearchOption().productTag==false){if(_253.length!=0){_23a.setObject("scope",_253,_250);}else{_23a.setObject("scope",_251,_250);}_23a.setObject("product",[],tag);_23a.setObject("tag",tag,_250);}else{if(!_238.getSearchOption().productTagWithScope){if(_253.length==0){_23a.setObject("product",_251,tag);}_23a.setObject("tag",tag,_250);_23a.setObject("scope",[],_250);}else{if(_253.length==0){_23a.setObject("product",_251,tag);}_23a.setObject("tag",tag,_250);_23a.setObject("scope",_252,_250);}}return _250;},_setOptionValue:function(){var _254=_238.getSearchOption();if(null!=_254){var _255=_23a.getObject(_239.SEARCH_OPTION_AUTOCONTEXT,_254);this._setAutoContextOption(_255);var _256=_23a.getObject(_239.SEARCH_OPTION_PRODUCTTAG,_254);var _257=_23a.getObject(_239.SEARCH_OPTION_PRODUCTTAGWITHSCOPE,_254);this._setScopeOption(_256,_257);}},_setProductInfo:function(){_232.empty(this._productInfo);var tag=_23a.getObject("tag",_238.getLatestContentModel(_239.CONTENT_SEARCH));var _258=_23a.getObject("scope",_238.getLatestContentModel(_239.CONTENT_SEARCH));var _259=null;var _25a=null;if(tag){_259=_23a.getObject("product",tag);}if(_259&&_259.length){_25a=_259;}else{if(_258&&_258.length){_25a=_258;}}if(_25a){_233.set(this._productInfo,"display","block");var data={"identifier":"id","items":[],"label":"title"};_23f.findLabel(_25a,this._productStore,lang.hitch(this,function(_25b){_231.forEach(_25a,function(item){var _25c={"id":item,"title":_25b[item],"items":[]};var _25d=_23f.getChildren(this._productStore._itemsByIdentity[item],this._productStore);if(_25d&&_25d.length!=0&&_25d.length!=1){_231.forEach(_25d,function(_25e){var _25f={"id":_25e.id,"title":_25e.title};_25c.items.push(_25f);});}data.items.push(_25c);},this);}));var _260=new dojo.data.ItemFileReadStore({data:data});var _261=new dijit.tree.ForestStoreModel({store:_260,childrenAttrs:["items"]});this._productTagTree=new idx.oneui.CheckBoxTree({model:_261,autoExpand:true,showRoot:false,label:this._dialogTitle,_createTreeNode:function(args){args.ariaLabel=this._dialogTitle+" "+args.label;var _262=new idx.oneui._CheckBoxTreeNode(args);_262._labelKeyPressHandler=function(evt){if(this.checkboxNode.get("disabled")){return;}var dk=keys;if(evt.charOrCode==dk.SPACE||evt.charOrCode==dk.ENTER||evt.charOrCode===" "){this.checkboxNode.click();var _263=this.checkboxNode.get("checked");this.updateState(_263);}};return _262;}});this._productTagTree.onLoad=function(){_231.forEach(_258,function(_264){var item=this.model.store._getItemByIdentity(_264);if(item){var _265=this.getNodesByItem(item);if(_265&&_265[0]){var node=_265[0];this.toggleNode(node,true);}}},this);};_232.place(this._productTagTree.domNode,this._productInfo);this._productTagTree.startup();}else{_233.set(this._productInfo,"display","none");}},_setAutoContextOption:function(_266){if(_266==true){this._autoContextOption.set("checked",true);}else{this._autoContextOption.set("checked",false);}},_setScopeOption:function(_267,_268){if(_267==true){this._scopeOption.set("value","tag");if(_268==true){this._tagOption.set("value","tagScope");}else{this._tagOption.set("value","tagAll");this._disableTagOptionSelection();}}else{this._scopeOption.set("value","toc");this._disableTagOptionSelection();}}});});},"kc/widget/search/SearchResult":function(){require({cache:{"url:kc/widget/search/templates/_SearchResultEntry.html":"<div class=\"searchEntryContainer\" data-dojo-attach-point=\"_containerNode\">\n\t<div class=\"searchResultTitle\">\n\t    <span data-dojo-attach-point=\"_searchResultTitleNode\"></span>\n\t</div>  \n\t<div class=\"searchResultDescription\">\n\t    <span data-dojo-attach-point=\"_searchResultDescNode\"></span>\n\t</div>\n\t<div>\n\t    <ul class=\"searchResultMeta\">\n\t        <li><div class=\"displayInlineBlock\">${_searchResultDateLabel}</div>\n\t        \t<div class=\"displayInlineBlock\" data-dojo-attach-point=\"_publishDate\"></div>\n\t        </li>\n\t        <!-- task 55802, Removing \"info type\" from KC 1. 5 search results , will enable this function in future version -->\n\t        <!--\n\t        <li class=\"seperator\">\n\t        \t<div class=\"displayInlineBlock\">${_searchResultInformationTypeLabel}</div>\n\t        \t<div class=\"displayInlineBlock\" data-dojo-attach-point=\"_informationType\"></div>\n\t        </li>\n\t         -->\n\t        <li class=\"seperator\">\n\t        \t<div class=\"displayInlineBlock\">${_searchResultFoundInLabel}</div>\n\t        \t<div class=\"displayInlineBlock\" data-dojo-attach-point=\"_foundIn\"></div>\n\t        </li>\n\t    </ul>\n\t</div>\n</div>","url:kc/widget/search/templates/SearchResult.html":"<div class='searchResultContainer' data-dojo-attach-point='_searchResultContainer'>\n\t<div class=\"searchSuggestion\" data-dojo-attach-point=\"_searchSuggestionPlaceholder\"></div>\n\t<div class='searchResultMessage' data-dojo-attach-point='_searchResultMessageNode' tabindex=\"0\" role=\"log\" aria-live=\"polite\" aria-label=\"${_searchResultsLabel}\">${_loadingIndicator}</div>\n\t<div data-dojo-attach-point=\"_paginationPlaceholder\"></div>\n\t<div class=\"searchResultTableDiv\" data-dojo-attach-point=\"_tablePlaceholder\" tabindex=\"-1\">\n\t\t<table data-dojo-attach-point=\"_searchResultTable\" class=\"searchResultTable\" role=\"presentation\"></table>\n\t</div>\n</div>"}});define("kc/widget/search/SearchResult",["dojo/_base/declare","dojo/on","kc/widget/common/KCWidget","dojo/text!kc/widget/search/templates/_SearchResultEntry.html","dojo/text!kc/widget/search/templates/SearchResult.html","kc/widget/common/_ContextMenuMixin","kc/widget/topic/_TopicContextMenuMixin","kc/widget/common/_SeparatorContextMenuMixin","kc/widget/collection/_CollectionContextMenuMixin","kc/Messaging","kc/Topics","kc/Constants","idx/util","kc/Utils","kc/widget/search/SearchUtils","kc/widget/topic/TopicUtils","kc/controller/SearchController","dojo/date/locale","dojo/_base/kernel","dojo/_base/lang","dojo/_base/url","dojo/_base/window","dojo/query","dojo/io-query","dijit/registry","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/_base/array","dojo/string","idx/string","dojo/dom-geometry","dojo/window","dijit/focus","kc/state/StateUtils","kc/widget/search/SearchPagination","kc/model/Topic","idx/form/Link"],function(_269,on,_26a,_26b,_26c,_26d,_26e,_26f,_270,_271,_272,_273,_274,_275,_276,_277,_278,_279,_27a,lang,dUrl,_27b,_27c,_27d,_27e,_27f,_280,_281,_282,_283,_284,_285,_286,win,_287,_288){_269("kc.widget.search._SearchResultEntry",[_26a],{templateString:_26b,topicModel:undefined,focus:function(){var _289=this._linkArr[0];if(_289){_287.focus(_289.domNode);}},postCreate:function(){this.inherited(arguments);this._linkArr=[];this._linkConnectionsArr=[];},_initializeStrings:function(){this._searchResultDateLabel=this.getString("SEARCH_RESULT_DATE");this._searchResultFoundInLabel=this.getString("SEARCH_RESULT_FOUND_IN");this._searchResultInformationTypeLabel=this.getString("SEARCH_RESULT_INFORMATION_TYPE");this._searchResultNALabel=this.getString("SEARCH_RESULT_NA");},_initializeConnections:function(){},setData:function(item){_27f.empty(this._searchResultTitleNode);var _28a=item.title.replace(/(<b>)/ig,"").replace(/(<\/b>)/ig,"");var _28b=new kc.model.Topic({id:item.id,title:_28a});this.topicModel=_28b;_28b.id=_275.stripAfter(_28b.id,"?");var href=item.href;if(href){var _28c=_277.decodeHref(href);var _28d=new dUrl(_28c);var q=_28d.query;if(!_275.isEmpty(q)){var _28e=_275.getObject(_273.SEARCH_RESULT_PARAMETER_LANGUAGE,_27d.queryToObject(q));if(_28e!==undefined){_28e=_275.getSupportedLanguage(_28e);_28b.contentLanguage=_28e;}var qLoc=_28c.indexOf("?");if(qLoc>-1){var hLoc=_28c.indexOf("#");if(hLoc>-1){href=_28c.substr(0,qLoc)+_28c.substr(hLoc);}else{href=_28c.substr(0,qLoc);}href=_277.encodeHref(href);}}}var _28f=_275.getObject("key",_275.getFirstElementOfArray(item.foundIn));if(_28f&&!_285.startsWith(href,(_28f+"/"))){_275.setObject(_273.TOPIC_CONTEXT_PATH,_28f,_28b);}_28b.href=href;var cp=_275.getObject(_273.TOPIC_CONTEXT_PATH,_28b);if(!cp&&item.foundIn&&item.foundIn.length>1){cp=_275.getFirstElementOfArray(item.foundIn).key;}var _290=this._createLink(href,_275.getObject(_273.MODEL_CONTENT_LANGUAGE,_28b),cp);var _291=new idx.form.Link({label:item.title,href:_290});_27f.place(_291.domNode,this._searchResultTitleNode);this._linkConnectionsArr.push(this.addConnection(_291.linkNode,"click",this,lang.partial(function(m,evt){this._openTopic(lang.clone(m),evt);},_28b)));this._linkArr.push(_291);this._searchResultDescNode.innerHTML=item.desc;_281.set(this._searchResultDescNode,"aria-label",item.desc);this._publishDate.innerHTML=item.publishDate?_279.format(new Date(Number(item.publishDate)),{selector:"date",formatLength:"long",locale:_27a.locale}):this._searchResultNALabel;this._renderFoundIn(item.foundIn,_28b);},cleanUp:function(){_283.forEach(this._linkArr,function(link){link.destroy();});_283.forEach(this._linkConnectionsArr,this.removeConnection);this.linkArr=[];this.linkConnectionsArr=[];},_createLink:function(href,_292,cp){var _293=_273.KC_ROOT+"/"+href+"?"+_273.BROWSER_STATE_PARAMETER_LANGUAGE+"="+(_292||_273.KC_LANGUAGE);if(cp){_293+="&"+_273.BROWSER_STATE_PARAMETER_TOPIC_CONTEXT_PATH+"="+cp;}return _293;},_openTopic:function(_294,evt){if(!_275.isNewTabClick(evt)){evt.preventDefault();_271.publish(_272.KC_TOPIC,[_273.SOURCE_CONTENT_SEARCH_RESULTS,_294]);}},_renderFoundIn:function(_295,_296){_27f.empty(this._foundIn);var _297=_275.getObject(_273.TOPIC_HREF,_296,"");var _298=_275.getObject(_273.TOPIC_CONTEXT_PATH,_296);var _299=_275.getObject(_273.MODEL_CONTENT_LANGUAGE,_296);if(_295){_283.forEach(_295,function(f){var id=f.key;var _29a=f.title;var _29b=f.href;var cp;if(!_29b){cp=!_285.startsWith(_297,(id+"/"))?id:_298;_29b=this._createLink(_297,_299,cp);}else{_29b=this._createLink(_29b,_299,cp);}var link=new idx.form.Link({label:_29a,href:_29b});if(cp){_281.set(link.linkNode,"data-cp",cp);}this._linkArr.push(link);if(!_29b){this._linkConnectionsArr.push(this.addConnection(link.linkNode,"click",this,lang.partial(function(_29c,m,evt){var tm=lang.clone(m);var href=_275.getObject(_273.TOPIC_HREF,tm,"");if(!_285.startsWith(href,(_29c+"/"))){_275.setObject(_273.TOPIC_CONTEXT_PATH,_29c,tm);}this._openTopic(tm,evt);},id,_296)));}_27f.place(link.domNode,this._foundIn);_280.add(link.domNode,"foundInLink");},this);}else{this._foundIn.innerHTML=this._searchResultNALabel;}}});return _269("kc.widget.search.SearchResult",[_26a,_26d,_26e,_26f,_270],{templateString:_26c,pageSize:20,postCreate:function(){this.inherited(arguments);},_initializeStrings:function(){this._searchResultErrorMessage=this.getString("SEARCH_RESULT_ERROR_MESSAGE");this._searchResultNoResultMessage=this.getString("SEARCH_RESULT_NO_RESULT_MESSAGE");this._searchResultEmptyTermMessage=this.getString("SEARCH_RESULT_EMPTY_TERM_MESSAGE");this._loadingIndicator=this.getString("LOADINGMSG");this._searchResultGroupHeadersTemplate=this.getString("SEARCH_RESULT_GROUP_HEADERS");this._searchSuggestionLabel=this.getString("SEARCH_RESULT_KEYWORD_SUGGESTION");this._searchResultsLabel=this.getString("NAVIGATION_SEARCH_RESULTS");},_initializeConnections:function(){},_initializeSubscriptions:function(){this.addSubscription(_272.KC_SEARCH,this,"_createSearchResult");},startup:function(){this.inherited(arguments);},_getMenuBindNode:function(){return this._searchResultTable;},_getDataForMenu:function(_29d){var _29e=dijit.getEnclosingWidget(_29d);if(!_275.instanceOf(_29e,kc.widget.search._SearchResultEntry)){_29e=_274.getParentWidget(_29e,kc.widget.search._SearchResultEntry);}var _29f=_29e?_29e.topicModel:undefined;var cp=_281.get(_29d,"data-cp");if(_29f&&cp){_29f=lang.clone(_29f);_29f.contextPath=cp;}return _29f;},setInitialModel:function(_2a0,_2a1){this._createSearchResult(_2a0,_2a1);},_createSearchResult:function(_2a2,_2a3){if(this.laststate&&_276.compareSearchModel(this.laststate,_2a3)){return;}if(_275.isEmpty(_275.getObject("term",_2a3))){this._showMessage(this._searchResultEmptyTermMessage,true);}else{this.searchModel=_2a3;lang.mixin(this.searchModel,{start:0,size:this.pageSize});this._renderSearchResult(true);}this.laststate=lang.clone(_2a3);},_renderSearchResult:function(_2a4,_2a5){var _2a6=lang.hitch(this,function(data){this._showLoading(false,_2a4);this._renderTable(data,_2a4);this._renderSearchSuggestion(data,_2a4);this._renderPagination(data,_2a4);this._fitTable();});var _2a7=lang.hitch(this,function(_2a8,_2a9){console.error("Unable to fetch search results "+_2a8);this._showMessage(this._searchResultErrorMessage,_2a4);this._fitTable();});this._showLoading(true,_2a4);_278.search(this.searchModel,_2a6,_2a7);},_showLoading:function(_2aa,_2ab){if(_2aa){_282.set(this._searchResultMessageNode,"display",_2ab?"block":"none");this._searchResultMessageNode.innerHTML=this._loadingIndicator;if(_2ab){this._showSearchSuggestion(false);this._showTable(false);this._showPagination(false);}else{this._disabledNextPage(true);_282.set(this._loadingTd.parentNode,"display","");this._loadingTd.innerHTML=this._loadingIndicator;win.scrollIntoView(this._loadingTd);}}else{_282.set(this._searchResultMessageNode,"display","none");}},_showTable:function(_2ac){_275.setDomNodeShow(this._searchResultTable,_2ac);},_showMessage:function(_2ad,_2ae){this._showSearchSuggestion(!_2ae);this._showTable(!_2ae);this._showPagination(!_2ae);this._disabledNextPage(false);if(this.searchModel){this.searchModel.start=this.searchModel.start-20;}if(_2ae){_282.set(this._searchResultMessageNode,"display","block");this._searchResultMessageNode.innerHTML=_2ad;}else{_282.set(this._loadingTd.parentNode,"display","");this._loadingTd.innerHTML=_2ad;}},_renderSearchSuggestion:function(data,_2af){if(!_2af){return;}if(data.suggestQuery){this._showSearchSuggestion(true);if(this._suggestionWidget){this._suggestionWidget.destroy();}var _2b0=this._searchSuggestionLabel;this._searchSuggestionPlaceholder.innerHTML=_2b0;_283.forEach(_27c("a",this._searchSuggestionPlaceholder),lang.hitch(this,function(_2b1){if("suggestion"===_281.get(_2b1,"id")){this._suggestionWidget=new idx.form.Link({innerHTML:""},_2b1);this._suggestionWidget.domNode.appendChild(_27b.doc.createTextNode(data.suggestQuery));this.addConnection(this._suggestionWidget,"onClick",this,function(){var term=encodeURIComponent(data.suggestQuery);var _2b2=_276.getSearchScope();var tag=_276.getSearchTag();var _2b3=_276.getSearchModel(term,_2b2,tag);_271.publish(_272.KC_SEARCH,[_273.SOURCE_CONTENT_SEARCH_RESULTS,_2b3]);});}}));}else{this._showSearchSuggestion(false);}},_createPagination:function(){this.pagination=new kc.widget.search.SearchPagination();this.pagination.startup();_27f.place(this.pagination.domNode,this._paginationPlaceholder);this.pagination.onNextPageClick(lang.hitch(this,"_onNextPage"));},_renderPagination:function(data,_2b4){if(data.count>0){if(!this.pagination){this._createPagination();}this.pagination.setData(data.start,data.next,data.count,this.pageSize,_2b4);this._showPagination(true);}else{this._showPagination(!_2b4);this._disabledNextPage(false);}},_disabledNextPage:function(_2b5){if(this.pagination){this.pagination.disabledNextPage(_2b5);}},_showPagination:function(_2b6){_275.setWidgetShow(this.pagination,_2b6);},_showSearchSuggestion:function(_2b7){_275.setDomNodeShow(this._searchSuggestionPlaceholder,_2b7);},_onNextPage:function(){if(this.pagination.isPaginationEnable()){this.searchModel.start=this.searchModel.start+20;this._renderSearchResult(false);}},_cleanUpSearchResultEntry:function(){if(this._searchResultEntry){this._searchResultEntry.cleanUp();}},_renderTable:function(data,_2b8){if(data.count==0){this._showMessage(this._searchResultNoResultMessage,_2b8);}else{if(data.start==0&&_2b8){this._cleanUpSearchResultEntry();this._cleanUpTable();}this._showTable(true);this._createTable(data);}},_cleanUpTable:function(){_27f.empty(this._searchResultTable);this._rowIndex=0;this._loadingTd=null;},_setGroupHeaders:function(data){if(this._loadingTd){_280.replace(this._loadingTd,"searchResultMessageForGroupHeadersTd","searchResultMessageForLoadingTd");this._loadingTd.innerHTML=_284.substitute(this._searchResultGroupHeadersTemplate,[data.start+1,data.start+data.count]);this._rowIndex=this._rowIndex+1;}},_createTable:function(data){this._setGroupHeaders(data);_283.forEach(data.items,function(item,_2b9){var tr=_27f.create("tr",{id:"sr_tr_"+this._rowIndex,"class":"searchResultTableTr",role:"presentation"},this._searchResultTable);this.addConnection(on(tr,"mouseover",function(){_280.add(tr,"searchResultTableTrHover");}));this.addConnection(on(tr,"mouseout",function(){_280.remove(tr,"searchResultTableTrHover");}));this.addConnection(on(tr,"click",lang.hitch(this,function(){if(this._focusRow){_280.remove(this._focusRow,"searchResultTableTrFocus");}_280.add(tr,"searchResultTableTrFocus");this._focusRow=tr;})));var td=_27f.create("td",{"class":"searchResultTableTd"},tr);var _2ba=new kc.widget.search._SearchResultEntry();_2ba.setData(item);_27f.place(_2ba.domNode,td);if(_2b9==0){var tw=_286.getMarginBox(this._searchResultTable).w;_282.set(td,"width",tw+"px");}this._rowIndex=this._rowIndex+1;},this);var _2bb=_27f.create("tr",{id:"sr_tr_"+this._rowIndex,"class":"searchResultMessageForLoadingTr"},this._searchResultTable);_282.set(_2bb,"display","none");this._loadingTd=_27f.create("td",{innerHTML:this._loadingIndicator,"class":"searchResultMessageForLoadingTd",tabindex:"0"},_2bb);},_fitTable:function(){var top=_286.getPadBorderExtents(this.domNode).t+_286.getMarginBox(this._searchResultMessageNode).h+_286.getMarginBox(this._searchSuggestionPlaceholder).h+_286.getMarginBox(this._paginationPlaceholder).h+5;_282.set(this._tablePlaceholder,"top",top+"px");}});});},"dojo/NodeList-traverse":function(){define("dojo/NodeList-traverse",["./query","./_base/lang","./_base/array"],function(_2bc,lang,_2bd){var _2be=_2bc.NodeList;lang.extend(_2be,{_buildArrayFromCallback:function(_2bf){var ary=[];for(var i=0;i<this.length;i++){var _2c0=_2bf.call(this[i],this[i],ary);if(_2c0){ary=ary.concat(_2c0);}}return ary;},_getUniqueAsNodeList:function(_2c1){var ary=[];for(var i=0,node;node=_2c1[i];i++){if(node.nodeType==1&&_2bd.indexOf(ary,node)==-1){ary.push(node);}}return this._wrap(ary,null,this._NodeListCtor);},_getUniqueNodeListWithParent:function(_2c2,_2c3){var ary=this._getUniqueAsNodeList(_2c2);ary=(_2c3?_2bc._filterResult(ary,_2c3):ary);return ary._stash(this);},_getRelatedUniqueNodes:function(_2c4,_2c5){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(_2c5),_2c4);},children:function(_2c6){return this._getRelatedUniqueNodes(_2c6,function(node,ary){return lang._toArray(node.childNodes);});},closest:function(_2c7,root){return this._getRelatedUniqueNodes(null,function(node,ary){do{if(_2bc._filterResult([node],_2c7,root).length){return node;}}while(node!=root&&(node=node.parentNode)&&node.nodeType==1);return null;});},parent:function(_2c8){return this._getRelatedUniqueNodes(_2c8,function(node,ary){return node.parentNode;});},parents:function(_2c9){return this._getRelatedUniqueNodes(_2c9,function(node,ary){var pary=[];while(node.parentNode){node=node.parentNode;pary.push(node);}return pary;});},siblings:function(_2ca){return this._getRelatedUniqueNodes(_2ca,function(node,ary){var pary=[];var _2cb=(node.parentNode&&node.parentNode.childNodes);for(var i=0;i<_2cb.length;i++){if(_2cb[i]!=node){pary.push(_2cb[i]);}}return pary;});},next:function(_2cc){return this._getRelatedUniqueNodes(_2cc,function(node,ary){var next=node.nextSibling;while(next&&next.nodeType!=1){next=next.nextSibling;}return next;});},nextAll:function(_2cd){return this._getRelatedUniqueNodes(_2cd,function(node,ary){var pary=[];var next=node;while((next=next.nextSibling)){if(next.nodeType==1){pary.push(next);}}return pary;});},prev:function(_2ce){return this._getRelatedUniqueNodes(_2ce,function(node,ary){var prev=node.previousSibling;while(prev&&prev.nodeType!=1){prev=prev.previousSibling;}return prev;});},prevAll:function(_2cf){return this._getRelatedUniqueNodes(_2cf,function(node,ary){var pary=[];var prev=node;while((prev=prev.previousSibling)){if(prev.nodeType==1){pary.push(prev);}}return pary;});},andSelf:function(){return this.concat(this._parent);},first:function(){return this._wrap(((this[0]&&[this[0]])||[]),this);},last:function(){return this._wrap((this.length?[this[this.length-1]]:[]),this);},even:function(){return this.filter(function(item,i){return i%2!=0;});},odd:function(){return this.filter(function(item,i){return i%2==0;});}});return _2be;});},"kc/widget/search/ManageSavedSearchDialog":function(){require({cache:{"url:kc/widget/search/templates/ManageSavedSearchDialog.html":"<div class=\"manageSavedSearchDialog\">\n\t<div data-dojo-attach-point=\"_form\" data-dojo-type=\"dijit.form.Form\"></div>\n</div>"}});define("kc/widget/search/ManageSavedSearchDialog",["dojo/_base/declare","dojo/_base/lang","dojo/query","dijit/registry","dojo/_base/event","dojo/_base/fx","dojo/_base/array","idx/util","kc/Utils","dojo/DeferredList","kc/widget/common/KCWidget","dojo/text!kc/widget/search/templates/ManageSavedSearchDialog.html","kc/DialogManager","dojo/dom-construct","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/date/locale","dojo/window","dojo/_base/window","dojo/on","dojo/keys","kc/state/KCState","kc/controller/SearchController","kc/Constants","kc/Messaging","kc/Topics","dijit/form/Form","idx/oneui/form/TextBox","kc/model/Search","dojo/data/ItemFileReadStore"],function(_2d0,lang,_2d1,_2d2,_2d3,fx,_2d4,_2d5,_2d6,_2d7,_2d8,_2d9,_2da,_2db,_2dc,_2dd,_2de,_2df,_2e0,_2e1,_2e2,on,keys,_2e3,_2e4,_2e5,_2e6,_2e7){return _2d0("kc.widget.search.ManageSavedSearchDialog",[_2d8],{templateString:_2d9,_initializeStrings:function(){this._searchResultFacetDateWeek=this.getString("SEARCH_RESULT_FACET_DATE_WEEK");this._searchResultFacetDateMonth=this.getString("SEARCH_RESULT_FACET_DATE_MONTH");this._searchResultFacetDateYear=this.getString("SEARCH_RESULT_FACET_DATE_YEAR");},startup:function(){this.inherited(arguments);if(_2e3.user){var _2e8=_2db.create("div",{"class":"loading"},this._form.domNode);new _2d7([_2e4.getProductCollections(),_2e4.getSavedSearchQueries(undefined,undefined,_2e5.ACTION_MANAGE_SAVED_SEARCH),_2e4.getSearchResultFacets()]).then(lang.hitch(this,function(_2e9){if(_2e9[0][0]&&_2e9[1][0]&&_2e9[2][0]&&_2e9[0][1]&&_2e9[1][1]&&_2e9[2][1]){var _2ea=40;var _2eb=new dojo.data.ItemFileReadStore({data:_2e9[0][1]});_2eb.fetch();var _2ec=new dojo.data.ItemFileReadStore({data:_2e9[2][1].os});_2ec.fetch();var _2ed=new dojo.data.ItemFileReadStore({data:_2e9[2][1].task});_2ed.fetch();var _2ee=new dojo.data.ItemFileReadStore({data:_2e9[2][1].type});_2ee.fetch();_2db.destroy(_2e8);_2d4.forEach(_2e9[1][1].items,lang.hitch(this,function(item,_2ef){if(item&&_2d6.isObject(item)){var _2f0=_2db.create("div",{"class":"searchQuery"+(_2ef?" notFirstChild":"")},this._form.domNode,"first");_2dc.set(_2f0,"searchQueryID",item.id);var _2f1=new idx.oneui.form.TextBox({trim:true,hint:this.getString("SAVED_SEARCH_QUERY_NAME_EDIT"),hintPosition:"inside",labelAlignment:"horizontal",required:true,value:item.title,"class":"title editableField displayInlineBlock",maxlength:"60",onFocus:function(){_2df.set(this.domNode.nextSibling,"display","none");},onBlur:function(){var _2f2=_2db.create("p",{style:"width: auto; position: absolute;"},this.textbox,"after");if(_2d6.isString(this.value)){_2f2.appendChild(_2e2.doc.createTextNode(this.value));}_2df.set(this.domNode,"width",(!this.value||_2f2.clientWidth>400?400:_2f2.clientWidth)+"px");_2db.destroy(_2f2);_2df.set(this.domNode.nextSibling,"display","");}});_2df.set(_2f1.domNode.childNodes[1].firstChild,"background-color","transparent");_2f1.placeAt(_2f0);var _2f3=_2db.create("p",{style:"width: auto; position: absolute;"},_2f1.textbox,"after");if(_2d6.isString(item.title)){_2f3.appendChild(_2e2.doc.createTextNode(item.title));}_2f1.set("style",{width:(_2f3.clientWidth>400?400:_2f3.clientWidth)+"px"});_2db.destroy(_2f3);var _2f4=_2db.create("div",{"class":"editIcon displayInlineBlock clickable",title:this.getString("SAVED_SEARCH_QUERY_NAME_EDIT")},_2f0);this.addConnection(_2f4,"onClick",function(){_2f1.focus();});this.addConnection(_2f1.domNode,"onMouseOver",function(){_2df.set(_2f4,"display","none");});this.addConnection(_2f1.domNode,"onMouseOut",function(){if(document.activeElement!=_2f1.textbox){_2df.set(_2f4,"display","");}});var _2f5=_2db.create("div",{"class":"closeButton displayInlineBlock clickable",tabindex:0,title:this.getString("ACTION_DELETE")},_2f0);this.addConnection(_2f5,"onClick",lang.hitch(this,function(){fx.fadeOut({node:_2f0,onEnd:lang.hitch(this,function(){_2db.destroy(_2f0);if(this._form.domNode.firstChild&&_2dd.contains(this._form.domNode.firstChild,"notFirstChild")){_2dd.remove(this._form.domNode.firstChild,"notFirstChild");}})}).play();}));this.addConnection(_2f5,"onkeypress",this,function(e){if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey&&e.keyCode==keys.ENTER){on.emit(_2f5,"click",{cancelable:true,bubbles:true});_2d2.getEnclosingWidget(_2d1(".dijitButton",_2d5.getParentWidget(this).domNode)[0]).focus();e.stopPropagation();_2d3.stop(e);}});this.addConnection(_2f1,"onkeypress",this,function(e){if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey&&e.keyCode==keys.ENTER){_2d2.getEnclosingWidget(_2d1(".dijitButton",_2d5.getParentWidget(this).domNode)[0]).focus();e.stopPropagation();_2d3.stop(e);}});var _2f6=_2db.create("div",{"tabindex":"0","class":"keyWord",innerHTML:this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_KEYWORD")+"&nbsp;<i dir='"+(_2dd.contains(_2d5.getParentWidget(this).domNode,"dijitRtl")?"rtl":"ltr")+"'></i>"},_2f0);_2d1("i",_2f6)[0].appendChild(_2e2.doc.createTextNode(_2d6.isString(item.keyWord)&&item.keyWord?item.keyWord:this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_NONE")));var _2f7=5;var _2f8=[];var _2f9=_2db.create("div",{"tabindex":"0",title:_2d6.isArray(item.searchQueryFilters)&&_2d4.filter(item.searchQueryFilters,function(_2fa){return _2fa&&_2d6.isObject(_2fa)&&_2d6.isString(_2fa.value);}).length?_2d4.map(_2d4.filter(item.searchQueryFilters,function(_2fb){return _2fb&&_2d6.isObject(_2fb)&&_2d6.isString(_2fb.value);}),function(_2fc,_2fd){if(_2fd==_2f7){_2f8.push("...");}else{if(_2fd<_2f7){_2f8.push(_2eb._itemsByIdentity&&_2eb._itemsByIdentity[_2fc.value]&&_2d6.isArray(_2eb._itemsByIdentity[_2fc.value].title)&&_2d6.isString(_2eb._itemsByIdentity[_2fc.value].title[0])?_2eb._itemsByIdentity[_2fc.value].title[0]:_2fc.value);}}return _2eb._itemsByIdentity&&_2eb._itemsByIdentity[_2fc.value]&&_2d6.isArray(_2eb._itemsByIdentity[_2fc.value].title)&&_2d6.isString(_2eb._itemsByIdentity[_2fc.value].title[0])?_2eb._itemsByIdentity[_2fc.value].title[0]:_2fc.value;}).join(","):this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_NO_FILTERS")},_2f0);_2dc.set(_2f9,"innerHTML",this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_FILTERS")+"&nbsp;<i dir='"+(_2dd.contains(_2d5.getParentWidget(this).domNode,"dijitRtl")?"rtl":"ltr")+"'>"+(_2f8.length?_2f8.join(",&nbsp;"):this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_NONE"))+"</i>");var _2fe=[];var _2ff=_2db.create("div",{"tabindex":"0",title:_2d6.isArray(item.searchQueryTags)&&_2d4.filter(item.searchQueryTags,function(_300){return _300&&_2d6.isObject(_300)&&_2d6.isString(_300.value);}).length?_2d4.map(_2d4.filter(item.searchQueryTags,function(_301){return _301&&_2d6.isObject(_301)&&_2d6.isString(_301.value);}),lang.hitch(this,function(_302,_303){if(_303==_2f7){_2fe.push("...");}switch(_302.type){case "os":if(_2ec._itemsByIdentity&&_2ec._itemsByIdentity[_302.value]&&_2ec._itemsByIdentity[_302.value].title&&_2d6.isString(_2ec._itemsByIdentity[_302.value].title[0])){if(_303<_2f7){_2fe.push(_2ec._itemsByIdentity[_302.value].title[0]);}return _2ec._itemsByIdentity[_302.value].title[0];}case "task":if(_2ed._itemsByIdentity&&_2ed._itemsByIdentity[_302.value]&&_2ed._itemsByIdentity[_302.value].title&&_2d6.isString(_2ed._itemsByIdentity[_302.value].title[0])){if(_303<_2f7){_2fe.push(_2ed._itemsByIdentity[_302.value].title[0]);}return _2ed._itemsByIdentity[_302.value].title[0];}case "type":if(_2ee._itemsByIdentity&&_2ee._itemsByIdentity[_302.value]&&_2ee._itemsByIdentity[_302.value].title&&_2d6.isString(_2ee._itemsByIdentity[_302.value].title[0])){if(_303<_2f7){_2fe.push(_2ee._itemsByIdentity[_302.value].title[0]);}return _2ee._itemsByIdentity[_302.value].title[0];}case "fromDate":var val=_302.value;if(_2d6.isString(val)){var _304=val;if("pastWeek"===val){_304=this._searchResultFacetDateWeek;}else{if("pastMonth"===val){_304=this._searchResultFacetDateMonth;}else{if("pastYear"===val){_304=this._searchResultFacetDateYear;}else{if(_2e0.parse(val,{selector:"date",datePattern:"yyyyMMdd"})){_304=this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_FROM")+": "+_2e0.format(_2e0.parse(val,{selector:"date",datePattern:"yyyyMMdd"}),{datePattern:"MM/dd/yy",selector:"date"});}}}}if(_303<_2f7){_2fe.push(_304);}return _304;}case "toDate":if(_2d6.isString(_302.value)&&_2e0.parse(_302.value,{selector:"date",datePattern:"yyyyMMdd"})){if(_303<_2f7){_2fe.push(this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_TO")+": "+_2e0.format(_2e0.parse(_302.value,{selector:"date",datePattern:"yyyyMMdd"}),{datePattern:"MM/dd/yy",selector:"date"}));}return this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_TO")+": "+_2e0.format(_2e0.parse(_302.value,{selector:"date",datePattern:"yyyyMMdd"}),{datePattern:"MM/dd/yy",selector:"date"});}default:if(_303<_2f7){_2fe.push(_302.value);}return _302.value;}})).join(","):this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_NONE")},_2f0);_2dc.set(_2ff,"innerHTML",this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_TAGS")+"&nbsp;<i dir='"+(_2dd.contains(_2d5.getParentWidget(this).domNode,"dijitRtl")?"rtl":"ltr")+"'>"+(_2fe.length?_2fe.join(",&nbsp;"):this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_NONE"))+"</i>");}}));_2df.set(_2d5.getParentWidget(this).domNode,"top",_2e1.getBox().h/2-_2de.getMarginBox(_2d5.getParentWidget(this).domNode).h/2+"px");}}));}},show:function(_305){var _306=_2da.__showConfirmationDialog(this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_TITLE"),undefined,{callback:lang.hitch(this,function(){_2e6.publish(_2e7.KC_ACTION,[_2e5.CONTENT_SEARCH,_2e5.ACTION_MANAGE_SAVED_SEARCH,{},undefined]);if(!this._form.validate()){return false;}else{_2e4.updateSavedSearch(_2d4.map(_2d4.filter(this._form.domNode.childNodes,function(node){return _2dd.contains(node,"searchQuery")&&_2dc.has(node,"searchQueryID");}),function(node){return new kc.model.Search({id:_2dc.get(node,"searchQueryID"),title:_2d4.map(_2d1("input.dijitReset.dijitInputInner",node),function(_307){return _2d2.getEnclosingWidget(_307).getValue();})[0]});}),function(){if(_2d6.isFunction(_305)){_305();}},function(){});}}),label:this.getString("ACTION_SAVE")},{callback:undefined,label:this.getString("ACTION_CANCEL")},undefined,false,false,this.domNode);_2d4.forEach(_2d1(".dijitDialogPaneActionBar",_306.domNode),function(_308){_2dd.add(_308,"dialogPaneActionBar");_2db.place(_308,this._form.domNode,"last");},this);_2dd.add(_306.containerNode,"dialogPaneContent");_2dd.add(_2d5.getParentWidget(this).domNode,"dijitDialogManageSavedSearch");_2d4.forEach(_2d1(".dijitButton",_2d5.getParentWidget(this).domNode),function(_309,_30a){_2d2.getEnclosingWidget(_309).scrollOnFocus=false;});}});});},"kc/model/RatingFragment":function(){define("kc/model/RatingFragment",["dojo/_base/declare","kc/model/KCModel"],function(_30b,_30c){return _30b("kc.model.RatingFragment",[_30c],{resource:undefined,likes:undefined,dislikes:undefined,userResponse:undefined});});},"kc/widget/search/SaveSearchQuery":function(){require({cache:{"url:kc/widget/search/templates/SaveSearchQuery.html":"<div data-dojo-attach-point=\"saveSearchQueryContainerNode\">\n\t<!-- TODO add accessibility, tab cycles -->\n\t<div class=\"displayInlineBlock\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_saveSearchQueryLabelButton\" label=\"${_saveSearchQueryBtnTitle}\"></div>\n\t<div data-dojo-type=\"dijit.form.DropDownButton\" data-dojo-attach-point=\"_saveSearchQueryButton\" class=\"saveSearchQueryButton\" label=\"${_saveSearchQueryBtnTitle}\" data-dojo-props=\"showLabel: false\">\n\t    <span></span>\n\t\t<div data-dojo-type=\"dijit.DropDownMenu\" data-dojo-attach-point=\"_saveSearchQueryMenu\" class=\"saveSearchQueryMenu\" aria-label=\"${_saveSearchQueryBtnTitle}\">\n\t\t    <div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_saveThisSearchQueryMenuItem\">${_saveThisSearchQueryLabel}</div>\n\t\t    <div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_managedSavedSearchQueriesMenuItem\">${_managedSavedSearchQueriesLabel}</div>\n\t\t\t<div data-dojo-type=\"dijit.MenuSeparator\" data-dojo-attach-point=\"_separatorMenuItem\"></div>\n\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_loadingMenuItem\" data-dojo-props=\"'label':'<div class=\\'loading\\'/>', 'style':'display:none'\"></div>\n\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_savedSearchesMenuItem\">${_savedSearchesLabel}</div>\n\t\t</div>\n\t</div>\n</div>"}});define("kc/widget/search/SaveSearchQuery",["dojo/_base/declare","dojo/_base/lang","dojo/query","kc/widget/common/KCWidget","dojo/dom-construct","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/aspect","dojo/_base/array","dojox/lang/functional/object","dojo/string","dojo/_base/window","dojo/text!kc/widget/search/templates/SaveSearchQuery.html","kc/DialogManager","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","idx/util","kc/state/KCState","dojox/mobile/sniff","dojo/on","kc/controller/SearchController","kc/widget/search/ManageSavedSearchDialog","kc/widget/search/SaveSearchQueryDialog","dijit/form/DropDownButton","dijit/MenuSeparator","dijit/DropDownMenu","dijit/MenuItem","kc/model/Search","kc/model/Tag"],function(_30d,lang,_30e,_30f,_310,_311,_312,_313,_314,_315,_316,_317,win,_318,_319,_31a,_31b,_31c,_31d,_31e,_31f,has,on,_320){return _30d("kc.widget.search.SaveSearchQuery",[_30f],{templateString:_318,_lastSavedSearchItem:undefined,_initializeStrings:function(){this._saveSearchQueryBtnTitle=this.getString("SAVE_SEARCH_QUERY_BTN_TITLE");this._saveThisSearchQueryLabel=this.getString("SAVE_THIS_SEARCH_QUERY_LABEL");this._managedSavedSearchQueriesLabel=this.getString("MANAGED_SAVED_SEARCH_QUERIES_LABEL");this._savedSearchesLabel=this.getString("SAVED_SEARCHES_LABEL");},_initializeConnections:function(){if(!_31f.user){this.addConnection(this._savedSearchesMenuItem,"onClick",function(){_31a.publish(_31b.KC_SIGN_IN,[]);});}this.addConnection(this._saveThisSearchQueryMenuItem,"onClick",(!_31f.user?function(){_31a.publish(_31b.KC_SIGN_IN,[_31c.ACTION_SAVE_SEARCH]);}:lang.hitch(this,function(){var _321=new kc.widget.search.SaveSearchQueryDialog();_321.show(lang.hitch(this,function(_322){if(_31d.isString(_322)&&_322!=""){this._saveSearchQueryLabelButton.set("disabled",true);this._saveThisSearchQueryMenuItem.set("disabled",true);this._managedSavedSearchQueriesMenuItem.set("disabled",true);_315.forEach(this._saveSearchQueryMenu.getChildren(),lang.hitch(this,function(item){if(!(item===this._saveThisSearchQueryMenuItem||item===this._managedSavedSearchQueriesMenuItem||item===this._separatorMenuItem||item===this._loadingMenuItem)){_313.set(item,"display","none");this._saveSearchQueryMenu.removeChild(item);item.destroyRecursive();}}));_313.set(this._separatorMenuItem.domNode,"display","");_313.set(this._loadingMenuItem.domNode,"display","");this._saveSearchQueryButton.openDropDown();var _323=new kc.model.Search({title:encodeURIComponent(_322),term:_31d.getObject("term",_31f.getLatestContentModel(_31c.CONTENT_SEARCH),""),scope:_31d.getObject("scope",_31f.getLatestContentModel(_31c.CONTENT_SEARCH),[]),tag:_31d.getObject("tag",_31f.getLatestContentModel(_31c.CONTENT_SEARCH),[])});_31a.publish(_31b.KC_ACTION,[_31c.CONTENT_SEARCH,_31c.ACTION_SAVE_SEARCH,{},_323]);}}));_321.startup();})));this.addConnection(this._managedSavedSearchQueriesMenuItem,"onClick",(!_31f.user?function(){_31a.publish(_31b.KC_SIGN_IN,[_31c.ACTION_MANAGE_SAVED_SEARCH]);}:lang.hitch(this,function(){if(this._saveSearchQueryMenu.getChildren().length>4){var _324=new kc.widget.search.ManageSavedSearchDialog();_324.show(lang.hitch(this,function(){this._refreshSavedSearchQueries();}));_324.startup();}else{_319.showWarningDialog(this.getString("MANAGED_SAVED_SEARCH_QUERIES_LABEL"),this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_EMPTY_ERROR"));}})));this.addConnection(this._saveSearchQueryLabelButton,"onClick",lang.hitch(this,function(){on.emit(this._saveThisSearchQueryMenuItem.domNode,has("touch")?"touchstart":"click",{cancelable:true,bubbles:true});on.emit(document.body,"click",{cancelable:true,bubbles:true});}));},_initializeSubscriptions:function(){this.addSubscription(_31b.KC_ACTION,this,"_onAction");this.addSubscription(_31b.KC_NOTIFICATION,this,"_onNotification");this.addSubscription(_31b.KC_SEARCH,this,"_onSearch");},postCreate:function(){this.inherited(arguments);},_refreshSavedSearchQueries:function(){this.removeConnection(this.saveSearchQueryButtonConnection);_315.forEach(this._saveSearchQueryMenu.getChildren(),lang.hitch(this,function(item){if(!(item===this._saveThisSearchQueryMenuItem||item===this._managedSavedSearchQueriesMenuItem||item===this._separatorMenuItem||item===this._loadingMenuItem)){_313.set(item,"display","none");this._saveSearchQueryMenu.removeChild(item);item.destroyRecursive();}}));_313.set(this._separatorMenuItem.domNode,"display","");_313.set(this._loadingMenuItem.domNode,"display","");this._saveSearchQueryLabelButton.set("disabled",true);this._saveThisSearchQueryMenuItem.set("disabled",true);this._managedSavedSearchQueriesMenuItem.set("disabled",true);_320.getSavedSearchQueries(lang.hitch(this,function(arg){_313.set(this._loadingMenuItem.domNode,"display","none");if(arg&&_31d.isArray(arg.items)){if(!arg.items.length){_313.set(this._separatorMenuItem.domNode,"display","none");}var _325=_31d.getObject("id",this._lastSavedSearchItem);_315.forEach(arg.items,lang.hitch(this,function(item){if(item&&_31d.isObject(item)){var _326=new dijit.MenuItem({iconClass:"dijitNoIcon"});if(_325==item.id){_326.set("iconClass","checkedIcon");_312.add(_326.domNode,"checkedMenuItem");}_326.setData(item);_326.containerNode.appendChild(win.doc.createTextNode(item.title));this._saveSearchQueryMenu.addChild(_326);this.addConnection(_326,"onClick",_326,lang.hitch(this,function(_327){var _328=new kc.model.Search({term:encodeURIComponent(_317.trim(_31d.isString(item.keyWord)?item.keyWord:"")),scope:(_31d.isArray(item.searchQueryFilters)&&_315.filter(item.searchQueryFilters,function(_329){return _329&&_31d.isObject(_329)&&_31d.isString(_329.value);}).length?_315.map(_315.filter(item.searchQueryFilters,function(_32a){return _32a&&_31d.isObject(_32a)&&_31d.isString(_32a.value);}),function(_32b){return _32b.value;}):null),tag:(_31d.isArray(item.searchQueryTags)&&_315.filter(item.searchQueryTags,function(_32c){return _32c&&_31d.isObject(_32c)&&_31d.isString(_32c.value)&&_315.indexOf(["product","os","type","task","fromDate","toDate"],_32c.type)!=-1;}).length?new kc.model.Tag({product:_315.filter(item.searchQueryTags,function(_32d){return _32d&&_31d.isObject(_32d)&&_31d.isString(_32d.value)&&_32d.type=="product";}).length?_315.map(_315.filter(item.searchQueryTags,function(_32e){return _32e&&_31d.isObject(_32e)&&_31d.isString(_32e.value)&&_32e.type=="product";}),function(_32f){return _32f.value;}):undefined,os:_315.filter(item.searchQueryTags,function(_330){return _330&&_31d.isObject(_330)&&_31d.isString(_330.value)&&_330.type=="os";}).length?_315.map(_315.filter(item.searchQueryTags,function(_331){return _331&&_31d.isObject(_331)&&_31d.isString(_331.value)&&_331.type=="os";}),function(_332){return _332.value;}):undefined,type:_315.filter(item.searchQueryTags,function(_333){return _333&&_31d.isObject(_333)&&_31d.isString(_333.value)&&_333.type=="type";}).length?_315.map(_315.filter(item.searchQueryTags,function(_334){return _334&&_31d.isObject(_334)&&_31d.isString(_334.value)&&_334.type=="type";}),function(_335){return _335.value;}):undefined,task:_315.filter(item.searchQueryTags,function(_336){return _336&&_31d.isObject(_336)&&_31d.isString(_336.value)&&_336.type=="task";}).length?_315.map(_315.filter(item.searchQueryTags,function(_337){return _337&&_31d.isObject(_337)&&_31d.isString(_337.value)&&_337.type=="task";}),function(_338){return _338.value;}):undefined,fromDate:_315.filter(item.searchQueryTags,function(_339){return _339&&_31d.isObject(_339)&&_31d.isString(_339.value)&&_339.type=="fromDate";}).length?_315.map(_315.filter(item.searchQueryTags,function(_33a){return _33a&&_31d.isObject(_33a)&&_31d.isString(_33a.value)&&_33a.type=="fromDate";}),function(_33b){return _33b.value;})[0]:undefined,toDate:_315.filter(item.searchQueryTags,function(_33c){return _33c&&_31d.isObject(_33c)&&_31d.isString(_33c.value)&&_33c.type=="toDate";}).length?_315.map(_315.filter(item.searchQueryTags,function(_33d){return _33d&&_31d.isObject(_33d)&&_31d.isString(_33d.value)&&_33d.type=="toDate";}),function(_33e){return _33e.value;})[0]:undefined}):null)});_31a.publish(_31b.KC_ACTION,[_31c.CONTENT_SEARCH,_31c.ACTION_SAVED_SEARCH_APPLY,_327,_328]);},item));}}));this._saveSearchQueryButton.openDropDown();}this._saveSearchQueryLabelButton.set("disabled",false);this._saveThisSearchQueryMenuItem.set("disabled",false);this._managedSavedSearchQueriesMenuItem.set("disabled",false);}));},startup:function(){this.inherited(arguments);_311.set(_30e(".dijitDownArrowButton",this._saveSearchQueryButton.domNode)[0],"title",this.getString("SAVE_SEARCH_DOWN_ARROW_BUTTON_TOOLTIP"));if(!_31f.user){_311.set(this._saveSearchQueryLabelButton.domNode,"title",this.getString("SAVE_THIS_SEARCH_QUERY_TOOLTIP"));_311.set(this._saveThisSearchQueryMenuItem.domNode,"title",this.getString("SAVE_THIS_SEARCH_QUERY_TOOLTIP"));_311.set(this._managedSavedSearchQueriesMenuItem.domNode,"title",this.getString("MANAGED_SAVED_SEARCH_QUERIES_TOOLTIP"));}else{switch(window.name){case _31c.ACTION_SAVE_SEARCH:on.emit(this._saveThisSearchQueryMenuItem.domNode,has("touch")?"touchstart":"click",{cancelable:true,bubbles:true});window.name="";break;case _31c.ACTION_MANAGE_SAVED_SEARCH:on.emit(this._managedSavedSearchQueriesMenuItem.domNode,has("touch")?"touchstart":"click",{cancelable:true,bubbles:true});window.name="";}this.saveSearchQueryButtonConnection=this.addConnection(this._saveSearchQueryButton,"onClick",this,this._refreshSavedSearchQueries);}},_onAction:function(_33f,_340,_341,_342){if(_31c.CONTENT_SEARCH===_33f){switch(_340){case _31c.ACTION_SAVE_SEARCH:_320.saveSearchQuery(_342,lang.hitch(this,function(arg){this._lastSavedSearchItem={id:arg};_31a.publish(_31b.KC_NOTIFICATION,[_31c.CONTENT_SEARCH,_31c.ACTION_SAVE_SEARCH,_342]);this._refreshSavedSearchQueries();}),lang.hitch(this,function(arg){}));break;case _31c.ACTION_SAVED_SEARCH_APPLY:var t=this._lastSavedSearchItem;_31a.publish(_31b.KC_SEARCH,[_31c.SOURCE_SEARCH_SAVED_SEARCH,_342]);this._lastSavedSearchItem=t;_31a.publish(_31b.KC_NOTIFICATION,[_31c.CONTENT_SEARCH,_31c.ACTION_SAVED_SEARCH_APPLY,_341]);this._saveSearchQueryButton.closeDropDown();break;}}},_onNotification:function(_343,_344,_345){if(_31c.ACTION_SAVED_SEARCH_APPLY===_344){this._lastSavedSearchItem=_345;_315.forEach(this._saveSearchQueryMenu.getChildren(),function(_346){_346.set("iconClass","dijitNoIcon");_312.remove(_346.domNode,"checkedMenuItem");if(_31d.isFunction(_346.getData)&&_31d.isObject(_346.getData())&&_346.getData()==_345){_346.set("iconClass","checkedIcon");_312.add(_346.domNode,"checkedMenuItem");}});}},_onSearch:function(){this._lastSavedSearchItem=undefined;_315.forEach(this._saveSearchQueryMenu.getChildren(),function(_347){_347.set("iconClass","dijitNoIcon");_312.remove(_347.domNode,"checkedMenuItem");});}});});},"kc/widget/navigation/TOCContent":function(){require({cache:{"url:kc/widget/navigation/templates/TOCContent.html":"<div class=\"tocContent\" data-dojo-attach-point=\"_tocContentRoot\">\n\t<div data-dojo-attach-point=\"_treePlaceholder\" tabindex=\"-1\" role=\"log\" aria-live=\"polite\" aria-label=\"${_productsMessage}\">${_loadingIndicator}</div>\n</div>\t\n","url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\" data-dojo-attach-event=\"onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave, onclick:_onClick, ondblclick:_onDblClick\"\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\" data-dojo-attach-event=\"onfocus:_onLabelFocus\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n"}});define("kc/widget/navigation/TOCContent",["dojo/_base/declare","dojo/on","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/aspect","dojo/dom-class","dojo/dom-attr","dojo/dom-construct","dijit/focus","kc/widget/common/KCWidget","kc/widget/common/_DataHolderMixin","kc/widget/common/_LazyContentMixin","dojo/text!kc/widget/navigation/templates/TOCContent.html","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","kc/state/KCState","kc/widget/common/KCTreeUtils","kc/widget/topic/TopicUtils","kc/Cache","kc/controller/NavigationController","dojo/window","idx/util","dojo/text!dijit/templates/TreeNode.html","kc/state/StateUtils","kc/model/Topic","kc/widget/navigation/KCTOCStore","kc/widget/navigation/KCTOCStoreModel","kc/widget/navigation/Tree","kc/widget/navigation/TOC","idx/layout/TitlePane"],function(_348,on,lang,_349,_34a,_34b,_34c,_34d,_34e,_34f,_350,_351,_352,_353,_354,_355,_356,_357,_358,_359,_35a,_35b,_35c,win,_35d,_35e,_35f){var _360=_348([kc.widget.common.KCTreeNode],{templateString:_35e.replace("<span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\" data-dojo-attach-event=\"onfocus:_onLabelFocus\"></span>","<a data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\" data-dojo-attach-event=\"onfocus:_onLabelFocus\"></a>")});return _348("kc.widget.navigation.TOCContent",[_350,_351,_352],{templateString:_353,_topic:null,_loadingIndicator:"",_tree:null,_initializeStrings:function(){this._loadingIndicator=this.getString("LOADINGMSG");this._loadingFailed=this.getString("LOADING_FAILED_MESSAGE");this._backToAllProductsTitle=this.getString("BACK_TO_ALL_PRODUCTS");this._productsMessage=this.getString("PRODUCTS");this._notAvailableTitle=this.getString("SEARCH_RESULT_NA");},_initializeConnections:function(){},onDataChange:function(_361,_362){this.set("title",this._notAvailableTitle);var _363=_357.getObject("id",this.getData());if(_363){this._topic=_355.KC_DATA_TOCCONTENT+_363;}},added:function(){this.set("title",this.findTitle());},_initializeSubscriptions:function(){if(this._topic){this.addSubscription(this._topic,this,"_contentReceived",_356.MESSAGING_PRIORITY_NORMAL,true);this.addSubscription(_355.CONSOLE_NAVIGATION_FIND_TOPIC,this,"_selectAndReveal",_356.MESSAGING_PRIORITY_NORMAL);}},startup:function(){this.inherited(arguments);},_loadContent:function(){this.set("title",this._loadingIndicator);if(this.getData()&&this._topic){_35c.load(this.getData(),undefined,undefined,this._topic);}else{}},_contentReceived:function(_364){var _365=_356.STATUS_ERROR===_357.getObject(_356.STATUS,_364);var _366=_357.isEmpty(_357.getObject(_356.TOC_ITEMS,_364,[]));if(_365){this._treePlaceholder.innerHTML=this._loadingFailed;}else{if(_366){this._treePlaceholder.innerHTML=this.getString("TAXONOMY_NO_PRODUCTS");}}this.set("title",this.findTitle());if(_365||_366){if(this._focusRequested){this._focusRequested=false;this._focus();}return;}var _367=new kc.widget.navigation.KCTOCStore({data:_364});var _368=_357.getObject(_356.TOC_ID,_364);var _369=_357.getObject(_356.TOC_TITLE,_364);if(_368===undefined){var ran=Math.floor(Math.random()*900000);_368=""+ran;}var _36a=new kc.widget.navigation.KCTOCStoreModel({store:_367,rootId:_368,rootLabel:_369,deferItemLoadingUntilExpand:true,childrenAttrs:[_356.TOC_ITEMS]});this._tree=new kc.widget.navigation.Tree({showRoot:false,label:this._productsMessage,model:_36a,openOnClick:true,_createTreeNode:function(args){var _36b;if(args.item.href&&args.item.href.length>0){_36b=new _360(args);_34d.set(_36b.labelNode,"href",_35f.modelToExternalUrl(_356.CONTENT_TOPIC,args.item,_356.KC_LANGUAGE));_36b._connects.push(on(_36b.labelNode,"click",function(evt){if(_357.isNewTabClick(evt)){evt.stopPropagation();}else{evt.preventDefault();}}));}else{_36b=new kc.widget.common.KCTreeNode(args);}return _36b;},onLoad:lang.hitch(this,function(){if(this._tree&&this._tree.rootNode){_34d.set(this._tree.rootNode.containerNode,"aria-labelledby","currentProductLabel");_34d.remove(this._tree.rootNode.containerNode,"aria-label");var exs=_358.getExpansionState(this.getData());var href=_357.getObject(_356.TOPIC_HREF,this.getData());var _36c=_357.getObject("model.store",this._tree);var _36d=_357.getObject("item.children",this._tree.rootNode);var _36e=_357.getFirstElementOfArray(_36d);if(_36c&&_36e&&(_357.isEmpty(exs)||(_357.isArray(exs)&&exs.length===1&&_357.getObject(_356.TOPIC_ID,exs[0])===_36c.getIdentity(_36e)))){if(!_357.isEmpty(href)&&_35a.getHref(_36e,_36c)===href){this._setTopicParentChain(_36e,true);}if(_357.isArray(_36d)&&_36d.length===1){if(!_357.isEmpty(_36c.getValue(_36e,_356.TOC_ITEMS))){var _36f=_357.getFirstElementOfArray(this._tree.getNodesByItem(_36e));if(_36f){this._tree._expandNode(_36f);}}}}if(this._focusRequested){this._focusRequested=false;this._focus();}}})});this._tree.startup();this.addConnection(_34b.after(this._tree,"_itemClicked",lang.hitch(this,this._itemClicked),true));_359.compactTree(this._tree);_34c.add(this._tree.domNode,"tocTree");_34d.set(this._tree.domNode,"tabindex",-1);_34e.place(this._tree.domNode,this._treePlaceholder,"replace");var _370=_358.getExpansionState(this.getData());if(_357.isString(_370)){var item=_367.getItemById(_370);if(item){this._setTopicParentChain(item);}}_370=_358.getExpansionState(this.getData());if(_357.isArray(_370)){var path=_349.map(_370,function(_371){return _371.id;});path.unshift(_36a.rootId);this._tree.set("paths",[path]).addCallback(lang.hitch(this,function(_372){try{var node=_349.map(_349.filter(_372,function(x){return x[0];}),function(x){return x[1];})[0];if(node){this._tree._onNodeFocus(node);}if(node&&this._isShowing){if(_34c.contains(_35d.getParentWidget(node,kc.widget.navigation.TOC).domNode,"hidden")){this.addSubscription(_355.KC_CONTENT,this,function(){setTimeout(function(){win.scrollIntoView(node.domNode);},_35d.getParentWidget(node,idx.layout.TitlePane).duration+5);},_356.MESSAGING_PRIORITY_LATE,true);}else{win.scrollIntoView(node.domNode);}}}catch(error){}}));}_354.publish(_355.KC_TOC_STORE_CREATED,[this.getData(),_36a]);},_itemClicked:function(item){var m=this._tree.model;var _373=m.store;if(m.root===item){return;}var _374=_35a.hasHref(item,_373);if(_356.generateNavPageForTopicsWithoutHref){if(_356.TAXONOMY_TREE_TOC_CONTENT_ID!==_357.getObject("id",this.getData())){_374=_35a.canOpenTopicItem(item,_373,m);}}var _375=_35a.canOpenInNewTree(item,_373);var _376=_374||_375;if(_376){_358.setCollectionContext(undefined);}if(_374){var _377=new kc.model.Topic();_357.copyProperties(item,_377,_373);_377._hasChildren=!_359.isLeaf(item,_373,m)||_35a.isParent(item,_373);_354.publish(_355.KC_TOPIC,[_356.SOURCE_NAVIGATION_TOC,_377]);}else{if(_375){this._drillIn(_356.SOURCE_NAVIGATION_TOC,item);}}return _376;},_drillIn:function(_378,item){var m=this._tree.model;var _379=m.store;var _37a=new kc.model.TOCContent();_357.copyProperties(item,_37a,_379);_37a.loadOnAdd=true;_354.publish(_355.KC_TOC,[_378,_37a]);this._setTopicParentChain(item,false);},_selectAndReveal:function(_37b,_37c){if(!this._tree||_357.isEmpty(_37c)){return;}var m=this._tree.model;var _37d=m?m.store:undefined;if(!_37d){return;}var id=_357.getObject(_356.TOPIC_ID,_37c);var href=_357.getObject(_356.TOPIC_HREF,_37c);var _37e=_357.getObject(_356.TOC_ID,this.getData());if(_37e&&id&&_37e===id&&this._isShowing){var _37f=_357.getObject("item.children",this._tree.rootNode);var _380=_357.getFirstElementOfArray(_37f);if(!_357.isEmpty(href)&&_35a.getHref(_380,_37d)===href){this._setTopicParentChain(_380,true);}return _356.MESSAGING_STOP_PROPAGATION;}var cp=_357.stripAfter(_357.getObject(_356.TOPIC_CONTEXT_PATH,_37c,""),"/");var _381=_357.stripAfter(_37e,"/");if(cp&&_381&&cp!==_381){return;}var _382=lang.hitch(this,function(_383,item){this._setTopicParentChain(item,true);_354.publish(_355.KC_TOC,[_383,this.getData()]);var _384=_35a.canOpenInNewTree(item,_37d);if(_384){this._drillIn(_383,item);}if(this._tree){_359.reveal(this._tree,_357.getFirstElementOfArray(this._tree.getNodesByItem(item)));}});var item=undefined;if(id!==undefined){item=_37d.getItemById(id);}if(item){_37c._hasChildren=!_359.isLeaf(item,_37d,m)||_35a.isParent(item,_37d);_382(_37b,item);return _356.MESSAGING_STOP_PROPAGATION;}else{if(!item&&href!==undefined){var _385=new _34a();var _386=lang.hitch(this,function(_387,_388,_389,_38a){if(!_357.isEmpty(_389)){var item=_389[0];_357.copyProperties(item,_37c,_37d);_37c._hasChildren=!_359.isLeaf(item,_37d,m)||_35a.isParent(item,_37d);_382(_388,item);_387.resolve(_356.MESSAGING_STOP_PROPAGATION);}else{_387.resolve(_356.MESSAGING_CONTINUE_PROPAGATION);}},_385,_37b);_37d.fetch({query:{href:href},queryOptions:{deep:true},onComplete:_386});return _385;}}return undefined;},_show:function(_38b){if(_38b){var _38c=_358.getExpansionState(this.getData());if(_357.isString(_38c)){var _38d=_357.getObject("model.store",this._tree);if(_38d){var item=_38d.getItemById(_38c);if(item){this._setTopicParentChain(item,true);}}}else{if(_357.isArray(_38c)){_359.revealSelectedTreeNode(this._tree);}}}},_setTopicParentChain:function(item,_38e){var m=this._tree.model;var _38f=m.store;var id=_38f.getValue(item,_356.TOC_ID);var _390=_35b.get(_356.CACHE_TOPIC_ID_TO_PARENT_CHAIN,id);if(_390===undefined){var _391=_359.getParentChain(item,_38f);_390=_349.map(_391,function(it){var itId=_38f.getValue(it,_356.TOC_ID);var _392=_35b.get(_356.CACHE_TOPIC_ID_TO_TOPIC_MODEL,itId);if(_392===undefined){_392=new kc.model.Topic();_357.copyProperties(it,_392,_38f);_35b.put(_356.CACHE_TOPIC_ID_TO_TOPIC_MODEL,itId,_392);}return _392;});_35b.put(_356.CACHE_TOPIC_ID_TO_PARENT_CHAIN,id,_390);}if(_38e){var path=_349.map(_390,function(_393){return _393.id;});path.unshift(m.rootId);_359.expandToPath(this._tree,[path]);}_354.publish(_355.CONSOLE_NAVIGATION_EXPANSION,[this.getData(),_390]);},_focusRequested:false,focus:function(){if(this._tree&&this._tree.rootNode){this._focus();}else{this._focusRequested=true;}},_focus:function(){if(this._tree){if(this._tree.lastFocused){this._tree.focusNode(this._tree.lastFocused);}else{var node=this._tree._getRootOrFirstNode();if(node){this._tree.focusNode(node);}}}else{if(this._treePlaceholder){_34f.focus(this._treePlaceholder);}}},findTitle:function(){var _394=this._notAvailableTitle;var _395=_35d.getParentWidget(this,kc.widget.navigation.TOC);var _396=_395._tocContentContainer;var _397=_396.getChildren();if(_357.isArray(_397)){var _398=_349.indexOf(_397,this);if(_397.length>1){if(_398===1){_394=this._backToAllProductsTitle;}else{var _399=_397[_398-1];if(_399&&_357.isFunction(_399.getData)){_394=_357.getObject("title",_399.getData(),this._notAvailableTitle);}}}else{_394=this._productsMessage;}}return _394;},destroyRecursive:function(){if(this._tree){this._tree.destroyRecursive();}this.inherited(arguments);}});});},"kc/Topics":function(){define("kc/Topics",["dojo/_base/lang"],function(lang){lang.getObject("kc",true);kc.topics={KC_READY:"/kc/ready",HASH_CHANGE:"/kc/hashChange",HASH_CHANGE_TOPIC_PREFIX:"/kc/hashChange/",KC_CONTENT:"/kc/content",BROWSER_URL_CHANGE:"/browser/urlChange",BROWSER_STATE_CHANGE:"/browser/stateChange",KC_TOC_CHANGE:"/kc/tocChange",KC_TOC_STORE_CREATED:"/kc/toc/storeCreated",TOGGLE_SPLITTER_MOVE:"/toggleSplitter/move",CONSOLE_NAVIGATION_RESIZE:"/console/navigation/resize",CONSOLE_NAVIGATION_EXPANSION:"/console/navigation/expansion",CONSOLE_NAVIGATION_EXPANSION_DEFERRED_LOADER:"/console/navigation/expansion/deferred",KC_LANGUAGE_CHANGE:"/kc/languageChange",KC_NOTIFICATION:"/kc/notification",KC_OUTDATE_LOCALES:"kc/content/outDateLocales",KC_HEALTH_CHECK_ALERT:"/kc/healthCheck",KC_DATA_TOCCONTENT:"/kc/data/tocContent/",KC_DATA_TOCCONTENT_PARENTS:"/kc/data/tocContent/parents",KC_DATA_SEARCH:"/kc/data/search",KC_DATA_COLLECTION:"/kc/data/collection",KC_DATA_COLLECTIONS:"/kc/data/collections",KC_DATA_FEEDBACK:"/kc/data/feedback",KC_ACTION:"/kc/action",CONSOLE_FILTER:"/console/filter",CONSOLE_CONTENT:"/console/content",CONSOLE_NAVIGATION:"/console/navigation",CONSOLE_RELATED_CONTENT:"/console/relatedContent",CONSOLE_NAVIGATION_FIND_TOPIC:"/console/navigation/find/topic",CONSOLE_TOC:"/console/toc",KC_WELCOME:"/kc/welcome",KC_TOPIC:"/kc/topic",KC_SEARCH:"/kc/search",KC_COLLECTION:"/kc/collection",KC_TOC:"/kc/toc",KC_COMMENT_EDIT:"/kc/commentEdit",KC_TOPIC_IFRAME_RESIZED:"/kc/topicIframeResized",KC_SIGN_IN:"/kc/signIn",KC_POST_SIGN_IN_ACTION:"/kc/postSignInAction",KC_SIGN_IN_CANCEL:"/kc/signInCancel",KC_SIGN_IN_SUCCESS:"/kc/signInSuccess",EXTERNAL_LINK:"/external/link",EXTERNAL_OPEN_IN_NEW_WINDOW:"/external/openInNew",EXTERNAL_CONTACT:"/external/contact",EXTERNAL_PRIVACY:"/external/privacy",EXTERNAL_TERMS:"/external/terms",EXTERNAL_ACCESSIBILITY:"/external/accessibility",EXTERNAL_FEEDBACK:"/external/feedback",KC_FOCUS:"/kc/focus",KC_FILTER:"/kc/filter",KC_ACCESS_KEY:"/kc/accesskey",end:"end"};return kc.topics;});},"url:kc/widget/collection/templates/NewCollectionDialog.html":"<div>\n\t<!-- TODO add accessibility, tab cycles -->\n\t<div data-dojo-attach-point=\"_form\" data-dojo-type=\"dijit.form.Form\">\n\t\t<label>${title}</label>\n\t\t<div class=\"\" data-dojo-type=\"idx.oneui.form.TextBox\" data-dojo-props=\"trim: true, required: true, maxlength:128\" data-dojo-attach-point=\"_title\"\n\t\t\t\ttype=\"text\" name=\"title\" value=\"\"></div>\n\t</div>\n</div>\n","kc/widget/topic/TopicImageResize":function(){define("kc/widget/topic/TopicImageResize",["dojo/_base/declare","dojo/_base/lang","kc/Utils"],function(_39a,lang,_39b){return _39a("kc.widget.topic.TopicImageResize",[],{_initialized:false,__getImages:function(win){try{if(win&&(typeof win.contentDocument!="unknown")){var doc=win.contentDocument;var img=doc.images;return img;}}catch(error){}},resizeAtPageLoad:function(win){var _39c=this.__getImages(win);if(_39c){this.imgw=new Array();this.imgh=new Array();this.neww=new Array();this.newh=new Array();this.mapn=new Array();this.areacoords=new Array();this.areaelems=new Array();for(var i=0;i<_39c.length;i++){this.imgw[i]=_39c[i].width;this.imgh[i]=_39c[i].height;this.mapn[i]=_39c[i].useMap;}var doc=win.contentDocument;if(doc.getElementsByTagName){this.areaelems=doc.getElementsByTagName("area");}else{if(doc.all){this.areaelems=doc.all.tags("area");}}if(this.areaelems){for(i=0;i<this.areaelems.length;i++){this.areacoords[i]=this.areaelems[i].coords;}}for(i=0;i<_39c.length;i++){this._resize(win,i);}if(this.areaelems){for(i=0;i<this.areaelems.length;i++){this._rescale(win,i);}}}this._initialized=true;},resizeAllImages:function(win){if(!this._initialized){this.resizeAtPageLoad(win);}var _39d=this.__getImages(win);if(_39d){for(i=0;i<_39d.length;i++){this._resize(win,i);}if(this.areaelems){for(i=0;i<this.areaelems.length;i++){this._rescale(win,i);}}}},_resize:function(win,j){var doc=win.contentDocument;var w=this.imgw[j];var h=this.imgh[j];if(doc.images[j].offsetLeft!=null){var ix=0;var o=doc.images[j];while(o!=null){ix+=o.offsetLeft;o=o.offsetParent;}}else{if(doc.images[j].x!=null){var ix=doc.images[j].x;}}if(win.innerWidth==null){var iw=doc.body.clientWidth;var ih=doc.body.clientHeight;}else{var iw=win.innerWidth;var ih=win.innerHeight;}if((w+ix)>iw){var nw=iw-25-ix;var nh=h*(nw/w);}else{var nw=w;var nh=h;}doc.images[j].width=nw;this.neww[j]=nw;doc.images[j].height=nh;this.newh[j]=nh;},_rescale:function(win,j){var _39e=new Array();_39e=this.areacoords[j].split(",");for(var l=0;l<_39e.length;l++){_39e[l]=parseInt(_39e[l]);}var _39f=this.areaelems[j].parentNode.name;var doc=win.contentDocument;for(var m=0;m<doc.images.length;m++){if(doc.images[m].useMap.substring(1)==_39f){if(this.neww[m]&&this.imgw[m]&&this.imgw[m]!=0){var _3a0=this.neww[m]/this.imgw[m];if(_3a0!=1){for(var k=0;k<_39e.length;k++){_39e[k]=(parseInt(_39e[k]*(_3a0))).toString();}}}this.areaelems[j].coords=_39e.join(",");}}}});});},"kc/Utils":function(){define("kc/Utils",["dojo/_base/lang","dojo/_base/array","dojo/_base/config","dojo/json","dojo/string","idx/string","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-attr","kc/Constants","idx/util","kc/widget/common/_KCi18nMixin"],function(lang,_3a1,_3a2,json,_3a3,_3a4,_3a5,_3a6,_3a7,_3a8,_3a9,_3aa,_3ab){lang.getObject("kc",true);kc.utils={setObject:function(_3ac,_3ad,_3ae){return lang.setObject(_3ac,_3ad,_3ae);},getObject:function(_3af,_3b0,_3b1,_3b2){var _3b3=lang.getObject(_3af,false,_3b0);if(arguments.length==2){return _3b3;}if(_3b3===undefined||_3b3===null){if(_3b2){lang.setObject(_3af,_3b1,_3b0);}return _3b1;}return _3b3;},_propertiesCache:{},getPropertiesOfObject:function(_3b4){if(this.isObject(_3b4)){var _3b5=_3b4.declaredClass;if(_3b5){var _3b6=this._propertiesCache[_3b5];if(_3b6){return _3b6;}_3b4=_3b4.constructor.prototype;}var _3b7=[];for(var p in _3b4){if(!_3b4.hasOwnProperty(p)){continue;}if(p===undefined){continue;}var v=this.getObject(p,_3b4);if(this.isFunction(v)||p==="declaredClass"){continue;}_3b7.push(p);}if(_3b5){this._propertiesCache[_3b5]=_3b7;}return _3b7;}else{return [];}},copyProperties:function(_3b8,_3b9,_3ba){if(this.isObject(_3b8)&&this.isObject(_3b9)){var _3bb=this.getPropertiesOfObject(_3b9);var _3bc=this.getObject;if(_3ba){_3bc=lang.hitch(this,function(_3bd,_3be){if(_3ba.isItem(_3be)){return _3ba.getValue(_3be,_3bd);}else{return this.getObject(_3bd,_3be);}});}var _3bf=this.setObject;_3a1.forEach(_3bb,function(p){var _3c0=_3bc(p,_3b8,undefined);if(_3c0!==undefined){_3bf(p,_3c0,_3b9);}});return _3b9;}},unClass:function(_3c1){if(this.isObject(_3c1)){var _3c2={};var _3c3=this.getPropertiesOfObject(_3c1);_3a1.forEach(_3c3,function(p){_3c2[p]=_3c1[p];});return _3c2;}return _3c1;},instanceOf:function(_3c4,_3c5){if(!this.isObject(_3c4)){return false;}var dc=this.getObject("declaredClass",_3c4);if(this.isString(dc)&&_3c5&&dc===this.getObject("prototype.declaredClass",_3c5)){return true;}if(this.isFunction(_3c4.isInstanceOf)){return _3c4.isInstanceOf(_3c5);}return false;},compareObjects:function(_3c6,_3c7){var _3c8=!this.isEmpty(_3c6);var _3c9=!this.isEmpty(_3c7);if(_3c8!=_3c9){return false;}if(!_3c8&&!_3c9){return true;}var _3ca=this.getPropertiesOfObject(_3c6);var _3cb=this.getPropertiesOfObject(_3c7);if(_3ca.length!=_3cb.length){return false;}if(_3ca.length==0){return true;}return _3a1.every(_3ca,lang.hitch(this,function(prop){if(!_3c7.hasOwnProperty(prop)){return false;}if(this.isArray(_3c6[prop])&&this.isArray(_3c7[prop])){return _3c6[prop].toString()===_3c7[prop].toString();}else{if(this.isObject(_3c6[prop])&&this.isObject(_3c7[prop])){return this.compareObjects(_3c6[prop],_3c7[prop]);}else{return _3c6[prop]===_3c7[prop];}}}));},isString:function(n){return (typeof n==="string"||n instanceof String);},isArray:function(n){return n&&(n instanceof Array||typeof n==="array");},_opts:Object.prototype.toString,isFunction:function(n){return this._opts.call(n)==="[object Function]";},isNumber:function(n){return (typeof n==="number"&&isFinite(n));},isObject:function(n){return (typeof n==="object"&&n!==null);},isUndefined:function(n){return (typeof n==="undefined");},isEmpty:function(n){if(n===undefined||n===null){return true;}if(this.isArray(n)){return n.length==0;}if(this.isString(n)){return _3a3.trim(n).length==0;}return this.getPropertiesOfObject(n).length==0;},getFirstElementOfArray:function(arr){if(!this.isArray(arr)){return undefined;}if(arr.length==0){return undefined;}return arr[0];},getLastElementOfArray:function(arr){if(!this.isArray(arr)){return undefined;}if(arr.length==0){return undefined;}return arr[arr.length-1];},indexOfByProperty:function(arr,_3cc,_3cd,_3ce){var _3cf=-1;if(_3cc&&this.isArray(arr)){for(var i=0;i<arr.length;i++){var o=arr[i];if(_3ce){if(this.getObject(_3cc,o)==_3cd){_3cf=i;break;}}else{if(this.getObject(_3cc,o)===_3cd){_3cf=i;break;}}}}return _3cf;},findByProperty:function(data,_3d0,_3d1,_3d2){var _3d3=[];if(this.isEmpty(_3d0)){return _3d3;}if(!this.isArray(data)&&!this.isObject(data)){return _3d3;}var walk=lang.hitch(this,function(obj){if(this.isArray(obj)){_3a1.forEach(obj,lang.hitch(this,function(o){walk(o);}));}else{if(this.isObject(obj)&&obj!==null){if(this.isUndefined(_3d1)){if(!this.isUndefined(obj[_3d0])){_3d3.push(obj);}}else{if(_3d2){if(this.getObject(_3d0,obj)==_3d1){_3d3.push(obj);}}else{if(this.getObject(_3d0,obj)===_3d1){_3d3.push(obj);}}}for(var p in obj){walk(obj[p]);}}}});walk(data);return _3d3;},deleteByProperty:function(data,_3d4,_3d5,_3d6){if(this.isEmpty(_3d4)){return data;}if(!this.isArray(data)&&!this.isObject(data)){return data;}var walk=lang.hitch(this,function(obj){if(this.isArray(obj)){for(k=obj.length;k>=0;k--){var o=obj[k];if(this.isObject(o)&&o!==null){if(this.isUndefined(_3d5)){if(!this.isUndefined(o[_3d4])){obj.splice(k,1);}}else{if(_3d6){if(this.getObject(_3d4,o)==_3d5){obj.splice(k,1);}}else{if(this.getObject(_3d4,o)===_3d5){obj.splice(k,1);}}}}}_3a1.forEach(obj,lang.hitch(this,function(o){walk(o);}));}else{if(this.isObject(obj)&&obj!==null){for(var p in obj){var o=obj[p];if(this.isObject(o)&&o!==null){if(this.isUndefined(_3d5)){if(!this.isUndefined(o[_3d4])){delete obj[p];}}else{if(_3d6){if(this.getObject(_3d4,o)==_3d5){delete obj[p];}}else{if(this.getObject(_3d4,o)===_3d5){delete obj[p];}}}}}for(var p in obj){walk(obj[p]);}}}});walk(data);return data;},getSupportedLanguage:function(_3d7){var _3d8="en";if(_3d7===null||_3d7===undefined){_3d7=_3a9.KC_LANGUAGE;}_3d7=_3a3.trim(_3d7).toLowerCase();var _3d9="";var _3da=Math.max(_3d7.indexOf("-"),_3d7.indexOf("_"));if(_3da>-1){_3d9=_3d7.substring(0,_3da);_3d7=_3d7.replace("_","-");}var _3db=_3a1.indexOf(_3a9.SUPPORTED_LOCALES_ARRAY,_3d7);if(_3db>-1){_3d8=_3a9.SUPPORTED_LANGUAGES[_3db].id.toString();}else{if(_3d9.length>0){var _3dc=_3a1.indexOf(_3a9.SUPPORTED_LANGUAGES_ARRAY,_3d9);if(_3dc>-1){_3d8=_3a9.SUPPORTED_LANGUAGES[_3dc].id.toString();}}}return _3d8;},messages:new _3ab(),getSupportedLanguageName:function(_3dd){var _3de=_3dd;if(_3dd===null||_3dd===undefined){_3dd=_3a9.KC_LANGUAGE;}_3dd=_3a3.trim(_3dd).toLowerCase();var _3df="";var _3e0=Math.max(_3dd.indexOf("-"),_3dd.indexOf("_"));if(_3e0>-1){_3df=_3dd.substring(0,_3e0);_3dd=_3dd.replace("_","-");}var _3e1=_3a1.indexOf(_3a9.SUPPORTED_LOCALES_ARRAY,_3dd);if(_3e1>-1){var l=_3a9.SUPPORTED_LANGUAGES[_3e1];if(l.id===_3a9.KC_LANGUAGE){_3de=l.label.toString();}else{_3de=this.messages.getString(l.languageNameKey)+" / "+l.label;}}else{if(_3df.length>0){var _3e2=_3a1.indexOf(_3a9.SUPPORTED_LANGUAGES_ARRAY,_3df);if(_3e2>-1){var l=_3a9.SUPPORTED_LANGUAGES[_3e2];if(l.id===_3a9.KC_LANGUAGE){_3de=l.label.toString();}else{_3de=this.messages.getString(l.languageNameKey)+" / "+l.label;}}}}return _3de;},alphabeticSort:function(_3e3,_3e4){if(_3e3&&_3e4){_3e3.comparatorMap={};_3e3.comparatorMap[_3e4]=function(a,b){return a.toLowerCase().localeCompare(b.toLowerCase());};}},stripBeginning:function(_3e5,_3e6,_3e7){if(this.isString(_3e5)&&this.isString(_3e6)){if(_3e7){_3e5=_3e5.toLowerCase();_3e6=_3e6.toLowerCase();}if(_3a4.startsWith(_3e5,_3e6)){return _3e5.substr(_3e6.length);}}return _3e5;},stripEnding:function(_3e8,_3e9,_3ea){if(this.isString(_3e8)&&this.isString(_3e9)){if(_3ea){_3e8=_3e8.toLowerCase();_3e9=_3e9.toLowerCase();}if(_3a4.endsWith(_3e8,_3e9)){return _3e8.substr(0,_3e8.length-_3e9.length);}}return _3e8;},stripBefore:function(_3eb,q){if(this.isString(_3eb)&&this.isString(q)){var qLoc=_3eb.indexOf(q);if(qLoc>-1){return _3eb.substr(qLoc+q.length);}}return _3eb;},stripAfter:function(_3ec,q){if(this.isString(_3ec)&&this.isString(q)){var qLoc=_3ec.indexOf(q);if(qLoc>-1){return _3ec.substr(0,qLoc);}}return _3ec;},stripAfterLast:function(_3ed,q){if(this.isString(_3ed)&&this.isString(q)){var qLoc=_3ed.lastIndexOf(q);if(qLoc>-1){return _3ed.substr(0,qLoc);}}return _3ed;},escapeQuotes:function(_3ee){if(this.isEmpty(_3ee)){return _3ee;}return _3ee.replace(/'/g,"\\x27").replace(/"/g,"\\x22");},stringify:function(_3ef){var _3f0=[];return json.stringify(_3ef,lang.hitch(this,function(key,_3f1){if(this.isObject(_3f1)){if(_3a1.indexOf(_3f0,_3f1)>=0){return "__cycle_detected__";}else{_3f0.push(_3f1);}}return _3f1;}));},printToConsole:function(_3f2){},setWidgetEnabled:function(_3f3,_3f4){if(this.isArray(_3f3)){_3a1.forEach(_3f3,lang.hitch(this,function(w){if(w){w.set("disabled",!_3f4);}}));}else{if(_3f3){_3f3.set("disabled",!_3f4);}}},setWidgetShow:function(_3f5,show){if(this.isArray(_3f5)){_3a1.forEach(_3f5,lang.hitch(this,function(w){if(w){this.setDomNodeShow(w.domNode,show);}}));}else{if(_3f5){this.setDomNodeShow(_3f5.domNode,show);}}},setWidgetTooltip:function(_3f6,text){if(_3f6){_3a8.set(_3f6,"title",text);}},setDomNodeShow:function(_3f7,show){if(_3f7){if(show){_3a5.remove(_3f7,"hidden");}else{_3a5.add(_3f7,"hidden");}}},isDomNodeHidden:function(_3f8){if(_3f8){return _3a5.contains(_3f8,"hidden");}},repeatText:function(text,n){return new Array(n+1).join(text);},countCharacters:function(text,_3f9){if(this.isString(text)&&this.isString(_3f9)){var m=text.match(new RegExp(_3f9,"g"));return this.isArray(m)?m.length:0;}else{return 0;}},getStaticSize:function(node,_3fa){var _3fb=_3aa._getNodeStyle(node);var _3fc={};if(_3fb){_3a1.forEach(this.getPropertiesOfObject(_3fb),function(prop){_3fc[_3a3.trim(prop)]=_3a3.trim(_3fb[prop]);});}var _3fd={position:"static",display:"block",width:"auto",height:"auto"};if(this.isObject(_3fa)){lang.mixin(_3fd,_3fa);}var _3fe=lang.clone(_3fd);for(var p in _3fe){_3fe[p]=this.getObject(p,_3fc,"");}_3a6.set(node,_3fd);var dim=_3a7.getMarginBox(node);_3a6.set(node,_3fe);return dim;},resolveRelativePath:function(href){href=this.__cleanupPath(href);href=this.__compactPath(href);return href;},__cleanupPath:function(path){path=path||"";path=path.replace(/\\/g,"/");if(path.length>1&&path.charAt(path.length-1)=="/"){path=path.substring(0,path.length-1);}return path;},__compactPath:function(path){var _3ff=[],_400,_401;path=path.replace(/\\/g,"/").split("/");while(path.length){_400=path.shift();if(_400==".."&&_3ff.length&&_401!=".."){_3ff.pop();_401=_3ff[_3ff.length-1];}else{if(_400!="."){_3ff.push(_401=_400);}}}return _3ff.join("/");},findDuplicates:function(data,_402){if(!this.isObject(data)){return data;}if(this.isEmpty(_402)){_402="id";}var _403={};var _404=this.findByProperty(data,_402);_3a1.forEach(_404,lang.hitch(this,function(i){var val=i[_402];if(!this.isUndefined(val)){if(this.isUndefined(_403[val])){_403[val]=[i];}else{_403[val].push(i);}}}));for(p in _403){if(_403[p].length===1){delete _403[p];}}return _403;},removeDuplicateItems:function(data,_405,_406){if(!this.isObject(data)){return data;}var _407;var _408=(this.isObject(_405)&&this.isObject(_405._itemsByIdentity)&&this.isFunction(_405.getIdentityAttributes));if(_408){_407=this.getFirstElementOfArray(_405.getIdentityAttributes());if(!this.isString(_407)){_408=false;}}if(!_408){if(this.isString(_405)){_407=_405;}else{_407="id";}}var _409=this.findByProperty(data,_407);if(!_408){var _40a={};_3a1.forEach(_409,lang.hitch(this,function(i){var val=i[_407];if(!this.isUndefined(val)){if(this.isUndefined(_40a[val])){_40a[val]=true;}else{if(_406){console.error("Duplicate item detected with "+_407+" = "+val+". The duplicate was removed.");}i["__duplicate"]=true;}}}));}else{var _40b=_405;_3a1.forEach(_409,lang.hitch(this,function(i){var val=i[_407];if(!this.isUndefined(val)&&!this.isUndefined(_40b._itemsByIdentity[val])){if(_406){console.error("Duplicate item detected with "+_407+" = "+val+". The duplicate was removed.");}i["__duplicate"]=true;}}));}this.deleteByProperty(data,"__duplicate",true);},isSourceFromArea:function(_40c,_40d){if(!_40c||!_40d){return false;}return ((_40c&_40d)==_40c);},constructRelativeHref:function(href){var _40e=href;if(!this.isEmpty(_40e)){if(_40e.indexOf("$root$")>-1){_40e=_3a9.KC_ROOT+this.stripBefore(_40e,"$root$");}if(_40e.indexOf("$lang$")>-1){if(_3a9.KC_LANGUAGE!=="en"){_40e=_40e.replace(/\$lang\$/g,_3a9.KC_LANGUAGE);}else{_40e=_40e.replace(/\$lang\$\//g,"");}}if(_40e.indexOf("$externalpathlang$")>-1){_40e=_40e.replace(/\$externalpathlang\$/g,_3a9.KC_LANGUAGE_EXTERNAL_PATH);}}return _40e===href?undefined:_40e;},clone:function(o){try{return json.parse(json.stringify(o));}catch(err){return lang.clone(o);}},defer:function(f,_40f){var _410=setTimeout(lang.hitch(this,function(){_410=null;lang.hitch(this,f)();}),_40f||0);return {remove:function(){if(_410){clearTimeout(_410);_410=null;}return null;}};},deferredFunctionWrapper:function(f,_411){if(!this.isFunction(f)){return f;}return lang.hitch(this,function(){setTimeout(lang.hitch(this,function(a){f.apply(this,a);},(arguments||[])),_411||0);});},createMetaTag:function(_412,name,_413,_414){var meta=_412.createElement("meta");meta.name=name;meta.content=_413;meta.scheme=_414;_412.getElementsByTagName("head")[0].appendChild(meta);},createJavascriptTag:function(_415,url){var _416=_415.createElement("script");_416.src=url;_416.type="text/javascript";_416.async=true;return _415.getElementsByTagName("head")[0].appendChild(_416);},isNewTabClick:function(evt){return evt&&(evt.button===1||(evt.button===0&&evt.ctrlKey));},getExternalMobileSite:function(){var hash=window.location.hash;var _417=window.location.search;var _418=window.location.pathname.replace(_3a9.KC_ROOT,"");if(hash!==""){hash=hash.replace("#!/","");var _419=hash.split("?");if(_419.length>1){_417="?"+_419[1];}_418="/"+_419[0];}var _41a=_3a9.KC_ROOT+"/mobile";_418=_418==""?"/":_418;_41a+=_418!="/"?"/#!":"";return _41a+_418+_417;},existsLocalStorage:function(){var mod="modernizr";try{localStorage.setItem(mod,mod);localStorage.removeItem(mod);return true;}catch(e){return false;}}};return kc.utils;});},"kc/widget/common/_KCFocusRingMixin":function(){define("kc/widget/common/_KCFocusRingMixin",["dojo/_base/connect","dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/keys","dojo/on","dijit/a11y","dijit/focus"],function(_41b,_41c,_41d,lang,keys,on,a11y,_41e){return _41c([],{onCancel:function(){},postCreate:function(){this.inherited(arguments);this._connects.push(on(this.domNode,_41b._keypress,lang.hitch(this,"_onKey")));},_getFocusItems:function(){var _41f=a11y._getTabNavigable(this.domNode);this._firstFocusItem=_41f.lowest||_41f.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_41f.last||_41f.highest||this._firstFocusItem;},_onKey:function(evt){if(evt.charOrCode){var node=evt.target;if(evt.charOrCode===keys.TAB){this._getFocusItems(this.domNode);}var _420=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){if(!_420){_41e.focus(this._lastFocusItem);}_41d.stop(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){if(!_420){_41e.focus(this._firstFocusItem);}_41d.stop(evt);}else{while(node){if(node==this.domNode){if(evt.charOrCode==keys.ESCAPE){this.onCancel();}else{return;}}node=node.parentNode;}if(evt.charOrCode!==keys.TAB){_41d.stop(evt);}else{if(!has("opera")){try{this._firstFocusItem.focus();}catch(e){}}}}}}}});});},"url:kc/widget/topic/templates/Rating.html":"<div class=\"displayInlineBlock\">\n\t<div data-dojo-attach-point=\"_topicThumbs\" class=\"topicThumbs\">\n\t\t<div data-dojo-attach-point=\"_thumbsUp\"   \tclass=\"thumb thumbsUp imageLink\"\t\tdata-dojo-type=\"idx.form.Link\" label=\"&nbsp;\"></div>\n\t\t<div data-dojo-attach-point=\"_likeBadge\"  \tclass=\"likeBadge imageLink\" \t\t\tdata-dojo-type=\"kc.widget.common.Badge\"></div>\n\t\t<div data-dojo-attach-point=\"_thumbsDown\" \tclass=\"thumb thumbsDown marginLeading5 imageLink\"\tdata-dojo-type=\"idx.form.Link\" label=\"&nbsp;\"></div>\n\t\t<div data-dojo-attach-point=\"_dislikeBadge\"\tclass=\"dislikeBadge imageLink\" \t\tdata-dojo-type=\"kc.widget.common.Badge\"></div>\n\t</div>\n\t\n\t<!-- \n\t<div data-dojo-attach-point=\"_userRating\" class=\"userRating\">\n\t\t<span data-dojo-attach-point=\"_userRatingMessage\"   class=\"floatLeading userRatingMessage\"></span>\n\t\t<div data-dojo-attach-point=\"_removeRating\" \t\tclass=\"floatLeading removeRating marginLeading5\" data-dojo-type=\"idx.form.Link\" label=\"${msgRatingRemove}\"></div>\n\t\t<div class=\"clearBoth\"></div>\n\t</div>\n\t -->\n\t\n</div>","kc/Messaging":function(){define("kc/Messaging",["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/ready","dojox/uuid/generateRandomUuid","kc/Constants","kc/Utils"],function(_421,_422,lang,_423,_424,_425,uuid,_426,_427){_421("kc.Messaging",null,{_initialized:false,topics:null,initialize:function(){if(this._initialized){return;}this.topics=[];this._initialized=true;},subscribe:function(_428,_429,_42a,_42b,once){if(_427.isArray(_428)){return _423.map(_428,lang.hitch(this,function(t){return this._subscribe(t,_429,_42a,_42b,once);}));}else{return this._subscribe(_428,_429,_42a,_42b,once);}},_subscribe:function(_42c,_42d,_42e,_42f,once){if(_426.debugMode){}_42d=_42d==null?_422.global:_42d;if(typeof this.topics[_42c]=="undefined"){this.topics[_42c]={handlers:[]};}if(!_427.isFunction(_42e)){_42e=_427.getObject(_42e,_42d);}if(!_427.isNumber(_42f)){_42f=_426.MESSAGING_PRIORITY_NORMAL;}if(once!==true){once=false;}var _430={uuid:uuid(),caller:function(args){if(args===undefined){return _42e.apply(_42d);}else{return _42e.apply(_42d,args);}},topic:_42c,priority:_42f,once:once};var _431=this.topics[_42c].handlers;var _432=-1;var _433=_42f+1;for(var h=0;h<_431.length;h++){if(_431[h].priority>=_433){_432=h;break;}}if(_432==-1){_431.push(_430);}else{_431.splice(_432,0,_430);}return _430;},unsubscribe:function(_434){if(this.topics===undefined){return;}if(_434&&_434.topic){var _435=this.topics[_434.topic].handlers;var _436=_427.indexOfByProperty(_435,"uuid",_434.uuid);if(_436>-1){_435.splice(_436,1);}}else{throw new Error("Messaging.unsubscribe: invalid handle");}},publish:function(_437,args,_438){if(_438!==true){_438=false;}if(_426.debugMode){try{if(!_437){console.error("Messaging.publish has been called with no topic name. This is probably not what you intended to do... Arguments:");}if(_438){}else{}_427.printToConsole(args);}catch(error){}}if(typeof this.topics[_437]!="undefined"){var _439=this.topics[_437].handlers;var _43a=lang.clone(_439);if(_438){_43a.reverse();}this._publish(_437,_43a,args);}},_publish:function(_43b,_43c,args,_43d){var _43e=[];var once=[];var _43f=0;if(_43d){_43e=_43d.notified;once=_43d.once;_43f=_43d.start;}for(var i=_43f;i<_43c.length;i++){var _440=_43c[i];try{if(_440.once){once.push(_440);}_43e.push(_440.uuid);var _441=_440.caller(args);if(_426.MESSAGING_STOP_PROPAGATION===_441){if(_426.debugMode){}break;}else{if(_441&&_441 instanceof _424){var _43d={notified:_43e,once:once,start:i+1};if(_426.debugMode){}return _424.when(_441,lang.hitch(this,function(_442){if(_426.MESSAGING_CONTINUE_PROPAGATION===_442){return this._publish(_43b,_43c,args,_43d);}return _43d.notified;}),lang.hitch(this,function(){return _43d.notified;}));}}}catch(error){console.error("Handler for topic threw exception: "+_43b+" ** "+error);}}_423.forEach(once,lang.hitch(this,this.unsubscribe));return _43e;}});kc.Messaging.instance=null,kc.Messaging.getInstance=function(){if(kc.Messaging.instance===null){kc.Messaging.instance=new kc.Messaging();kc.Messaging.instance.initialize();}return kc.Messaging.instance;};return kc.Messaging.getInstance();});},"kc/controller/AuthenticationController":function(){define("kc/controller/AuthenticationController",["dojo/_base/declare","dojo/_base/lang","dojo/_base/xhr","dojo/json","kc/state/KCState","kc/controller/Handler","kc/Constants","kc/Topics","kc/URIs","kc/model/User"],function(_443,lang,xhr,json,_444,_445,_446,_447,URIs){_443("kc.controller.AuthenticationController",null,{_initialized:false,initialize:function(){if(this._initialized){return;}this._initialized=true;xhr("GET",{url:URIs.FETCH_SESSION,timeout:_446.XHR_TIMEOUT,preventCache:true,sync:true,handleAs:"json",load:function(r){if(r&&r.username){_444.user=new kc.model.User({loginName:r.username,displayName:r.userdisplaynm});}},error:function(_448,_449){}});},signOut:function(){xhr("HEAD",{url:URIs.SESSION,timeout:_446.XHR_TIMEOUT,preventCache:true,headers:{"X-Method-Override":"DELETE","Content-Type":"text/plain"},load:function(_44a,_44b){location.reload();},error:function(){location.reload();}});},signInSSO:function(){var _44c=window.location.href;_44c=_44c.replace(_446.KC_ROOT,"/login");window.location.href=_44c;},signIn:function(_44d,_44e,_44f){xhr("POST",{url:URIs.LOGIN,timeout:_446.XHR_TIMEOUT,preventCache:true,headers:{Authorization:"Basic "+_44d},load:_44e,error:_44f});},checkAuthenticated:function(_450){var url=URIs.CHECK_AUTHENTICATED;var _451={};_451.url=url;_451.preventCache=true;_451.timeout=_446.XHR_TIMEOUT;_451.handleAs="json";_451.sync=true;_451.postSignInAction=_450;var _452=undefined;_445.doXhrGet(_451).then(lang.hitch(this,function(r){_452=_446.MESSAGING_CONTINUE_PROPAGATION;}),lang.hitch(this,function(r){_452=_446.MESSAGING_STOP_PROPAGATION;}));return _452;}});kc.controller.AuthenticationController.instance=null,kc.controller.AuthenticationController.getInstance=function(){if(kc.controller.AuthenticationController.instance===null){kc.controller.AuthenticationController.instance=new kc.controller.AuthenticationController();kc.controller.AuthenticationController.instance.initialize();}return kc.controller.AuthenticationController.instance;};return kc.controller.AuthenticationController.getInstance();});},"dijit/form/CheckBox":function(){require({cache:{"url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"onclick:_onClick\"\n/></div>\n"}});define("dijit/form/CheckBox",["require","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom"],function(_453,_454,_455,_456,_457,_458,_459,_45a,_45b){if(!_456.isAsync){_458(0,function(){var _45c=["dijit/form/RadioButton"];_453(_45c);});}return _454("dijit.form.CheckBox",[_459,_45a],{templateString:_45b,baseClass:"dijitCheckBox",_setValueAttr:function(_45d,_45e){if(typeof _45d=="string"){this._set("value",_45d);_455.set(this.focusNode,"value",_45d);_45d=true;}if(this._created){this.set("checked",_45d,_45e);}},_getValueAttr:function(){return (this.checked?this.value:false);},_setIconClassAttr:null,postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=this.checked?"checked":"";},_fillContent:function(){},_onFocus:function(){if(this.id){_457("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){_457("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"kc/widget/topic/TopicBreadcrumbs":function(){require({cache:{"url:kc/widget/topic/templates/TopicBreadcrumbs.html":"<div class=\"topicBreadcrumbs\" data-dojo-attach-point=\"container\"></div>"}});define("kc/widget/topic/TopicBreadcrumbs",["dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/_base/array","dojo/dom-class","kc/widget/common/KCWidget","dojo/text!kc/widget/topic/templates/TopicBreadcrumbs.html","kc/Constants","kc/Topics","kc/Utils","kc/widget/topic/TopicUtils","kc/Messaging","idx/form/Link","kc/model/Topic","kc/model/TOCContent"],function(_45f,_460,lang,_461,_462,_463,_464,_465,_466,_467,_468,_469){return _45f("kc.widget.topic.TopicBreadcrumbs",_463,{templateString:_464,postCreate:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);this.linkArr=[];this.linkConnectionsArr=[];},createBreadcrumbs:function(_46a){if(_467.isArray(_46a)){_460.empty(this.container);_461.forEach(this.linkConnectionsArr,lang.hitch(this,this.removeConnection));_461.forEach(this.linkArr,function(link){link.destroy();});this.linkArr=[];this.linkConnectionsArr=[];for(var i=0;i<_46a.length;i++){if(i<_46a.length-1){var _46b=_46a[i];if(_467.instanceOf(_46b,kc.model.TOCContent)){if(!_465.showProductFamilyOnTopicBreadcrumbs){if(_468.isProductLanding(_46b)){continue;}}if(_468.hasHref(_46b)){this._createLink(_46b);}else{this._createText(_46b);}}else{if(_467.instanceOf(_46b,kc.model.Topic)){if(_468.canOpenTopicModel(_46a[i])){this._createLink(_46a[i]);}else{this._createText(_46a[i]);}}}}else{this._createText(_46a[i]);}if(i<_46a.length-1){var _46c=_460.create("span",{innerHTML:">"},this.container);_462.add(_46c,"arrow");}}}},_createLink:function(_46d){var link=new idx.form.Link({id:"bc_"+_46d.id,label:_46d.title,dir:this.isLeftToRight()?"ltr":"rtl"});this.linkConnectionsArr.push(this.addConnection(link,"onClick",this,lang.hitch(this,this._open,_46d)));this.linkArr.push(link);_460.place(link.domNode,this.container);},_createText:function(_46e){_460.create("span",{innerHTML:_46e.title,tabindex:"0",dir:this.isLeftToRight()?"ltr":"rtl"},this.container);},_open:function(_46f){if(_467.instanceOf(_46f,kc.model.TOCContent)){var _470=new kc.model.Topic();_467.copyProperties(_46f,_470);_469.publish(_466.KC_TOPIC,[_465.SOURCE_CONTENT_TOPIC_BREADCRUMBS,_470]);}else{if(_467.instanceOf(_46f,kc.model.Topic)){_469.publish(_466.KC_TOPIC,[_465.SOURCE_CONTENT_TOPIC_BREADCRUMBS,_46f]);}}}});});},"kc/controller/TopicController":function(){define("kc/controller/TopicController",["dojo/_base/lang","dojo/json","dojo/string","kc/controller/Handler","kc/URIs","kc/Utils","kc/Constants","kc/Topics","kc/widget/topic/TopicUtils"],function(lang,json,_471,_472,URIs,_473,_474,_475,_476){return {getLanguages:function(_477,_478,_479){var url=_471.substitute(URIs.TOPIC_TRANSLATIONS,[_473.getObject("href",_477)]);var _47a={};_47a.url=url;_47a.preventCache=false;_47a.kcCache=true;_47a.load=lang.hitch(this,function(_47b){var _47c=_473.getFirstElementOfArray(_473.findByProperty(_47b,"tl","iw"));if(_47c){_47c["tl"]="he";}if(_473.isFunction(_478)){_478(_47b);}});_47a.error=_479;_47a.timeout=_474.XHR_TIMEOUT;_47a.handleAs="json";_472.doXhrGet(_47a);},getOtherVersions:function(_47d,_47e,_47f){var url=_471.substitute(URIs.TOPIC_VERSIONS,[_473.getObject("href",_47d)]);var _480={};_480.url=url;_480.preventCache=false;_480.kcCache=true;_480.load=_47e;_480.error=_47f;_480.timeout=_474.XHR_TIMEOUT;_480.handleAs="json";_472.doXhrGet(_480);},getFeedback:function(_481){var _482={};_482.url=_471.substitute(URIs.FEEDBACK,[_481.href]),_482.preventCache=true;_482.timeout=_474.XHR_TIMEOUT;_482.handleAs="json";_482.load=lang.hitch(this,function(_483){_476.encodeHref(_483,"resource");});_482.error=function(_484){var _485=_473.getObject("xhr.status",_484);return _485!==403&&_485!==401;};_472.doXhrGet(_482,_475.KC_DATA_FEEDBACK);},deleteRating:function(_486,_487,_488){},setRating:function(_489,_48a,_48b,_48c,_48d){var _48e={};_48e.url=_471.substitute(URIs.FEEDBACK_RATING,[_489.href]),_48e.preventCache=true;_48e.content={rating:_48a};_48e.load=lang.hitch(this,function(_48f){_476.encodeHref(_48f,"resource");if(_48b){_48b(_48f);}});_48e.error=_48c;_48e.timeout=_474.XHR_TIMEOUT;_48e.handleAs="json";_48e.postSignInAction=_48d;_472.doXhrPost(_48e,_475.KC_DATA_FEEDBACK);},postComment:function(_490,_491,_492,_493,_494){var _495={url:_471.substitute(URIs.FEEDBACK_COMMENT,[_490.href]),preventCache:true,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"}};_495.content={"title":_491.title,"comment":_491.comment};if(_491.parentId){_495.content.parentId=_491.parentId;}_495.load=lang.hitch(this,function(_496){_476.encodeHref(_496,"resource");if(_492){_492(_496);}});_495.error=_493;_495.timeout=_474.XHR_TIMEOUT;_495.handleAs="json";_495.postSignInAction=_494;_472.doXhrPost(_495,_475.KC_DATA_FEEDBACK);},updateComment:function(){},getRelatedContents:function(_497,_498,_499){_472.doXhrGet({url:!_474.useMockdata.content&&_497&&_473.isString(_497.title)?_471.substitute(URIs.RELATED_SEARCH,[encodeURIComponent(_497.title)]):URIs.mockdata.relatedContents,load:_498,error:_499,timeout:_474.XHR_TIMEOUT,handleAs:"json"});},isEnTopicNewer:function(_49a,_49b,_49c){var url=_471.substitute(URIs.TOPIC_IS_EN_NEWER,[_473.getObject("href",_49a)]);var _49d={};_49d.url=url;_49d.preventCache=false;_49d.kcCache=true;_49d.load=lang.hitch(this,function(_49e){if(_473.isFunction(_49b)){_49b(_49e);}});_49d.error=_49c;_49d.timeout=_474.XHR_TIMEOUT;_49d.handleAs="json";_472.doXhrGet(_49d);},};});},"idx/oneui/form/nls/_InputListMixin":function(){define({root:({invalidMessage:"At least one item must be selected.",labelText:"{num} item(s) selected"}),"zh":false,"zh-tw":false,"tr":false,"th":false,"sv":false,"sl":false,"sk":false,"ru":false,"ro":false,"pt":false,"pt-pt":false,"pl":false,"nl":false,"nb":false,"ko":false,"kk":false,"ja":false,"it":false,"hu":false,"he":false,"fr":false,"fi":false,"es":false,"el":false,"de":false,"da":false,"cs":false,"ca":false,"ar":false});},"url:kc/widget/topic/templates/CommentItem.html":"<div class=\"commentItem\">\n\t<div class=\"commentTitleBar\" data-dojo-attach-point=\"titlebarNode\">\n\t\t<!-- DISABLED FOR KC R1.5 -->\n\t\t<!-- \n\t\t<span data-dojo-type=\"idx.form.Link\" class=\"commentEditLink\" data-dojo-attach-point=\"editLink\">${_commentEditLabel}</span>\n\t\t<span data-dojo-type=\"idx.form.Link\" class=\"commentDeleteLink\" data-dojo-attach-point=\"deleteLink\">${_commentDeleteLabel}</span>\n\t\t -->\n\t\t<span class=\"commentTitle\" data-dojo-attach-point=\"titleNode\"></span> \n\t\t<span class=\"commentInfo\" data-dojo-attach-point=\"author_dateNode\"></span>\n\t</div>\n\t  \n\t<div class=\"commentBody clearBoth\" data-dojo-attach-point=\"bodyNode\">\t\n\t\t<div class=\"commentContent\" data-dojo-attach-point=\"contentNode\"></div>\n\t\t\n\t\t<div>\n\t\t\t<span role=\"button\" data-dojo-type=\"idx.form.Link\" class=\"commentResponseLink\" data-dojo-attach-point=\"replyLink\">${_commentResponseLabel}</span>&nbsp;\n\t\t</div>\n\t\t\n\t\t<div data-dojo-attach-point=\"editorNode\"></div> \n\t</div>\n</div>","dojo/io/script":function(){define("dojo/io/script",["../main"],function(dojo){dojo.getObject("io",true,dojo);var _49f=dojo.isIE?"onreadystatechange":"load",_4a0=/complete|loaded/;dojo.io.script={get:function(args){var dfd=this._makeScriptDeferred(args);var _4a1=dfd.ioArgs;dojo._ioAddQueryToUrl(_4a1);dojo._ioNotifyStart(dfd);if(this._canAttach(_4a1)){var node=this.attach(_4a1.id,_4a1.url,args.frameDoc);if(!_4a1.jsonp&&!_4a1.args.checkString){var _4a2=dojo.connect(node,_49f,function(evt){if(evt.type=="load"||_4a0.test(node.readyState)){dojo.disconnect(_4a2);_4a1.scriptLoaded=evt;}});}}dojo._ioWatch(dfd,this._validCheck,this._ioCheck,this._resHandle);return dfd;},attach:function(id,url,_4a3){var doc=(_4a3||dojo.doc);var _4a4=doc.createElement("script");_4a4.type="text/javascript";_4a4.src=url;_4a4.id=id;_4a4.async=true;_4a4.charset="utf-8";return doc.getElementsByTagName("head")[0].appendChild(_4a4);},remove:function(id,_4a5){dojo.destroy(dojo.byId(id,_4a5));if(this["jsonp_"+id]){delete this["jsonp_"+id];}},_makeScriptDeferred:function(args){var dfd=dojo._ioSetArgs(args,this._deferredCancel,this._deferredOk,this._deferredError);var _4a6=dfd.ioArgs;_4a6.id=dojo._scopeName+"IoScript"+(this._counter++);_4a6.canDelete=false;_4a6.jsonp=args.callbackParamName||args.jsonp;if(_4a6.jsonp){_4a6.query=_4a6.query||"";if(_4a6.query.length>0){_4a6.query+="&";}_4a6.query+=_4a6.jsonp+"="+(args.frameDoc?"parent.":"")+dojo._scopeName+".io.script.jsonp_"+_4a6.id+"._jsonpCallback";_4a6.frameDoc=args.frameDoc;_4a6.canDelete=true;dfd._jsonpCallback=this._jsonpCallback;this["jsonp_"+_4a6.id]=dfd;}return dfd;},_deferredCancel:function(dfd){dfd.canceled=true;if(dfd.ioArgs.canDelete){dojo.io.script._addDeadScript(dfd.ioArgs);}},_deferredOk:function(dfd){var _4a7=dfd.ioArgs;if(_4a7.canDelete){dojo.io.script._addDeadScript(_4a7);}return _4a7.json||_4a7.scriptLoaded||_4a7;},_deferredError:function(_4a8,dfd){if(dfd.ioArgs.canDelete){if(_4a8.dojoType=="timeout"){dojo.io.script.remove(dfd.ioArgs.id,dfd.ioArgs.frameDoc);}else{dojo.io.script._addDeadScript(dfd.ioArgs);}}return _4a8;},_deadScripts:[],_counter:1,_addDeadScript:function(_4a9){dojo.io.script._deadScripts.push({id:_4a9.id,frameDoc:_4a9.frameDoc});_4a9.frameDoc=null;},_validCheck:function(dfd){var _4aa=dojo.io.script;var _4ab=_4aa._deadScripts;if(_4ab&&_4ab.length>0){for(var i=0;i<_4ab.length;i++){_4aa.remove(_4ab[i].id,_4ab[i].frameDoc);_4ab[i].frameDoc=null;}dojo.io.script._deadScripts=[];}return true;},_ioCheck:function(dfd){var _4ac=dfd.ioArgs;if(_4ac.json||(_4ac.scriptLoaded&&!_4ac.args.checkString)){return true;}var _4ad=_4ac.args.checkString;return _4ad&&eval("typeof("+_4ad+") != 'undefined'");},_resHandle:function(dfd){if(dojo.io.script._ioCheck(dfd)){dfd.callback(dfd);}else{dfd.errback(new Error("inconceivable dojo.io.script._resHandle error"));}},_canAttach:function(_4ae){return true;},_jsonpCallback:function(json){this.ioArgs.json=json;}};return dojo.io.script;});},"kc/widget/collection/CollectionTree":function(){require({cache:{"url:kc/widget/collection/templates/CollectionTreeNode.html":"<div class=\"collectionTreeNode dijitTreeNode\" role=\"presentation\">\n\t<div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\">\n\t\t\t\n\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"/>\n\t\t<span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"></span>\n\t\t<span data-dojo-attach-point=\"contentNode\" class=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<div class=\"floatLeading\">\n\t\t\t\t<div class=\"\">\n\t\t\t\t\t<div class=\"toolBarAction deleteIcon\" tabindex=\"-1\" role=\"button\" data-dojo-type=\"idx.form.Link\" title=\"${deleteLabel}\" data-dojo-attach-point=\"_delete\" data-dojo-attach-event=\"onclick:_onDelete, onkeypress:_onDelete, onkeypress:_navigate\"></div>\n\t\t\t\t\t<div class=\"toolBarAction moveUpIcon\" tabindex=\"-1\" role=\"button\" data-dojo-type=\"idx.form.Link\" title=\"${moveUpLabel}\" data-dojo-attach-point=\"_moveUp\" data-dojo-attach-event=\"onclick:_onMoveUp, onkeypress:_onMoveUp, onkeypress:_navigate\"></div>\n\t\t\t\t\t<div class=\"toolBarAction moveDownIcon\" tabindex=\"-1\" role=\"button\" data-dojo-type=\"idx.form.Link\" title=\"${moveDownLabel}\" data-dojo-attach-point=\"_moveDown\" data-dojo-attach-event=\"onclick:_onMoveDown, onkeypress:_onMoveDown, onkeypress:_navigate\"></div>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\" \n\t\t\t\t\tdata-dojo-attach-event=\"onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave, onclick:_onClick, ondblclick:_onDblClick, onfocus:_onLabelFocus, onblur:_onBlur, onkeypress:_navigate\">\n\t\t\t\t</span>\n\t\t\t\t<span data-dojo-attach-point=\"moreSubtopics\">${moreSubtopics}</span>\n\t\t\t</div>\n\t\t\t<div class=\"clearBoth\"></div>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n"}});define("kc/widget/collection/CollectionTree",["dojo/_base/declare","dojo/_base/lang","dojo/_base/event","dojo/_base/array","dojo/keys","dijit/focus","dojo/query","dojo/on","dojo/aspect","dojo/_base/connect","dojo/ready","dojo/_base/window","dojo/dom-attr","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/string","kc/widget/common/_KCConnectionMixin","kc/URIs","kc/widget/common/KCTree","dojo/text!kc/widget/collection/templates/CollectionTreeNode.html","kc/Messaging","kc/Constants","kc/Topics","kc/Utils","kc/widget/common/KCTreeUtils","idx/util","kc/widget/topic/TopicUtils","idx/oneui/HoverCard","idx/widget/DeferredIFrame","kc/model/Topic","idx/form/Link","dijit/form/Button"],function(_4af,lang,_4b0,_4b1,keys,df,_4b2,on,_4b3,_4b4,_4b5,_4b6,_4b7,_4b8,_4b9,_4ba,_4bb,_4bc,URIs,_4bd,_4be,_4bf,_4c0,_4c1,_4c2,_4c3,_4c4,_4c5){_4af("kc.widget.collection.CollectionTreeNode",[kc.widget.common.KCTreeNode],{templateString:_4be,deleteLabel:undefined,moveUpLabel:undefined,moveDownLabel:undefined,_initializeStrings:function(){this.deleteLabel=this.getString("ACTION_DELETE");this.moveUpLabel=this.getString("UPBTNTITLE");this.moveDownLabel=this.getString("DOWNBTNTITLE");this.moreSubtopics=this.getString("COLLECTION_MORE_SUBTOPICS");},buildRendering:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);_4b5(lang.hitch(this,function(){if(_4b9.contains(_4b6.body(),"dijit_a11y")){this._delete.innerHTML=this.deleteLabel;this._moveUp.innerHTML=this.moveUpLabel;this._moveDown.innerHTML=this.moveDownLabel;}}));},_updateItemClasses:function(item){this.inherited(arguments);if(_4c2.getObject("root",item)===true){return;}var _4c6=false;var _4c7=_4c2.getObject("tree.model.store",this);if(item&&_4c7){_4c6=_4c5.isStub(item,this.tree.model.store);}_4c2.setDomNodeShow(this.moreSubtopics,_4c6);},_loadContent:function(){this.tree.showHoverCard(this.item);},__proceedWithAction:function(e){if(e){if(e.type==="click"){return true;}if(e.type==="keypress"&&(e.keyCode==keys.ENTER||e.keyCode==keys.SPACE)){return true;}}return false;},_onDelete:function(e){if(this.__proceedWithAction(e)){this._onOperation(this.item,_4c0.ACTION_COLLECTION_OPERATION_DELETE);e.stopPropagation();_4b0.stop(e);}},_onMoveUp:function(e){if(this.__proceedWithAction(e)){this._onOperation(this.item,_4c0.ACTION_COLLECTION_OPERATION_MOVE_UP);e.stopPropagation();_4b0.stop(e);}},_onMoveDown:function(e){if(this.__proceedWithAction(e)){this._onOperation(this.item,_4c0.ACTION_COLLECTION_OPERATION_MOVE_DOWN);e.stopPropagation();_4b0.stop(e);}},_onOperation:function(item,_4c8){this.tree.onOperation(item,_4c8);},_onMouseEnter:function(e){this.inherited(arguments);},_onLabelFocus:function(){this.inherited(arguments);},_onMouseLeave:function(){this.inherited(arguments);},_onBlur:function(){this.inherited(arguments);},_navigate:function(e){var t=e.target;var nl=this.__getFocusable();var i=_4b1.indexOf(nl,t);if(i>-1){var ltr=this.isLeftToRight();if((ltr&&e.keyCode==keys.RIGHT_ARROW)||(!ltr&&e.keyCode==keys.LEFT_ARROW)){if(nl[i+1]){df.focus(nl[i+1]);_4b0.stop(e);}}else{if((ltr&&e.keyCode==keys.LEFT_ARROW)||(!ltr&&e.keyCode==keys.RIGHT_ARROW)){if(nl[i-1]){df.focus(nl[i-1]);_4b0.stop(e);}}}}},__getFocusable:function(){return _4b2("[tabindex]",this.domNode);}});return _4af("kc.widget.collection.CollectionTree",[_4bd,_4bc],{_hoverCard:undefined,_hoverCardContent:undefined,_hoverCardItem:undefined,_initializeStrings:function(){this.closeBtnLabel=this.getString("ACTION_CLOSE");this.moreSubtopics=this.getString("COLLECTION_MORE_SUBTOPICS");},startup:function(){this.inherited(arguments);this._hoverCardContent=new idx.widget.DeferredIFrame({title:this.moreSubtopics});this._hoverCardContent.startup();_4b9.add(this._hoverCardContent.domNode,"collectionHoverCardContent");this._hoverCard=new idx.oneui.HoverCard({draggable:false,content:this._hoverCardContent});this._hoverCard.startup();this._hoverCard.closeButtonNode.title=this.closeBtnLabel;_4b1.forEach(_4b2(".idxOneuiHoverCardGrip",this._hoverCard.domNode),_4b8.destroy);_4b1.forEach(_4b2(".idxOneuiHoverCardFooterExpand",this._hoverCard.domNode),_4b8.destroy);var _4c9=_4b8.create("div");_4b9.add(_4c9,"clipGradient");_4b8.place(_4c9,this._hoverCard.containerNode);var _4ca=_4b2(".idxOneuiHoverCardFooter",this._hoverCard.domNode)[0];_4b8.empty(_4ca);var _4cb=new idx.form.Link({label:this.getString("OPEN_NEW_WINDOW")});this.addConnection(_4cb,"onClick",this,lang.hitch(this,function(){this._openInNewWindowMenuItemClicked(this._hoverCardItem);this.closeHoverCard();}));_4b8.place(_4cb.domNode,_4ca);this.addConnection(_4b3.after(this._hoverCard,"hide",lang.hitch(this,function(){this._hoverCardItem=undefined;}),true));this._hoverCardContent.domNode.width="450px";this._hoverCardContent.domNode.height="250px";this._hoverCardContent.domNode.frameBorder="0";var _4cc=_4c4.isIE?"readystatechange":"load";var _4cd=/complete|loaded/;this.addConnection(on(this._hoverCardContent.domNode,_4cc,lang.hitch(this,function(evt){if(evt.type=="load"||_4cd.test(this._hoverCardContent.domNode.readyState)){if(typeof this._hoverCardContent.domNode.contentWindow!="unknown"){var ifb=this._hoverCardContent.domNode.contentDocument.body;if(ifb){_4ba.set(ifb,"overflow","hidden");}if(this._hoverCardContent.domNode){this._hoverCardContent.scrollableNode=this._hoverCardContent.domNode;}}}})));this._hoverCardContent.startup();},_initializeSubscriptions:function(){this.addSubscription([_4c1.KC_WELCOME,_4c1.KC_TOPIC,_4c1.KC_SEARCH,_4c1.KC_COLLECTION,_4c1.KC_ACTION],this,"closeHoverCard",(_4c0.MESSAGING_PRIORITY_EARLIEST-1));},showHoverCard:function(item){this._itemClicked(item);},closeHoverCard:function(){if(this._hoverCard){this._hoverCard.close();}},_createTreeNode:function(args){return new kc.widget.collection.CollectionTreeNode(args);},onOperation:function(item,_4ce){},_itemClicked:function(item){if(this._hoverCardItem===item){return;}this.closeHoverCard();this._hoverCardItem=item;if(_4c5.hasHref(item,this.model.store)){var node=this.__getNodeFromItem(item);this._hoverCard.open(node.labelNode);var href=_4c5.getHref(item,this.model.store);href=_4c5.decodeHref(href);var _4cf=this.model.store.getValue(item,_4c0.MODEL_CONTENT_LANGUAGE);var url=(_4c2.isEmpty(_4cf))?_4bb.substitute(URIs.CONTENT,[href])+"?"+_4c0.TOPIC_CONTENT_REQUEST_ORIGIN_PARAMETER+"="+_4c0.TOPIC_CONTENT_REQUEST_ORIGIN_PARAMETER_VALUE:_4bb.substitute(URIs.CONTENT_WITH_LANGUAGE,[href,_4cf])+"&"+_4c0.TOPIC_CONTENT_REQUEST_ORIGIN_PARAMETER+"="+_4c0.TOPIC_CONTENT_REQUEST_ORIGIN_PARAMETER_VALUE;_4b7.set(this._hoverCardContent,"href",url);}},_canOpenInNewWindow:function(item){return true;},_openInNewWindowMenuItemClicked:function(item){var _4d0=new kc.model.Topic();_4c2.copyProperties(item,_4d0,this.model.store);_4bf.publish(_4c1.EXTERNAL_OPEN_IN_NEW_WINDOW,[_4c0.CONTENT_TOPIC,_4d0]);},__getNodeFromItem:function(item){var id=_4c3.getIdentity(item,this.model.store);return _4c2.getFirstElementOfArray(this._itemNodesMap[id]);}});});},"kc/model/CollectionTopic":function(){define("kc/model/CollectionTopic",["dojo/_base/declare","kc/model/KCModel","kc/model/Topic","kc/Constants","kc/Utils"],function(_4d1,_4d2,_4d3,_4d4,_4d5){var _4d6=_4d1("kc.model.CollectionTopic",[_4d3],{cId:undefined,constructor:function(){}});(function(){kc.model.CollectionTopic.extend(_4d5.unClass(new _4d3()));})();return _4d6;});},"url:kc/widget/search/templates/SearchBox.html":"<div data-dojo-attach-point=\"containerNode\">\n\t<div id=\"searchNode\" class=\"searchNode\" data-dojo-attach-point=\"searchNode\">\n\t\t<div class=\"searchNodeInner\" data-dojo-attach-point=\"searchNodeInner\">\n\t\t    <div data-dojo-type=\"kc.widget.search.SearchInput\" data-dojo-attach-point=\"_searchInput\" id=\"searchInput\" class=\"searchKeywordContainer displayInline\"></div>\n\t\t    <div data-dojo-type=\"kc.widget.search.SaveSearchQuery\" class=\"saveSearchQueryContainer\"  data-dojo-attach-point=\"saveSearchQueryContainer\"></div>\n\t\t</div>\t\t    \n    </div>\n</div>","kc/widget/collection/CollectionUtils":function(){define("kc/widget/collection/CollectionUtils",["dojo/_base/lang","dojo/_base/array","dojo/query","dojo/dom-construct","dojo/dom-class","dojo/window","kc/Constants","kc/Utils","kc/widget/common/KCTreeUtils","dojox/json/query","kc/model/Topic","kc/model/TOCContent"],function(lang,_4d7,_4d8,_4d9,_4da,win,_4db,_4dc,_4dd,_4de){kc.kcCollectionUtils={mapToUISupportedLanguage:function(data){if(_4dc.isEmpty(data)){return data;}if(_4dc.isString(data)){data=_4dc.getSupportedLanguage(data);}else{if(_4dc.isObject(data)){_4d7.forEach(_4dc.findByProperty(data,_4db.MODEL_CONTENT_LANGUAGE),function(o){o[_4db.MODEL_CONTENT_LANGUAGE]=_4dc.getSupportedLanguage(o[_4db.MODEL_CONTENT_LANGUAGE]);});}}return data;}};return kc.kcCollectionUtils;});},"kc/widget/topic/TopicViewer":function(){require({cache:{"url:kc/widget/topic/templates/TopicViewer.html":"<div>\n\t<div data-dojo-type=\"kc.widget.topic.TopicBreadcrumbs\" data-dojo-attach-point=\"_topicBreadcrumbs\" style=\"\"></div>\n    <div style=\"display:none\" id=\"topicMsg\" dojoAttachPoint='_topicMsgNode'><br>&nbsp;</div>  \n\t<!-- The topic content iframe or a TopicNav instance will be under this -->\n\t<div data-dojo-attach-point=\"_content\"></div>\n\t\n\t<div data-dojo-attach-point=\"_topicActionBar2\" data-dojo-type=\"kc.widget.topic.TopicActionBar2\"></div>\n\t<div data-dojo-attach-point=\"_commentArea\" data-dojo-type=\"kc.widget.topic.Comment\" class=\"clearBoth\" style=\"\"></div>\n</div>"}});define("kc/widget/topic/TopicViewer",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/aspect","dojo/window","dojo/string","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","kc/widget/common/KCWidget","dojo/text!kc/widget/topic/templates/TopicViewer.html","kc/state/KCState","kc/Messaging","kc/Constants","kc/URIs","kc/Topics","kc/Utils","idx/util","kc/widget/topic/TopicImageResize","kc/widget/topic/TopicNavBrowserStateFilter","kc/controller/Handler","kc/controller/TopicController","kc/widget/topic/TopicBreadcrumbs","kc/widget/topic/TopicIFrameContainer","kc/widget/topic/TopicNav","kc/widget/topic/TopicActionBar2","kc/widget/topic/Comment","kc/model/Topic"],function(_4df,lang,_4e0,_4e1,_4e2,win,_4e3,_4e4,_4e5,_4e6,_4e7,_4e8,_4e9,_4ea,_4eb,_4ec,_4ed,URIs,_4ee,_4ef,_4f0,_4f1,_4f2,_4f3,_4f4){return _4df("kc.widget.topic.TopicViewer",[_4e9],{templateString:_4ea,_lastTopic:undefined,_lastHref:undefined,_widget:undefined,feedbackEnabled:(_4ed.getServerProperty(_4ed.SERVER_PROPERTY_KEY_FEEDBACK,_4ed.KC_FEEDBACK_DISABLED)!==_4ed.KC_FEEDBACK_DISABLED),constructor:function(){},_initializeSubscriptions:function(){this.addSubscription(_4ee.KC_TOPIC,this,"_showTopic");this.addSubscription(_4ee.KC_ACTION,this,"_onAction");this.addSubscription(_4ee.KC_OUTDATE_LOCALES,this,"_updateNewestLocale");this.addSubscription(_4ee.KC_EXPECT_DATE,this,"_updateExpectDate");this.addSubscription(_4ee.KC_CONTENT,this,"_loadFeedback");this.addSubscription(_4ee.KC_NOTIFICATION,this,"_onNotification");this.addSubscription(_4ee.KC_ACCESS_KEY,this,function(_4f5){if(_4f5===_4ed.ACCESS_KEY_PRINT){this._print();}});},startup:function(){this.inherited(arguments);if(!this.feedbackEnabled){this._commentArea.destroyRecursive();}},setInitialModel:function(_4f6,_4f7){this._showTopic(_4f6,_4f7);},_showTopic:function(_4f8,_4f9){var _4fa=_4ef.getObject(_4ed.TOPIC_HREF,this._lastTopic);var _4fb=_4ef.getObject(_4ed.TOPIC_HREF,_4f9);var _4fc=(this._lastHref===_4fb);this._destroyNewestLocaleLink();this.__setTopic(_4f9);this.__internalShowTopic(_4fc);},_updateNewestLocale:function(_4fd){this._destroyNewestLocaleLink();if(_4fd){var _4fe=_4ef.getSupportedLanguageName(_4fd);var _4ff=this.getString("KC_TOPICUPDATE",{language:_4fe});this.newestLocaleLink=new idx.form.Link({id:"newestLocaleLink",label:_4ff,dir:dir});this.addConnection(this.newestLocaleLink,"onClick",lang.hitch(this,"_showNewestLocale",_4fd));_4e8.place(this.newestLocaleLink.domNode,this._topicMsgNode);this._topicMsgNode.style.display="";}},_destroyNewestLocaleLink:function(){if(this.newestLocaleLink){this.newestLocaleLink.destroyRecursive();this._topicMsgNode.style.display="none";}},_showNewestLocale:function(_500){_4ec.publish(_4ee.KC_LANGUAGE_CHANGE,[_500]);},__setTopic:function(_501){this._lastTopic=_501;this._lastHref=_4ef.getObject(_4ed.TOPIC_HREF,_501);},__internalShowTopic:function(_502){if(this._lastTopic){this.updateBreadcrumbs();if(this._widget&&this._widget._iframe&&this._widget._iframe.getAttribute("anchor")){this.domNode.parentNode.scrollTop=0;}if(this._lastTopic.href){this.createIFrame(_502);this._topicActionBar2.setData(this._lastTopic);if(this.feedbackEnabled){this._commentArea.setup(this._lastTopic);}}else{if(_4ed.generateNavPageForTopicsWithoutHref){this.createNavPage();_4ec.publish(_4ee.KC_NOTIFICATION,[_4ed.CONTENT_TOPIC,_4ed.NOTIFICATION_CONTENT_NOT_AVAILABLE,this._lastTopic]);}}}},_onNotification:function(_503,_504,_505){if(_4ed.CONTENT_TOPIC===_503&&this._lastTopic===_505){if(_504===_4ed.NOTIFICATION_CONTENT_AVAILABLE){_4ef.setWidgetShow(this._topicActionBar2,true);if(this.feedbackEnabled){_4ef.setWidgetShow(this._commentArea,true);}}else{if(_504===_4ed.NOTIFICATION_CONTENT_NOT_AVAILABLE){_4ef.setWidgetShow(this._topicActionBar2,false);if(this.feedbackEnabled){_4ef.setWidgetShow(this._commentArea,false);}}}}},createIFrame:function(_506){if(_506&&this._widget){this._widget.setup(this._lastTopic,_506);}else{this._cleanupContent();this._widget=new kc.widget.topic.TopicIFrameContainer();this._widget.startup();this._widget.setup(this._lastTopic);this._widget._connects.push(_4e2.after(this._widget,"_newContent",lang.hitch(this,this._newIFrameContent),true));_4e8.place(this._widget.domNode,this._content,"only");}},_newIFrameContent:function(_507){this.domNode.parentNode.scrollTop=0;var _508=new kc.model.Topic();_508.href=_507;var _509=_4ef.getObject(_4ed.TOPIC_CONTEXT_PATH,this._lastTopic?this._lastTopic:{},"");_509=_4ef.stripAfter(_509,"/");if(_4ef.isEmpty(_509)){var _50a=_4ef.getObject(_4ed.TOPIC_HREF,this._lastTopic);var _50b=_4ef.stripAfter(_50a,"/");var _50c=_4ef.stripAfter(_507,"/");if(_50b&&_50c&&_50b!==_50c){_509=_50b;}}if(!_4ef.isEmpty(_509)){_4ef.setObject(_4ed.TOPIC_CONTEXT_PATH,_509,_508);}this.__setTopic(_508);_4ec.publish(_4ee.KC_TOPIC,[_4ed.SOURCE_CONTENT_TOPIC_TO_TOPIC,_508]);},createNavPage:function(){this._cleanupContent();this._widget=new kc.widget.topic.TopicNav();this._widget.startup();_4e1.when(_4eb.getChildren(this._lastTopic),lang.hitch(this,function(_50d,_50e){if(this._lastTopic===_50d){this._widget.setup(_50e);}},this._lastTopic),lang.hitch(this,function(_50f){}));_4e8.place(this._widget.domNode,this._content,"only");},_cleanupContent:function(){if(this._widget){try{this._widget.destroyRecursive();}catch(err){console.error(err);}}_4e8.empty(this._content);},updateBreadcrumbs:function(){this._topicBreadcrumbs.createBreadcrumbs([]);if(!this._lastTopic.isProductLanding){var _510=_4eb.findExpansionPathFor(this._lastTopic);_4e1.when(_510,lang.hitch(this,function(_511){if(_4ef.isArray(_511)){var _512=_4eb.getNavigationTreeModels().slice(1);var _513=_4ef.getLastElementOfArray(_511);var _514=_4ef.getObject(_4ed.TOPIC_NEW_TREE,_513);var _515=_514?_512:_512.concat(_511);this._topicBreadcrumbs.createBreadcrumbs(_515);}}),lang.hitch(this,function(_516){}));}},_loadFeedback:function(_517,_518,_519){if(_518===_4ed.CONTENT_TOPIC&&this._lastHref&&this._lastHref===_4ef.getObject(_4ed.TOPIC_HREF,_519)){if(this.feedbackEnabled){_4f4.getFeedback(this._lastTopic);}}},_onAction:function(_51a,_51b,_51c,_51d){if(_4ed.CONTENT_TOPIC===_51a&&_4ed.ACTION_PRINT===_51b){this._print();}},_print:function(){if(_4eb.getActiveContentName()===_4ed.CONTENT_TOPIC&&this._widget instanceof kc.widget.topic.TopicIFrameContainer){if(_4ef.getObject("_iframe.contentWindow",this._widget)){this._widget._iframe.contentWindow.focus();this._widget._iframe.contentWindow.print();}else{}}}});});},"kc/widget/collection/CollectionActionBar":function(){require({cache:{"url:kc/widget/collection/templates/CollectionActionBar.html":"{% extends actionBarTemplate %}\n\n{% block actionPlaceholderBeginning %}\n\t{% if owner %}\n \t\t<div class=\"toolBarAction downloadPDFLink\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_downloadPDF\" label=\"{{downloadPdfLabel}}\" title=\"{{downloadPdfLabel}}\"></div>\n \t\t<div class=\"toolBarAction\" data-dojo-type=\"kc.widget.collection.PDFProgress\" data-dojo-attach-point=\"_pdfProgress\"></div>\n \t\t<div class=\"toolBarAction\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_exportPDF\" label=\"{{pdfLabel}}\" title=\"{{pdfLabel}}\"></div>\n \t\t<!-- \n \t\t<div class=\"toolBarAction\" data-dojo-type=\"kc.widget.collection.PDFProgress\" data-dojo-attach-point=\"_pdfProgress\"></div>\n \t\t -->\n\t{% endif %}\n{% endblock %}\n{% block actionPlaceholderEnd %}\n\t{% if owner %}\n\t\t<div class=\"toolBarAction hidden\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_delete\" label=\"{{deleteLabel}}\" title=\"{{deleteLabel}}\"></div>\n\t\t<div class=\"toolBarAction hidden\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_save\" label=\"{{saveLabel}}\" title=\"{{saveLabel}}\"></div>\t\n\t\t<!-- \n\t\t<div class=\"toolBarAction hidden\" data-dojo-type=\"idx.form.DropDownLink\" label=\"Copy\">\n\t\t \t<div data-dojo-type=\"dijit.Menu\" data-dojo-attach-point=\"_copyMenu\">\t\t\t\t\t\t\n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_copyToExistingCollection\" label=\"Copy all topics to an existing collection\"></div>\n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_copyToNewCollection\" label=\"Copy all topics to a new collection\"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t -->\n\t\t<div class=\"toolBarAction hidden\" role=\"button\"data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_discard\" label=\"{{discardLabel}}\" title=\"{{discardLabel}}\"></div>\n\t\t<div class=\"toolBarAction hidden\" role=\"button\"data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_edit\" label=\"{{editLabel}}\" title=\"{{editLabel}}\"></div>\n\t{% else %}\n\t\t<div></div> \n\t{% endif %}\t\n{% endblock %}"}});define("kc/widget/collection/CollectionActionBar",["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-attr","dojo/_base/Deferred","kc/widget/common/ActionBar","dojo/text!kc/widget/collection/templates/CollectionActionBar.html","kc/Messaging","kc/Constants","kc/Topics","kc/Utils","kc/state/KCState","kc/controller/CollectionsController","kc/widget/collection/CollectionManager","kc/DialogManager","dijit/Menu","dijit/MenuItem","idx/form/DropDownLink","kc/model/PDFJob","kc/widget/collection/PDFProgress"],function(_51e,lang,_51f,_520,_521,_522,_523,_524,_525,_526,_527,_528,_529,_52a,_52b,_52c){return _51e("kc.widget.collection.CollectionActionBar",[_523],{templateString:_524,contentType:_526.CONTENT_COLLECTION,actionBarClass:"collectionActionBar",_hasLanguageAction:false,_hasShareAction:false,owner:undefined,editLabel:undefined,saveLabel:undefined,discardLabel:undefined,deleteLabel:undefined,pdfLabel:undefined,dirty:false,editMode:false,oneJobPerUser:(_526.getServerProperty(_526.SERVER_PROPERTY_KEY_JOB_MAX_JOBS_PER_USER,"1")=="1"),pdfMode:0,otherPdfMode:0,startedPdfExport:false,postMixInProperties:function(){this.owner=!_528.isEmpty(_529.user);this.inherited(arguments);},setData:function(_52d){this.inherited(arguments);if(_528.isEmpty(_529.user)){this.disableActions();}else{this.pdfMode=_526.PDF_MODE_NONE;this.otherPdfMode=_526.PDF_MODE_NONE;this.mobileMode=_52d&&_52d.mobile;this.set("editMode",false);this.set("dirty",false);this.set("pdfMode",this.__getRelatedPdfModel());}},_initializeStrings:function(){this.inherited(arguments);if(!this.owner){return;}this.editLabel=this.getString("ACTION_EDIT");this.saveLabel=this.getString("ACTION_SAVE");this.discardLabel=this.getString("DISCARD_CHANGES");this.deleteLabel=this.getString("ACTION_DELETE");this.pdfLabel=this.getString("COLLECTION_EXPORT_PDF");this.pdfDisabledTooltip=this.getString("COLLECTION_EXPORT_PDF_DISABLED_TOOLTIP");this.downloadPdfLabel=this.getString("COLLECTION_EXPORT_PDF_DOWNLOAD");},_initializeConnections:function(){this.inherited(arguments);if(!this.owner){return;}this._registerPublishActionEvent(this._save,_526.ACTION_COLLECTION_SAVE);this._registerPublishActionEvent(this._discard,_526.ACTION_COLLECTION_DISCARD_CHANGES);this._registerPublishActionEvent(this._edit,_526.ACTION_COLLECTION_EDIT);this._registerPublishActionEvent(this._delete,_526.ACTION_COLLECTION_DELETE);this._registerPublishActionEvent(this._exportPDF,_526.ACTION_COLLECTION_EXPORT_PDF);this.addConnection(this._downloadPDF,"onClick",this,lang.hitch(this,function(){var job=this.__getRelatedPdfModel();_52a.downloadPdf(job,function(){},lang.hitch(this,function(){_52b.refreshPdfJobStatus();_52c.showWarningDialog(this.getString("warning"),this.getString("COLLECTION_EXPORT_PDF_INVALID_LINK"));}));}));},_initializeSubscriptions:function(){this.inherited(arguments);if(!this.owner){return;}this.addSubscription(_527.KC_ACTION,this,"_onAction");this.addSubscription(_527.KC_NOTIFICATION,this,"_onNotification");},startup:function(){this.inherited(arguments);},_setEditModeAttr:function(_52e){this.editMode=(_52e===true);this.set("dirty",false);this._setActionVisibilityStates();},_setDirtyAttr:function(_52f){this.dirty=(_52f===true);this._setActionVisibilityStates();},_setPdfModeAttr:function(_530){this.startedPdfExport=false;if(_528.instanceOf(_530,kc.model.PDFJob)){var name=_530.name;var _531=this.downloadPdfLabel;if(!_528.isEmpty(name)){_531=this.getString("COLLECTION_EXPORT_PDF_DOWNLOAD2",[name]);}this._downloadPDF.set("label",_531);if(this.getData()&&_528.getObject(_526.COLLECTION_ID,this.getData())===_528.getObject("id",_530)){this.otherPdfMode=_526.PDF_MODE_NONE;if(_530.isComplete()){this.pdfMode=_526.PDF_MODE_COMPLETED;}else{if(this.pdfMode!=_526.PDF_MODE_EXPORT_IN_PROGRESS){this.startedPdfExport=true;}this.pdfMode=_526.PDF_MODE_EXPORT_IN_PROGRESS;}if(!this.oneJobPerUser){this._pdfProgress.update(_530);}}else{this.pdfMode=_526.PDF_MODE_NONE;if(_530.isComplete()){this.otherPdfMode=_526.PDF_MODE_COMPLETED;}else{this.otherPdfMode=_526.PDF_MODE_EXPORT_IN_PROGRESS;}}if(this.oneJobPerUser){this._pdfProgress.update(_530);}}else{this.pdfMode=_526.PDF_MODE_NONE;this.otherPdfMode=_526.PDF_MODE_NONE;}this._setActionVisibilityStates();},__getRelatedPdfModel:function(){if(this.oneJobPerUser){return _528.getFirstElementOfArray(_52b.getPdfJobs());}else{return _52b.getPdfJob(this.getData());}},_setActionVisibilityStates:function(){if(!this.getData()){_528.setWidgetShow([this._edit,this._exportPDF,this._downloadPDF,this._pdfProgress,this._save,this._discard,this._delete],false);if(this.oneJobPerUser){var _532=this.__getRelatedPdfModel();if(_532){if(_532.isComplete()){_520.place(this._downloadPDF.domNode,this.domNode,"first");_528.setWidgetShow(this._downloadPDF,true);}else{_520.place(this._pdfProgress.domNode,this.domNode,"first");_528.setWidgetShow(this._pdfProgress,true);}}}}else{if(this.editMode){_520.place(this._save.domNode,this.domNode,"first");_528.setWidgetShow([this._save,this._discard],true);_528.setWidgetShow([this._delete],!this.mobileMode);_528.setWidgetShow([this._edit,this._exportPDF,this._downloadPDF,this._pdfProgress],false);if(this.dirty){_521.set(this._save.domNode,"dirty","true");}else{_521.remove(this._save.domNode,"dirty");}_528.setWidgetEnabled(this._save,this.dirty);}else{_520.place(this._exportPDF.domNode,this.domNode,"first");_528.setWidgetShow([this._save,this._discard,this._delete,this._downloadPDF,this._pdfProgress],false);_528.setWidgetShow([this._edit,this._exportPDF],true);if(_52b.hasPdfJobInProgress()||this.pdfMode===_526.PDF_MODE_EXPORT_IN_PROGRESS||this.otherPdfMode===_526.PDF_MODE_EXPORT_IN_PROGRESS){_528.setWidgetTooltip(this._exportPDF,this.getString("COLLECTION_EXPORT_PDF_CANNOT_REEXPORT"));_528.setWidgetEnabled(this._exportPDF,false);}else{_528.setWidgetTooltip(this._exportPDF,this.pdfLabel);_528.setWidgetEnabled(this._exportPDF,true);}if(this.pdfMode===_526.PDF_MODE_EXPORT_IN_PROGRESS){_528.setWidgetTooltip(this._edit,this.getString("COLLECTION_EXPORT_PDF_CANNOT_MODIFY"));_528.setWidgetEnabled(this._edit,false);}else{_528.setWidgetTooltip(this._edit,this.editLabel);_528.setWidgetEnabled(this._edit,true);}if(this.oneJobPerUser){if(this.pdfMode===_526.PDF_MODE_COMPLETED||this.otherPdfMode===_526.PDF_MODE_COMPLETED){_520.place(this._downloadPDF.domNode,this.domNode,"first");_528.setWidgetShow(this._downloadPDF,true);}else{if(_52b.hasPdfJobInProgress()||this.pdfMode===_526.PDF_MODE_EXPORT_IN_PROGRESS||this.otherPdfMode===_526.PDF_MODE_EXPORT_IN_PROGRESS){_520.place(this._pdfProgress.domNode,this.domNode,"first");_528.setWidgetShow(this._pdfProgress,true);if(this.startedPdfExport){_52c.showTooltip(this._pdfProgress.domNode,this.getString("COLLECTION_EXPORT_PDF_REQUEST_ACK"),_526.TOOLTIP_TIMEOUT,true,["above"]);}}}}else{if(this.pdfMode===_526.PDF_MODE_COMPLETED){_520.place(this._downloadPDF.domNode,this.domNode,"first");_528.setWidgetShow(this._downloadPDF,true);}else{if(this.pdfMode===_526.PDF_MODE_EXPORT_IN_PROGRESS){_520.place(this._pdfProgress.domNode,this.domNode,"first");_528.setWidgetShow(this._pdfProgress,true);if(this.startedPdfExport){_52c.showTooltip(this._pdfProgress.domNode,this.getString("COLLECTION_EXPORT_PDF_REQUEST_ACK"),_526.TOOLTIP_TIMEOUT,true,["above"]);}}}}}}},_onAction:function(_533,_534,_535,_536){if(_526.CONTENT_COLLECTION===_533){switch(_534){case _526.ACTION_COLLECTION_EDIT:this.set("editMode",true);break;case _526.ACTION_COLLECTION_DISCARD_CHANGES:this.set("editMode",false);break;case _526.ACTION_COLLECTION_MARK_DIRTY:this.set("dirty",_535);break;}}},_onNotification:function(_537,_538,_539){if((_526.ACTION_COLLECTION_SAVE===_538||_526.ACTION_COLLECTION_DELETE===_538)&&this.getData()&&_539&&_528.getObject(_526.COLLECTION_ID,this.getData())===_528.getObject(_526.COLLECTION_ID,_539)){this.set("editMode",false);}else{if(_526.NOTIFICATION_PDF_JOB_CHECK===_538){this.set("pdfMode",_539);}}},disableActions:function(){_528.setWidgetEnabled(this._save,false);_528.setWidgetEnabled(this._discard,false);_528.setWidgetEnabled(this._edit,false);_528.setWidgetEnabled(this._delete,false);_528.setWidgetEnabled(this._exportPDF,false);_528.setWidgetEnabled(this._downloadPDF,false);_528.setWidgetEnabled(this._pdfProgress,false);}});});},"dojox/lang/functional/lambda":function(){define("dojox/lang/functional/lambda",["../..","dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(_53a,dojo,lang,arr){var df=lang.getObject("lang.functional",true,_53a);var _53b={};var _53c="ab".split(/a*/).length>1?String.prototype.split:function(sep){var r=this.split.call(this,sep),m=sep.exec(this);if(m&&m.index==0){r.unshift("");}return r;};var _53d=function(s){var args=[],_53e=_53c.call(s,/\s*->\s*/m);if(_53e.length>1){while(_53e.length){s=_53e.pop();args=_53e.pop().split(/\s*,\s*|\s+/m);if(_53e.length){_53e.push("(function("+args+"){return ("+s+")})");}}}else{if(s.match(/\b_\b/)){args=["_"];}else{var l=s.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),r=s.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(l||r){if(l){args.push("$1");s="$1"+s;}if(r){args.push("$2");s=s+"$2";}}else{var vars=s.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],t={};arr.forEach(vars,function(v){if(!(v in t)){args.push(v);t[v]=1;}});}}}return {args:args,body:s};};var _53f=function(a){return a.length?function(){var i=a.length-1,x=df.lambda(a[i]).apply(this,arguments);for(--i;i>=0;--i){x=df.lambda(a[i]).call(this,x);}return x;}:function(x){return x;};};lang.mixin(df,{rawLambda:function(s){return _53d(s);},buildLambda:function(s){s=_53d(s);return "function("+s.args.join(",")+"){return ("+s.body+");}";},lambda:function(s){if(typeof s=="function"){return s;}if(s instanceof Array){return _53f(s);}if(s in _53b){return _53b[s];}s=_53d(s);return _53b[s]=new Function(s.args,"return ("+s.body+");");},clearLambdaCache:function(){_53b={};}});return df;});},"url:kc/widget/topic/templates/TopicNav.html":"<div>\n\t<h1 data-dojo-attach-point=\"title\"></h1>\n\t<h3>${listTitle}</h3>\n\t<ul data-dojo-attach-point=\"list\"></ul>\n</div>\n","kc/Cache":function(){define("kc/Cache",["dojo/_base/lang","kc/Constants","kc/Utils"],function(lang,_540,_541){kc.cache={cache:{},put:function(_542,key,_543){if(_542&&key&&_543){_542=_542.replace(/[\.\/]/g,"_");var c=_541.getObject(_542,this.cache,{},true);c[key]=_543;}},get:function(_544,key){if(_544&&key){_544=_544.replace(/[\.\/]/g,"_");var c=_541.getObject(_544,this.cache,{},true);return c[key];}return undefined;}};return kc.cache;});},"url:kc/widget/common/templates/HealthCheckAlertPopup.html":"<table class=\"healthCheckAlertPopup\" role=\"presentation\">\n<tbody>\n\t<tr>\n\t\t<td><div style=\"display: inline-block;\" data-dojo-attach-point=\"iconNode\" class=\"idxSignIcon\"></div></td>\n\t\t<td data-dojo-attach-point=\"textNode\" class=\"message\"></td>\n\t</tr>\n</tbody>\n</table>","kc/DialogManager":function(){define("kc/DialogManager",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/dom-construct","dojo/dom-class","dojo/on","dojo/aspect","dojo/keys","dojo/query","dijit/registry","kc/Topics","kc/Messaging","kc/Constants","kc/Utils","kc/widget/common/_KCi18nMixin","idx/dialogs","idx/util","idx/html","idx/widget/SimpleIconDialog","idx/oneui/HoverHelpTooltip","dijit/form/Button","dojox/widget/Toaster"],function(_545,lang,_546,_547,_548,_549,on,_54a,keys,_54b,_54c,_54d,_54e,_54f,_550,_551,_552,_553,_554,_555,_556){_545("kc.DialogManager",[_551],{_initialized:false,_id:undefined,initialize:function(){if(this._initialized){return;}this._id=_550.getObject("dialogs",idx);this._id.info=lang.hitch(this,this.__infoOverride);this._id.warn=lang.hitch(this,this.__warnOverride);this._initialized=true;},showTooltip:function(node,_557,_558,_559,_55a){if(!_550.isArray(_55a)){_55a=_556.defaultPosition;}_556.show(_554.escapeHTML(_557),node,_55a,undefined,undefined,undefined,undefined,false,false);if(_550.isNumber(_558)){setTimeout(_556.hide,_558);}if(_559===true){on.once(node,"keypress, click",_556.hide);}},showToast:function(_55b,type){var _55c=_54c.byId("kcToaster");if(!type){type="success";}_55b=_554.escapeHTML(_55b);_55c.add({content:_55b,type:type});},showInfoDialog:function(_55d,_55e,_55f,_560){var s={text:_55e};if(_55d){s.title=_55d;}_552.info(s,_55f,_560);},__infoOverride:function(s,cb,_561){_561=(_561||this.getString("ACTION_CLOSE"));var args={showCancel:false,title:this.getString("information"),iconClass:"idxSignIcon idxInformIcon",labelOk:_561,labelCancel:null};if(lang.isObject(s)){args=lang.mixin(args,s);}else{args.text=s;}this._id.showSimpleDialog(args,cb,cb);},showWarningDialog:function(_562,_563,_564,_565){var s={text:_563};if(_562){s.title=_562;}_552.warn(s,_564,_565);},__warnOverride:function(s,cb,_566){_566=(_566||this.getString("ACTION_CLOSE"));var args={showCancel:false,title:this.getString("warning"),iconClass:"idxSignIcon idxWarnIcon",labelOk:_566,labelCancel:null};if(lang.isObject(s)){args=lang.mixin(args,s);}else{args.text=s;}this._id.showSimpleDialog(args,cb,cb);},showErrorDialog:function(_567,_568,_569){_552.error(_567,_568,_569);},showProgressDialog:function(_56a){_552.showProgressDialog({text:_56a,title:this.getString("progress")});},hideProgressDialog:function(){_552.hideProgressDialog();},showOkCancelDialog:function(_56b,_56c,_56d,_56e,_56f,_570,_571){return this.__showConfirmationDialog(_56b,_56c,{callback:_56d,label:this.getString("ACTION_OK")},{callback:_56e,label:this.getString("ACTION_CANCEL")},undefined,_56f,_570,_571);},showYesNoDialog:function(_572,_573,_574,_575,_576,_577,_578){return this.__showConfirmationDialog(_572,_573,{callback:_574,label:this.getString("ACTION_YES")},{callback:_575,label:this.getString("ACTION_NO")},undefined,_576,_577,_578);},showYesNoCancelDialog:function(_579,_57a,_57b,_57c,_57d,_57e,_57f,_580){return this.__showConfirmationDialog(_579,_57a,{callback:_57b,label:this.getString("ACTION_YES")},{callback:_57c,label:this.getString("ACTION_NO")},{callback:_57d,label:this.getString("ACTION_CANCEL")},_57e,_57f,_580);},__showConfirmationDialog:function(_581,_582,_583,_584,_585,_586,_587,_588){if(!_583&&!_584){console.error("kc/DialogManager: the first and second buttons are required.");return;}var _589=_585?_585:_584;var _584=_585?_584:undefined;var args={title:_581?_581:this.getString("confirmation"),text:_582,iconClass:_587?"idxSignIcon idxDialogIconQuestion":"idxSignIcon idxWarnIcon",labelOk:_583.label,labelCancel:_589.label,};if(_586){args.focusOnCancel=true;}var _58a=new _555({style:"min-width:350px; min-height:90px; max-width: 600px; max-height: 650px;"});_58a.startup();var _58b=[_58a.okButton,_58a.cancelButton];var _58c=[];if(_584){var sb=new dijit.form.Button({label:_584.label});sb.startup();_58b.push(sb);_549.add(sb.domNode,"idxSecondaryButton");_548.place(sb.domNode,_58a.cancelButton.domNode,"before");_58c.push(on(sb,"click",function(){_58a.onSecondButton();}));}if(_586){_549.add(_58a.okButton.domNode,"idxSecondaryButton");}else{_549.add(_58a.cancelButton.domNode,"idxSecondaryButton");}if(_588){var _58d=_54b(".dijitDialogPaneContentArea",_58a.domNode)[0];_548.empty(_58d);_548.place(_588,_58d);_58c.push(on(_588,"keypress",function(e){if(e.keyCode==keys.ENTER){_58a.onExecute();}}));}if(!_550.isEmpty(_58c)){_58a.connect(_54a.after(_58a,"destroy",function(){_546.forEach(_58c,lang.hitch(this,function(_58e){_58e.remove();}));_58c.length=0;},false));}var _58f=function(_590){if(_588&&_588.parentNode&&!(_590 instanceof _547)&&_590!==false){_588.parentNode.removeChild(_588);}if(_590 instanceof _547){_546.forEach(_58b,function(_591){_591.set("disabled",true);});_547.when(_590,lang.hitch(this,function(_592){if(_592!==false){_58a.hide();_58a.destroy();}else{_546.forEach(_58b,function(_593){_593.set("disabled",false);});}}),lang.hitch(this,function(_594){_546.forEach(_58b,function(_595){_595.set("disabled",false);});}));}else{if(_590!==false){_58a.hide();_58a.destroy();}else{}}};_58a.showCancelNode(true);_58a.onExecute=function(){var _596=true;if(_550.isFunction(_583.callback)){_596=_583.callback.apply(kc.DialogManager,arguments);}_58f(_596);};if(_584){_58a.onSecondButton=function(){var _597=true;if(_550.isFunction(_584.callback)){_597=_584.callback.apply(kc.DialogManager,arguments);}_58f(_597);};}_58a.onCancel=function(){var _598=true;if(_550.isFunction(_589.callback)){_598=_589.callback.apply(kc.DialogManager,arguments);}_58f(_598);};_58a.set(args);_58a.show();return _58a;}});kc.DialogManager.instance=null,kc.DialogManager.getInstance=function(){if(kc.DialogManager.instance===null){kc.DialogManager.instance=new kc.DialogManager();kc.DialogManager.instance.initialize();}return kc.DialogManager.instance;};return kc.DialogManager.getInstance();});},"kc/widget/topic/TopicIFrameContainer":function(){define("kc/widget/topic/TopicIFrameContainer",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/window","dojo/_base/window","dojo/string","dojo/on","dojo/io-query","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","kc/widget/common/KCWidget","kc/state/KCState","kc/Messaging","kc/Constants","kc/URIs","kc/Topics","kc/Utils","kc/DialogManager","idx/util","idx/string","kc/widget/topic/TopicImageResize","kc/controller/Handler","dojox/mobile/sniff","dojo/query","dojo/_base/url","kc/widget/topic/TopicUtils","kc/widget/common/_IFrameMixin","idx/form/Link"],function(_599,lang,_59a,_59b,win,_59c,_59d,on,_59e,_59f,_5a0,_5a1,_5a2,_5a3,_5a4,_5a5,_5a6,_5a7,URIs,_5a8,_5a9,_5aa,_5ab,_5ac,_5ad,_5ae,has,_5af,dUrl,_5b0,_5b1){return _599("kc.widget.topic.TopicIFrameContainer",[_5a4,_5b1],{templateString:"<div class=\"topicIFrameContainer\"></div>",_iframe:undefined,_messageArea:undefined,topicModel:undefined,_currentTopicHrefBase:undefined,topicImageResizer:undefined,__tempContentLanguage:(function(){var lang=_5a7.KC_LANGUAGE;if(lang==="en"){return "en-us";}else{if(lang==="zh"){return "zh-cn";}else{if(lang==="pt"){return "pt-pt";}else{if(lang==="ja"){return "ja-jp";}}}}return lang;})(),contentBase:undefined,postCreate:function(){this.inherited(arguments);this.contentBase=_59d.substitute(URIs.CONTENT_NL,[this.__tempContentLanguage,""]);},_initializeStrings:function(){this._topicIFrameTitle=this.getString("TOPIC_FRAMETITLE");this._externalLinkMessage=this.getString("TOPIC_EXTERNAL_LINK");this._openNewWindowMessage=this.getString("TOPIC_EXTERNAL_LINK_OPEN_NEW_WINDOW");},_initializeConnections:function(){this.addConnection(window,"resize",this,"_onIFrameResize");},_initializeSubscriptions:function(){this.addSubscription(_5a8.TOGGLE_SPLITTER_MOVE,this,"_onIFrameResize");},setup:function(_5b2,_5b3){this._setIFrameSource(_5b2,_5b3);},_setIFrameSource:function(_5b4,_5b5){if(!_5b4){return;}this.topicModel=_5b4;var _5b6={};_5b6.title=this._topicIFrameTitle;var href=_5b0.decodeHref(_5b4.href);var dh=href;var _5b7=new dUrl(dh);if(!_5a9.isEmpty(_5b7.fragment)){_5b6.anchor=_5b7.fragment;}this._currentTopicHrefBase=_5b7.path?_5b7.path:"";if(_5b5){if(_5b6.anchor){this.setIframeAnchor(_5b6.anchor);}return;}this.topicImageResizer=new _5ad();if(_5b0.isExternalHref(href)){var url=_5b0.getExternalHref(href);this._createExternalLinkPane(url);_5a6.publish(_5a8.KC_NOTIFICATION,[_5a7.CONTENT_TOPIC,_5a7.NOTIFICATION_CONTENT_AVAILABLE,this.topicModel]);}else{var url=_59d.substitute(URIs.CONTENT_NL,[this.__tempContentLanguage,this._currentTopicHrefBase]);var _5b8=(_5ac.endsWith(url,".pdf"));if(_5b8){url+="#navpanes=0&toolbar=0";_5b6.maxAvailableHeight="true";}this._createIFrame(url,_5b6);}},_createExternalLinkPane:function(url){this.cleanup();this._messageArea=_5a3.create("div");_59f.add(this._messageArea,"topicVieverMessageArea");var _5b9=_5a3.create("span");_5b9.appendChild(_59c.doc.createTextNode(this._externalLinkMessage));this._messageArea.appendChild(_5b9);_59f.add(_5b9,"topicVieverMessageNode");var lw=new idx.form.Link({label:this._openNewWindowMessage});this.addConnection(lw,"onClick",this,lang.hitch(this,function(){_5a6.publish(_5a8.EXTERNAL_LINK,[url]);}));this._messageArea.appendChild(lw.domNode);_59f.add(lw.domNode,"topicVieverMessageLink marginLeading5");_5a3.place(this._messageArea,this.domNode);},_createIFrame:function(url,_5ba){this.cleanup();this._iframe=_5a3.create("iframe");_5a0.set(this._iframe,"frameBorder","0");if(_5a9.isObject(_5ba)){_59a.forEach(_5a9.getPropertiesOfObject(_5ba),lang.hitch(this,function(attr){_5a0.set(this._iframe,attr,_5ba[attr]);}));}_59f.add(this._iframe,"topicVieverIFrame");_5a3.place(this._iframe,this.domNode);if(has("touch")&&has("chrome")&&has("android")){_5a1.set(this.domNode,"position","relative");_5a3.create("div",{"class":"touchAreaForAndroidChrome",onclick:lang.hitch(this,function(e){if(this._iframe.contentDocument&&_5a9.isFunction(this._iframe.contentDocument.elementFromPoint)){var _5bb=0,_5bc=0,_5bd=this._iframe;while(_5bd){_5bb+=_5bd.offsetLeft;_5bc+=_5bd.offsetTop;_5bd=_5bd.offsetParent;}var _5be=this._iframe.contentDocument.elementFromPoint(e.clientX-_5bb,e.clientY-_5bc+_5ab.getParentWidget(_5ab.getParentWidget(this.domNode)).domNode.scrollTop);if(_5be){on.emit(_5be,"click",{cancelable:true,bubbles:true});}}})},this._iframe,"after");}var _5bf=_5ab.isIE?"readystatechange":"load";var _5c0=/complete|loaded/;this.addConnection(on(this._iframe,_5bf,lang.hitch(this,function(tm,evt){if(evt.type=="load"||_5c0.test(this._iframe.readyState)){this._iFrameLoaded(tm);}},this.topicModel)));this._iframe.src=url;},_iFrameLoaded:function(tm){setTimeout(lang.hitch(this,function(){this._setIFrameHeight();if(this._iframe){this.topicImageResizer.resizeAtPageLoad(this._iframe);}this._setIFrameHeight(true);_5a6.publish(_5a8.KC_TOPIC_IFRAME_RESIZED,[]);}),50);if(this._iframe&&typeof this._iframe.contentWindow!="unknown"){try{var _5c1=this._iframe.contentWindow.location.pathname;}catch(error){_5a6.publish(_5a8.KC_NOTIFICATION,[_5a7.CONTENT_TOPIC,_5a7.NOTIFICATION_CONTENT_AVAILABLE,tm]);return;}if(_5ac.startsWith(_5c1,this.contentBase)){_5c1=_5a9.stripBeginning(_5c1,this.contentBase);var ch=_5a9.resolveRelativePath(this._currentTopicHrefBase);var _5c2=decodeURIComponent(ch);var _5c3=decodeURIComponent(_5c1);if(_5c2!==_5c3){var hash=_5a9.getObject("hash",this._iframe.contentWindow.location,"");_5c1=_5b0.encodeHref(_5c1+hash);this._newContent(_5c1);}}if(this._iframe&&typeof this._iframe.contentDocument!="unknown"){var ifb=this._iframe.contentDocument.body;if(ifb){var _5c4=_5a0.get(ifb,_5a7.TOPIC_CONTENT_RESPONSE_STATUS_ATTRIBUTE);if(_5c4>=400){_5a6.publish(_5a8.KC_NOTIFICATION,[_5a7.CONTENT_TOPIC,_5a7.NOTIFICATION_CONTENT_NOT_AVAILABLE,tm]);}else{_5a6.publish(_5a8.KC_NOTIFICATION,[_5a7.CONTENT_TOPIC,_5a7.NOTIFICATION_CONTENT_AVAILABLE,tm]);}this.set("iFrameDomNode",this._iframe);this.scrollToAnchor();if(_5ab.isMozilla){var path=this._iframe.contentWindow.location.pathname;var gta=lang.hitch(this,function(link){if(!_5a9.isEmpty(link.href)){var href=link.kcContentHref||link.href;var _5c5=new dUrl(href);if(!_5a9.isEmpty(_5c5.fragment)&&path===_5c5.path){this.addConnection(link,"onclick",this,lang.hitch(this,function(h){this._goToAnchor(this._iframe.contentDocument,h);},_5c5.fragment));}}});_5af("a",ifb).forEach(gta);_5af("area",ifb).forEach(gta);}}}}else{_5a6.publish(_5a8.KC_NOTIFICATION,[_5a7.CONTENT_TOPIC,_5a7.NOTIFICATION_CONTENT_NOT_AVAILABLE,tm]);}},_newContent:function(_5c6){},scrollToAnchor:function(){var _5c7=_5a0.get(this._iframe,"anchor");if(_5c7){setTimeout(lang.hitch(this,function(){if(this._iframe){this._goToAnchor(this._iframe.contentDocument,_5c7);}}),50);}},_goToAnchor:function(_5c8,_5c9){if(_5c8&&_5c9){var _5ca=_5a9.getFirstElementOfArray(_5af("[name=\""+decodeURI(_5c9)+"\"]",_5c8.body));if(!_5ca){_5ca=_5c8.getElementById(decodeURI(_5c9));}if(_5ca){_5ca.scrollIntoView(true);}}},_onIFrameResize:function(){if(_5a7.CONTENT_TOPIC===_5a5.active){if(this._iframe&&!this._destroyed){setTimeout(lang.hitch(this,function(){this._setIFrameHeight();if(this._iframe){this.topicImageResizer.resizeAllImages(this._iframe);}this._setIFrameHeight(true);}),50);}}},_setIFrameHeight:function(_5cb){if(this._destroyed){return;}if(this._iframe){var _5cc=_5a0.get(this._iframe,"maxAvailableHeight");if((typeof this._iframe.contentWindow!="unknown")&&(typeof this._iframe.contentDocument!="unknown")){try{if(_5cc!=="true"){var ifb=this._iframe.contentDocument.body;if(ifb){var _5cd=_5a9.getObject("style.height",ifb,"");if(_5cd==="100%"){_5cc="true";}}}if(_5cc!=="true"){var _5ce=_5af("frameset",this._iframe.contentDocument);if(_5ce.length){_5cc="true";}}if(_5cc!=="true"){var _5cf=_5af("embed[type='application/x-shockwave-flash']",this._iframe.contentDocument);if(_5cf.length){_5cc="true";}}}catch(error){_5cc="true";}}if(_5cc==="true"){this._setIFrameToAvailableHeight();}else{if((typeof this._iframe.contentDocument!="unknown")&&_5a7.CONTENT_TOPIC===_5a5.active){var ifb=this._iframe.contentDocument.body;if(!ifb){return;}var cs=_5a1.getComputedStyle(ifb);if(!cs){return;}_5a1.set(this._iframe,"width","");_5a1.set(ifb,"overflow","hidden");var _5d0=-1;var _5d1=-1;var node=ifb.parentNode;if(_5ab.isIE){node=ifb;}var _5d2=_5a9.getStaticSize(node,{overflow:"hidden"});var _5d3=_5d2.h;var _5d1=_5d3+25;if(_5cb){node=ifb.parentNode;if(_5ab.isIE){node=ifb;}var _5d4=_5a9.getStaticSize(node,{overflow:"hidden",position:"absolute",height:_5d2.h+"px"});var _5d5=_5d4.w;_5d0=_5d5;}if(_5d0>-1){_5a1.set(this._iframe,"width",_5d0+"px");}if(_5d1>-1){_5a1.set(this._iframe,"height",_5d1+"px");}if(has("touch")&&has("chrome")&&has("android")){if(_5d0>-1){_5a1.set(_5af(".touchAreaForAndroidChrome",this._iframe.parentNode)[0],"width",_5d0+"px");}if(_5d1>-1){_5a1.set(_5af(".touchAreaForAndroidChrome",this._iframe.parentNode)[0],"height",_5d1+"px");}}}else{this._setIFrameToAvailableHeight();}}}else{this._setIFrameToAvailableHeight();}},_setIFrameToAvailableHeight:function(){if(this._destroyed){return;}var tv=_5ab.getParentWidget(this,kc.widget.topic.TopicViewer);var _5d6=_5ab.getParentWidget(tv);var _5d7=Math.max(0,_5d6.domNode.clientHeight-120);_5a1.set(this._iframe,"height",_5d7+"px");if(this._iframe.contentDocument){var _5d8=this._iframe.contentDocument.getElementsByTagName("html")[0];if(_5d8){var info=_5a2.getContentBox(_5d8);var diff=info.h-_5d7;if(diff>0){_5a1.set(_5d8,"height",(_5d7-diff)+"px");}}}if(has("touch")&&has("chrome")&&has("android")){_5a1.set(_5af(".touchAreaForAndroidChrome",this._iframe.parentNode)[0],"height",_5d7+"px");}},uninitialize:function(){this.inherited(arguments);this.cleanup();},cleanup:function(){if(this._iframe){_59a.forEach(dijit.findWidgets(this._iframe),function(w){w.destroyRecursive();});_5a3.destroy(this._iframe);this._iframe=undefined;}if(this._messageArea){_59a.forEach(dijit.findWidgets(this._messageArea),function(w){w.destroyRecursive();});_5a3.destroy(this._messageArea);this._messageArea=undefined;}},destroyRecursive:function(_5d9){this.inherited(arguments);},setIframeAnchor:function(_5da){if(_5da){_5a0.set(this._iframe,"anchor",_5da);this.scrollToAnchor();}}});});},"dijit/Calendar":function(){define("dijit/Calendar",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/event","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/_base/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton","./hccss"],function(_5db,date,_5dc,_5dd,_5de,_5df,_5e0,_5e1,keys,lang,has,_5e2,_5e3,_5e4,_5e5,_5e6){var _5e7=_5dd("dijit.Calendar",[_5e2,_5e3,_5e4],{cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(_5e8){_5e1.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_5e8);},_createMonthWidget:function(){return new _5e7._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){this.inherited(arguments);this.connect(this.domNode,"onkeypress","_onKeyPress");this.connect(this.dateRowsNode,"onmouseover","_onDayMouseOver");this.connect(this.dateRowsNode,"onmouseout","_onDayMouseOut");this.connect(this.dateRowsNode,"onmousedown","_onDayMouseDown");this.connect(this.dateRowsNode,"onmouseup","_onDayMouseUp");},_onMonthSelect:function(_5e9){this._setCurrentFocusAttr(this.dateFuncObj.add(this.currentFocus,"month",_5e9-this.currentFocus.getMonth()));},_onDayMouseOver:function(evt){var node=_5df.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_5df.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_5df.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_5df.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_5df.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_5df.contains(node,"dijitCalendarDisabledDate")){_5df.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_5df.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _5ea=-1,_5eb,_5ec=this.currentFocus;switch(evt.charOrCode){case keys.RIGHT_ARROW:_5ea=1;case keys.LEFT_ARROW:_5eb="day";if(!this.isLeftToRight()){_5ea*=-1;}break;case keys.DOWN_ARROW:_5ea=1;case keys.UP_ARROW:_5eb="week";break;case keys.PAGE_DOWN:_5ea=1;case keys.PAGE_UP:_5eb=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_5ec=this.dateFuncObj.add(_5ec,"month",1);_5eb="day";case keys.HOME:_5ec=new this.dateClassObj(_5ec);_5ec.setDate(1);break;case keys.ENTER:case " ":this.set("value",this.currentFocus);break;default:return true;}if(_5eb){_5ec=this.dateFuncObj.add(_5ec,_5eb,_5ea);}this._setCurrentFocusAttr(_5ec);return false;},_onKeyPress:function(evt){if(!this.handleKey(evt)){_5e0.stop(evt);}},onValueSelected:function(){},onChange:function(_5ed){this.onValueSelected(_5ed);},getClassForDate:function(){}});_5e7._MonthDropDownButton=_5dd("dijit.Calendar._MonthDropDownButton",_5e6,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _5e7._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(_5ee){var _5ef=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_5ee);this.dropDown.set("months",_5ef);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_5ef[_5ee.getMonth()]+"</div>";}});_5e7._MonthDropDown=_5dd("dijit.Calendar._MonthDropDown",[_5e3,_5e5],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_5f0){this.domNode.innerHTML=_5db.map(_5f0,function(_5f1,idx){return _5f1?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+_5f1+"</div>":"";}).join("");},_onClick:function(evt){this.onChange(_5de.get(evt.target,"month"));},onChange:function(){},_onMenuHover:function(evt){_5df.toggle(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");}});return _5e7;});},"url:kc/widget/common/templates/SignInDialog2.html":"<div>\n\t<div data-dojo-type=\"idx.oneui.Dialog\" data-dojo-attach-point=\"_dialog\" class=\"signInDialog\" data-dojo-props=\"title: '${titleLabel}', autofocus: false\">\n\t\t<iframe src=\"\" style=\"height: 257px; width: 508px; border: 0\" data-dojo-attach-point=\"_signinIframe\"></iframe>\n\t</div>\n</div>\n","kc/model/CollectionOperation":function(){define("kc/model/CollectionOperation",["dojo/_base/declare","kc/model/KCModel","kc/Constants","kc/Utils"],function(_5f2,_5f3,_5f4,_5f5){return _5f2("kc.model.CollectionOperation",[_5f3],{id:undefined,operation:undefined,constructor:function(){}});});},"dojox/widget/Toaster":function(){define("dojox/widget/Toaster",["dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","dojo/_base/fx","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dijit/registry","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/BackgroundIframe","dojo/fx","dojo/has","dojo/_base/window","dojo/window"],function(_5f6,lang,_5f7,_5f8,_5f9,_5fa,_5fb,_5fc,_5fd,_5fe,_5ff,_600,has,_601,_602){lang.getObject("dojox.widget",true);var _603=function(w){return w.substring(0,1).toUpperCase()+w.substring(1);};return _5f6("dojox.widget.Toaster",[_5fd,_5fe],{templateString:"<div class=\"dijitToasterClip\" dojoAttachPoint=\"clipNode\"><div class=\"dijitToasterContainer\" dojoAttachPoint=\"containerNode\" dojoAttachEvent=\"onclick:onSelect\"><div class=\"dijitToasterContent\" dojoAttachPoint=\"contentNode\"></div></div></div>",messageTopic:"",messageTypes:{MESSAGE:"message",WARNING:"warning",ERROR:"error",FATAL:"fatal"},defaultType:"message",positionDirection:"br-up",positionDirectionTypes:["br-up","br-left","bl-up","bl-right","tr-down","tr-left","tl-down","tl-right"],duration:2000,slideDuration:500,separator:"<hr></hr>",postCreate:function(){this.inherited(arguments);this.hide();_601.body().appendChild(this.domNode);if(this.messageTopic){_5f7.subscribe(this.messageTopic,this,"_handleMessage");}},_handleMessage:function(_604){if(lang.isString(_604)){this.setContent(_604);}else{this.setContent(_604.message,_604.type,_604.duration);}},setContent:function(_605,_606,_607){_607=_607||this.duration;if(this.slideAnim){if(this.slideAnim.status()!="playing"){this.slideAnim.stop();}if(this.slideAnim.status()=="playing"||(this.fadeAnim&&this.fadeAnim.status()=="playing")){setTimeout(lang.hitch(this,function(){this.setContent(_605,_606,_607);}),50);return;}}for(var type in this.messageTypes){_5fa.remove(this.containerNode,"dijitToaster"+_603(this.messageTypes[type]));}_5f9.set(this.containerNode,"opacity",1);this._setContent(_605);_5fa.add(this.containerNode,"dijitToaster"+_603(_606||this.defaultType));this.show();var _608=_5fb.getMarginBox(this.containerNode);this._cancelHideTimer();if(this.isVisible){this._placeClip();if(!this._stickyMessage){this._setHideTimer(_607);}}else{var _609=this.containerNode.style;var pd=this.positionDirection;if(pd.indexOf("-up")>=0){_609.left=0+"px";_609.top=_608.h+10+"px";}else{if(pd.indexOf("-left")>=0){_609.left=_608.w+10+"px";_609.top=0+"px";}else{if(pd.indexOf("-right")>=0){_609.left=0-_608.w-10+"px";_609.top=0+"px";}else{if(pd.indexOf("-down")>=0){_609.left=0+"px";_609.top=0-_608.h-10+"px";}else{throw new Error(this.id+".positionDirection is invalid: "+pd);}}}}this.slideAnim=_600.slideTo({node:this.containerNode,top:0,left:0,duration:this.slideDuration});this.connect(this.slideAnim,"onEnd",function(_60a,anim){this.fadeAnim=_5f8.fadeOut({node:this.containerNode,duration:1000});this.connect(this.fadeAnim,"onEnd",function(evt){this.isVisible=false;this.hide();});this._setHideTimer(_607);this.connect(this,"onSelect",function(evt){this._cancelHideTimer();this._stickyMessage=false;this.fadeAnim.play();});this.isVisible=true;});this.slideAnim.play();}},_setContent:function(_60b){if(lang.isFunction(_60b)){_60b(this);return;}if(_60b&&this.isVisible){_60b=this.contentNode.innerHTML+this.separator+_60b;}this.contentNode.innerHTML=_60b;},_cancelHideTimer:function(){if(this._hideTimer){clearTimeout(this._hideTimer);this._hideTimer=null;}},_setHideTimer:function(_60c){this._cancelHideTimer();if(_60c>0){this._cancelHideTimer();this._hideTimer=setTimeout(lang.hitch(this,function(evt){if(this.bgIframe&&this.bgIframe.iframe){this.bgIframe.iframe.style.display="none";}this._hideTimer=null;this._stickyMessage=false;this.fadeAnim.play();}),_60c);}else{this._stickyMessage=true;}},_placeClip:function(){var view=_602.getBox();var _60d=_5fb.getMarginBox(this.containerNode);var _60e=this.clipNode.style;_60e.height=_60d.h+"px";_60e.width=_60d.w+"px";var pd=this.positionDirection;if(pd.match(/^t/)){_60e.top=view.t+"px";}else{if(pd.match(/^b/)){_60e.top=(view.h-_60d.h-2+view.t)+"px";}}if(pd.match(/^[tb]r-/)){_60e.left=(view.w-_60d.w-1-view.l)+"px";}else{if(pd.match(/^[tb]l-/)){_60e.left=0+"px";}}_60e.clip="rect(0px, "+_60d.w+"px, "+_60d.h+"px, 0px)";if(has("ie")){if(!this.bgIframe){this.clipNode.id=_5fc.getUniqueId("dojox_widget_Toaster_clipNode");this.bgIframe=new _5ff(this.clipNode);}var _60f=this.bgIframe.iframe;if(_60f){_60f.style.display="block";}}},onSelect:function(e){},show:function(){_5f9.set(this.domNode,"display","block");this._placeClip();if(!this._scrollConnected){this._scrollConnected=_5f7.connect(_602,"onscroll",this,this._placeClip);}},hide:function(){_5f9.set(this.domNode,"display","none");if(this._scrollConnected){_5f7.disconnect(this._scrollConnected);this._scrollConnected=false;}_5f9.set(this.containerNode,"opacity",1);}});});},"kc/widget/navigation/Tree":function(){define("kc/widget/navigation/Tree",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/string","kc/widget/common/KCTree","kc/widget/topic/_TopicContextMenuMixin","kc/widget/common/_SeparatorContextMenuMixin","kc/widget/collection/_CollectionContextMenuMixin","kc/Messaging","kc/Constants","kc/Topics","kc/Utils","kc/widget/common/KCTreeUtils","kc/widget/topic/TopicUtils","kc/model/Topic","dijit/MenuItem","dijit/MenuSeparator"],function(_610,lang,_611,_612,_613,_614,_615,_616,_617,_618,_619,_61a,_61b,_61c){return _610("kc.widget.navigation.Tree",[_613,_614,_615,_616],{_itemClicked:function(item){},_getDataForMenu:function(_61d){var _61e=dijit.getEnclosingWidget(_61d).item;var _61f=new kc.model.Topic();_61a.copyProperties(_61e,_61f,this.model.store);_61f._hasChildren=!_61b.isLeaf(_61e,this.model.store,this.model)||_61c.isParent(_61e,this.model.store);return _61f;}});});},"dojox/lang/functional/array":function(){define("dojox/lang/functional/array",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/window","./lambda"],function(dojo,lang,arr,win,df){var _620={};lang.mixin(df,{filter:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var t=[],v,i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){v=a.next();if(f.call(o,v,i++,a)){t.push(v);}}}else{for(i in a){if(!(i in _620)){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}}}return t;},forEach:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();f.call(o,a.next(),i++,a)){}}else{for(i in a){if(!(i in _620)){f.call(o,a[i],i,a);}}}}return o;},map:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var t,n,i;if(lang.isArray(a)){t=new Array(n=a.length);for(i=0;i<n;t[i]=f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[];for(i=0;a.hasNext();t.push(f.call(o,a.next(),i++,a))){}}else{t=[];for(i in a){if(!(i in _620)){t.push(f.call(o,a[i],i,a));}}}}return t;},every:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){if(!f.call(o,a[i],i,a)){return false;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(!f.call(o,a.next(),i++,a)){return false;}}}else{for(i in a){if(!(i in _620)){if(!f.call(o,a[i],i,a)){return false;}}}}}return true;},some:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){if(f.call(o,a[i],i,a)){return true;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(f.call(o,a.next(),i++,a)){return true;}}}else{for(i in a){if(!(i in _620)){if(f.call(o,a[i],i,a)){return true;}}}}}return false;}});return df;});},"kc/widget/search/SearchResultFacets":function(){require({cache:{"url:kc/widget/search/templates/SearchResultFacets.html":"<div>\n\t<div class=\"searchResultFacet\" data-dojo-attach-point=\"_dateFacet\">\n\t    <div class=\"searchResultFacetList\">\n\t        <div class=\"overallItemContainer\">\n\t            <div class=\"facetCategory\">${_searchResultFacetDateLabel}</div>\n\t\t        <div data-dojo-attach-point=\"_dateFacetList\"></div>\n\t\t    </div>\n\t\t</div>\n\t</div>\n\t<!-- task 55802, Removing \"info type\" from KC 1. 5 search results , will enable this function in future version -->\n\t<!--\n\t<div class=\"searchResultFacet\" data-dojo-attach-point=\"_infoTypeFacet\">\n\t\t<div class=\"searchResultFacetList\">\n\t\t\t<div class=\"searchResultFacetOpenLink\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_moreTypeFacets\" title=\"${_moreFacetsLabel}\" label=\"&nbsp;\"></div>\n\t\t\t<div class=\"overallItemContainer\">\n\t\t\t\t<div class=\"facetCategory\">${_searchResultFacetContentTypeLabel}</div>\n\t\t\t\t<div data-dojo-attach-point=\"_infoTypeFacetList\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t -->\n\t<div class=\"searchResultFacet\" data-dojo-attach-point=\"_taskFacet\">\n\t\t<div class=\"searchResultFacetList\">\n\t\t\t<div class=\"searchResultFacetOpenLink\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_moreTaskFacets\" title=\"${_moreFacetsLabel}\"><label class=\"hidden\">${_moreFacetsLabel}</label></div>\n\t\t\t<div class=\"overallItemContainer\">\n\t\t\t\t<div class=\"facetCategory\">${_searchResultFacetTaskLabel}</div>\n\t\t\t\t<div data-dojo-attach-point=\"_taskFacetList\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"searchResultFacet\" data-dojo-attach-point=\"_osFacet\">\n\t\t<div class=\"searchResultFacetList\">\n\t\t\t\t<div class=\"searchResultFacetOpenLink\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_moreOSFacets\" title=\"${_moreFacetsLabel}\"><label class=\"hidden\">${_moreFacetsLabel}</label></div>\n\t\t\t\t<div class=\"overallItemContainer\">\n\t\t\t\t\t<div class=\"facetCategory\">${_searchResultFacetOSLabel}</div>\n\t\t\t\t\t<div data-dojo-attach-point=\"_osFacetList\"></div>\n\t\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>","url:kc/widget/search/templates/SearchResultFacetsItem.html":"<div class=\"displayInlineBlock searchResultFacetItem\"  tabindex=0 data-dojo-attach-point=\"_content\" data-dojo-attach-event=\"onclick:_onclick, onkeypress:_onkeypress\"></div>\n","url:kc/widget/search/templates/SearchResultFacetsCustomRange.html":"<div class=\"searchResultFacetItem\">\n<table role=\"presentation\">\n<tr><td><label for=\"datePicker1\">${_searchResultFacetDateCustomefrom}</label></td><td><div id=\"datePicker1\" class=\"\" data-dojo-type=\"idx.form.DatePicker\" data-dojo-attach-point=\"_picker1\"></div></td><td>&nbsp;</td></tr>\n<tr><td><label for=\"datePicker2\">${_searchResultFacetDateCustometo}</label></td><td><div id=\"datePicker2\" class=\"\" data-dojo-type=\"idx.form.DatePicker\" data-dojo-attach-point=\"_picker2\"></div></td><td><button dojoType=\"dijit.form.Button\" dojoAttachPoint=\"okBtn\">${_searchResultFacetDateCustomeokbtn}</button></td></tr>\n</table>\n</div>\n"}});define("kc/widget/search/SearchResultFacets",["dojo/_base/declare","dojo/_base/window","dojo/keys","dojo/query","kc/widget/common/KCWidget","dijit/_base/manager","dijit/registry","dojo/text!kc/widget/search/templates/SearchResultFacets.html","dojo/text!kc/widget/search/templates/SearchResultFacetsItem.html","dojo/text!kc/widget/search/templates/SearchResultFacetsCustomRange.html","kc/Messaging","kc/Topics","kc/Constants","kc/controller/SearchController","kc/Utils","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/_base/html","dojo/_base/Deferred","dojo/ready","kc/state/KCState","kc/state/StateUtils","kc/DialogManager","dojo/date/locale","dojo/_base/kernel","dijit/ToolbarSeparator","kc/widget/search/SearchUtils","kc/widget/common/KCTreeUtils","kc/model/Search","kc/model/Tag","idx/form/DatePicker","idx/form/Link","dojo/data/ItemFileReadStore","kc/widget/search/FacetPane","idx/oneui/HoverCard"],function(_621,_622,keys,_623,_624,_625,_626,_627,_628,_629,_62a,_62b,_62c,_62d,_62e,lang,_62f,_630,_631,html,_632,_633,_634,_635,_636,_637,_638,_639,_63a,_63b){var _63c=_621("kc.widget.search.SearchResultFacetsItem",[_624],{templateString:_628,tid:null,tname:null,facet:null,selected:false,postCreate:function(){this.inherited(arguments);if(this.tname){_630.empty(this._content);this._content.appendChild(window.document.createTextNode(this.tname));}_631.toggle(this.domNode,"searchResultFacetItemSelected",this.selected);},_onclick:function(){if(this.tid!="anyTask"&&this.tid!="anyOS"){var args=[_62c.CONTENT_SEARCH,_62c.ACTION_SEARCH_FACET_POPUP,{"type":this.facet},undefined];_62a.publish(_62b.KC_ACTION,args);}},_onkeypress:function(e){if(e.keyCode==keys.ENTER||e.charCode==keys.ENTER){this._onclick();}}});var _63d=_621("kc.widget.search.SearchResultFacetsDateItem",[_624],{templateString:_628,tid:null,tname:null,selected:false,facet:null,postCreate:function(){this.inherited(arguments);if(this.tname){_630.empty(this._content);this._content.appendChild(window.document.createTextNode(this.tname));}},select:function(_63e){this.selected=_63e;if(this.facet=="fromDate"){_631.toggle(this.domNode,"searchResultFacetDateItemSelected",_63e);if(_63e){this.deslsectSibling();}}else{_631.toggle(this.domNode,"searchResultFacetItemSelected",_63e);}},deslsectSibling:function(){var fids=["fpastWeek","fpastMonth","fpastYear","fsfc","fanytime"];_62f.forEach(fids,function(fid){var _63f=_625.byId(fid);if(_63f&&_63f!=this){_63f.select(false);}},this);},_onclick:function(){var term=_63a.getSearchTerm();var _640=_63a.getSearchScope();var tag=_63a.getSearchTag();if(this.facet=="fromDate"){if(!this.selected){if(this.tid=="anytime"){if(tag.fromDate){delete tag.fromDate;}}else{tag.fromDate=this.tid;}if(tag.toDate){delete tag.toDate;}}else{if(this.tid=="anytime"){this.select(false);}if(tag.fromDate){delete tag.fromDate;}}}else{tag[this.facet]=tag[this.facet]?tag[this.facet].slice(0):[];if(!this.selected){tag[this.facet].push(this.tid);}else{var i=_62f.indexOf(tag[this.facet],this.tid);if(i>-1){tag[this.facet].splice(i,1);}}}var _641=new kc.model.Search({term:term,scope:_640,tag:tag});var args=[_62c.CONTENT_SEARCH,_62c.ACTION_SEARCH_FACET_APPLY,{},_641];_62a.publish(_62b.KC_ACTION,args);_62a.publish(_62b.KC_SEARCH,[_62c.SOURCE_NAVIGATION_SEARCH_FACETS,_641]);},_onkeypress:function(e){if(e.keyCode==keys.ENTER||e.charCode==keys.ENTER){this._onclick();}}});var _642=_621("kc.widget.search.SearchResultFacetsCustomRange",[_63d],{templateString:_629,tdate1:null,tdate2:null,selected:false,facet:"fromDate",_initializeStrings:function(){this._searchResultFacetDateCustome=this.getString("SEARCH_RESULT_FACET_DATE_CUSTOM");this._searchResultFacetDateCustomefrom=this.getString("SEARCH_RESULT_FACET_DATE_CUSTOM_from");this._searchResultFacetDateCustometo=this.getString("SEARCH_RESULT_FACET_DATE_CUSTOM_to");this._searchResultFacetDateCustomeokbtn=this.getString("ACTION_OK");this._searchResultFacetDateRangeErrorRangeMessageLater=this.getString("SEARCH_RESULT_FACET_DATE_RANGE_ERROR_MESSAGE_LATER");this._searchResultFacetDateRangeErrorRangeMessageEarlier=this.getString("SEARCH_RESULT_FACET_DATE_RANGE_ERROR_MESSAGE_EARLIER");this._searchResultFacetDateRangeErrorRangeMessageEmpty=this.getString("SEARCH_RESULT_FACET_DATE_RANGE_ERROR_MESSAGE_EMPTY");},postCreate:function(){this.inherited(arguments);this.customeLink=new idx.form.Link({label:this._searchResultFacetDateCustome});_631.add(this.customeLink.domNode,"searchResultFacetItem");this.okBtn.onClick=lang.hitch(this,function(){if(!this.validate()){return;}var d1=this._picker1.isValid()?this._picker1.value:null;var d2=this._picker2.isValid()?this._picker2.value:null;var term=_63a.getSearchTerm();var _643=_63a.getSearchScope();var tag=_63a.getSearchTag();this.tag=lang.clone(tag);if(!d1||isNaN(d1.getTime())){if(this.tag.fromDate){delete this.tag.fromDate;}}else{this.tag.fromDate=_637.format(d1,{selector:"date",datePattern:"yyyyMMdd"});}if(!d2||isNaN(d2.getTime())){if(this.tag.toDate){delete this.tag.toDate;}}else{this.tag.toDate=_637.format(d2,{selector:"date",datePattern:"yyyyMMdd"});}if(this.tag.fromDate||this.tag.toDate){var _644=new kc.model.Search({term:term,scope:_643,tag:this.tag});var args=[_62c.CONTENT_SEARCH,_62c.ACTION_SEARCH_FACET_APPLY,{},_644];_62a.publish(_62b.KC_ACTION,args);_62a.publish(_62b.KC_SEARCH,[_62c.SOURCE_NAVIGATION_SEARCH_FACETS,_644]);}else{return;}});this.customeLink.onClick=lang.hitch(this,function(){if(this.selected){var term=_63a.getSearchTerm();var _645=_63a.getSearchScope();var tag=_63a.getSearchTag();this.tag=lang.clone(tag);if(this.tag.fromDate){delete this.tag.fromDate;}if(this.tag.toDate){delete this.tag.toDate;}var _646=new kc.model.Search({term:term,scope:_645,tag:this.tag});var args=[_62c.CONTENT_SEARCH,_62c.ACTION_SEARCH_FACET_APPLY,{},_646];_62a.publish(_62b.KC_ACTION,args);_62a.publish(_62b.KC_SEARCH,[_62c.SOURCE_NAVIGATION_SEARCH_FACETS,_646]);this.select(false);}else{this.domNode.style.display="";}});this._initializePickers();},_initializePickers:function(){this._picker1.rangeMessage=this._searchResultFacetDateRangeErrorRangeMessageEarlier;this._picker2.rangeMessage=this._searchResultFacetDateRangeErrorRangeMessageLater;this._picker1.openDropDown=this._picker2.openDropDown=function(_647){this.set("constraints",{});this.inherited("openDropDown",arguments);};this._picker1._setConstraintsAttr=this._picker2._setConstraintsAttr=function(_648){this.inherited("_setConstraintsAttr",arguments);this.validate();};},select:function(_649){this.selected=_649;_631.toggle(this.customeLink.domNode,"searchResultFacetDateItemSelected",_649);if(_649){this.deslsectSibling();if(!this.tag){var tag=_63a.getSearchTag();this.tag=lang.clone(tag);}if(this.tag&&!isNaN(this.tag.fromDate)){this.tdate1=_637.parse(this.tag.fromDate,{selector:"date",datePattern:"yyyyMMdd"});}if(this.tag&&!isNaN(this.tag.toDate)){this.tdate2=_637.parse(this.tag.toDate,{selector:"date",datePattern:"yyyyMMdd"});}this.domNode.style.display="";}else{this.tdate1=null;this.tdate2=null;this.domNode.style.display="none";}this.setDate();},setDate:function(){if(!this.tdate1){this.tdate1=null;}this._picker1.set("value",this.tdate1);this._picker1.set("value",this._picker1.get("value"));if(!this.tdate2){this.tdate2=null;}this._picker2.set("value",this.tdate2);this._picker2.set("value",this._picker2.get("value"));},startup:function(){this.inherited(arguments);this.customeLink.domNode.parentNode.appendChild(this.domNode);this.setDate();this._picker1.onChange=lang.hitch(this,function(_64a){var _64b=this._picker2.get("value");this._picker1.set("constraints",_64b?{max:_64b}:{});this._picker2.set("constraints",_64a?{min:_64a}:{});});this._picker2.onChange=lang.hitch(this,function(_64c){var _64d=this._picker1.get("value");this._picker2.set("constraints",_64d?{min:_64d}:{});this._picker1.set("constraints",_64c?{max:_64c}:{});});},setOpenDropDown:function(_64e,_64f){if(_64e.dropDown){_64e.dropDown.destroy();}var _650=lang.isString(_64e.popupClass)?lang.getObject(_64e.popupClass,false):_64e.popupClass,_651=_64e.get("value");_64e.dropDown=new _650({onChange:_64f,id:_64e.id+"_popup",dir:_64e.dir,lang:_64e.lang,value:_651,currentFocus:!_64e._isInvalidDate(_651)?_651:_64e.dropDownDefaultValue,constraints:_64e.constraints,filterString:_64e.filterString,datePackage:_64e.datePackage,isDisabledDate:function(date){return !_64e.rangeCheck(date,_64e.constraints);}});dijit._HasDropDown.prototype.openDropDown.apply(_64e,arguments);},validate:function(){if(!this._picker1.validate()){this._picker1.focus();return false;}if(!this._picker2.validate()){this._picker2.focus();return false;}if(!this._picker1.getValue()&&!this._picker2.getValue()){_636.showTooltip(this._picker1.domNode,this._searchResultFacetDateRangeErrorRangeMessageEmpty,_62c.TOOLTIP_TIMEOUT,true,"right");this._picker1.focus();return false;}return true;}});return _621("kc.widget.search.SearchResultFacets",[_624],{templateString:_627,tag:undefined,_typeStore:undefined,_taskStore:undefined,_osStore:undefined,_hoverCard:undefined,_hoverCardContent:undefined,_typeFacetPane:undefined,_taskFacetPane:undefined,_osFacetPane:undefined,startup:function(){this.inherited(arguments);this._renderDateFacet(null,"fromDate");this._initFacetPopup();},_initializeStrings:function(){this._moreFacetsLabel=this.getString("SEARCH_RESULT_FACET_MORE");this._searchResultFacetDateLabel=this.getString("SEARCH_RESULT_FACET_DATE");this._searchResultFacetOSLabel=this.getString("SEARCH_RESULT_FACET_OS");this._searchResultFacetContentTypeLabel=this.getString("SEARCH_RESULT_FACET_CONTENT_TYPES");this._searchResultFacetTaskLabel=this.getString("SEARCH_RESULT_FACET_TASKS");this._searchResultFacetDateWeek=this.getString("SEARCH_RESULT_FACET_DATE_WEEK");this._searchResultFacetDateMonth=this.getString("SEARCH_RESULT_FACET_DATE_MONTH");this._searchResultFacetDateYear=this.getString("SEARCH_RESULT_FACET_DATE_YEAR");this._searchResultFacetDateCustome=this.getString("SEARCH_RESULT_FACET_DATE_CUSTOM");this._searchResultFacetDateAny=this.getString("SEARCH_RESULT_FACET_DATE_ANY");this._searchResultFacetTypeAny=this.getString("SEARCH_RESULT_FACET_CONTENT_TYPES_ANY");this._searchResultFacetTaskAny=this.getString("SEARCH_RESULT_FACET_TASKS_ANY");this._searchResultFacetOSAny=this.getString("SEARCH_RESULT_FACET_OS_ANY");this._closeBtnLabel=this.getString("ACTION_CLOSE");},_initFacetPopup:function(){this._hoverCard=new idx.oneui.HoverCard({draggable:false,content:this._hoverCardContent});this._hoverCard.startup();this._hoverCard.closeButtonNode.title=this._closeBtnLabel;_633(lang.hitch(this,function(){if(_631.contains(_622.body(),"dijit_a11y")){this._hoverCard.closeButtonNode.innerHTML="X";}}));_62f.forEach(_623(".idxOneuiHoverCardGrip",this._hoverCard.domNode),_630.destroy);_62f.forEach(_623(".idxOneuiHoverCardFooterExpand",this._hoverCard.domNode),_630.destroy);_62f.forEach(_623(".idxOneuiHoverCardFooter",this._hoverCard.domNode),_630.destroy);},_initializeConnections:function(){this.addConnection(this._moreTaskFacets,"onclick",this,lang.hitch(this,"_showFacetPopup",_62c.TAG_TASK));this.addConnection(this._moreOSFacets,"onclick",this,lang.hitch(this,"_showFacetPopup",_62c.TAG_OS));},_initializeSubscriptions:function(){this.addSubscription(_62b.KC_SEARCH,this,"_setSearchFacets",_62c.MESSAGING_PRIORITY_LATEST);this.addSubscription(_62b.KC_ACTION,this,"_onAction");this.addSubscription(_62b.KC_CONTENT,this,"_contentChanged");},_onAction:function(_652,_653,_654,_655){if(_62c.CONTENT_SEARCH===_652&&_62c.ACTION_SEARCH_FACET_POPUP===_653){var type=_62e.getObject("type",_654);this._showFacetPopup(type);}},_contentChanged:function(){if(this._hoverCard){this._hoverCard.close();}},_showFacetPopup:function(type){if(!this._typeStore||!this._taskStore||!this._osStore){_632.when(_62d.getSearchResultFacets(),lang.hitch(this,function(data){this._typeStore=new dojo.data.ItemFileReadStore({data:data.type});this._taskStore=new dojo.data.ItemFileReadStore({data:data.task});this._osStore=new dojo.data.ItemFileReadStore({data:data.os});this._showFacetPopupInfo(type);}));}else{this._showFacetPopupInfo(type);}},_initFacetPane:function(_656,_657,_658){var _659=new kc.widget.search.FacetPane({store:_656,title:_657,facetType:_658});_659.startup();return _659;},_showFacetPopupInfo:function(_65a){_62f.forEach(this._hoverCard.containerNode.childNodes,function(_65b){this._hoverCard.containerNode.removeChild(_65b);},this);this._hoverCard.close();var _65c=undefined;switch(_65a){case _62c.TAG_TASK:if(_62e.isUndefined(this._taskFacetPane)){this._taskFacetPane=this._initFacetPane(this._taskStore,this._searchResultFacetTaskLabel,_65a);}else{this._taskFacetPane.setSelectedFacetItems();}this._hoverCardContent=this._taskFacetPane;_65c=this._moreTaskFacets.domNode;break;case _62c.TAG_OS:if(_62e.isUndefined(this._osFacetPane)){this._osFacetPane=this._initFacetPane(this._osStore,this._searchResultFacetOSLabel,_65a);}else{this._osFacetPane.setSelectedFacetItems();}this._hoverCardContent=this._osFacetPane;_65c=this._moreOSFacets.domNode;break;}this._hoverCard._setContentAttr(this._hoverCardContent);this._hoverCard.open(_65c);},_setSearchFacets:function(_65d,_65e){var tag=_62e.getObject(_62c.SEARCH_TAG,_65e);this.tag=tag?lang.clone(tag):new kc.model.Tag();if(!this._typeStore||!this._taskStore||!this._osStore){_632.when(_62d.getSearchResultFacets(),lang.hitch(this,function(data){this._typeStore=new dojo.data.ItemFileReadStore({data:data.type});this._taskStore=new dojo.data.ItemFileReadStore({data:data.task});this._osStore=new dojo.data.ItemFileReadStore({data:data.os});this._setFacets(tag);}));}else{this._setFacets(tag);}},_setFacets:function(tag){this._setDateFacet();this._setFacet(this._taskFacetList,_62e.getObject(_62c.TAG_TASK,tag),this._taskStore,_62c.TAG_TASK,"anyTask",this._searchResultFacetTaskAny);this._setFacet(this._osFacetList,_62e.getObject(_62c.TAG_OS,tag),this._osStore,_62c.TAG_OS,"anyOS",this._searchResultFacetOSAny);},_setFacet:function(_65f,_660,_661,_662,_663,_664){_65f.innerHTML="";var d1=document.createElement("div");_630.place(d1,_65f);var _665=false;if(_62e.isEmpty(_660)){_665=true;}var f=_63c({tid:_663,tname:_664,facet:_662,selected:_665});_630.place(f.domNode,d1);if(!_62e.isEmpty(_660)){this.addConnection(f,"onClick",this,lang.hitch(this,"_clearFacet",_662));this.addConnection(f,"onkeypress",this,function(e){if(e.keyCode==keys.ENTER||e.charCode==keys.ENTER){this._clearFacet(_662);}});_630.place(new _639().domNode,d1);_63b.findLabel(_660,_661,lang.hitch(this,function(_666){for(var i=0;i<_660.length;i++){var f=new _63c({tid:_660[i],tname:_666[_660[i]],facet:_662,selected:true});_630.place(f.domNode,d1);}}));}},_clearFacet:function(_667){var term=_63a.getSearchTerm();var _668=_63a.getSearchScope();var tag=_63a.getSearchTag();tag[_667]=[];var _669=new kc.model.Search({term:term,scope:_668,tag:tag});var args=[_62c.CONTENT_SEARCH,_62c.ACTION_SEARCH_FACET_CLEAR,{},_669];_62a.publish(_62b.KC_ACTION,args);_62a.publish(_62b.KC_SEARCH,[_62c.SOURCE_NAVIGATION_SEARCH_FACETS,_669]);},_setDateFacet:function(){if((this.tag.fromDate&&!isNaN(this.tag.fromDate))||this.tag.toDate){this.sfc.tag=lang.clone(this.tag);this.sfc.select(true);}else{if(this.tag.fromDate){this[this.tag.fromDate].tag=lang.clone(this.tag);this[this.tag.fromDate].select(true);}else{this.anytime.select(true);}}},_renderDateFacet:function(_66a,_66b){if(_66b=="fromDate"){var d1=document.createElement("div");_630.place(d1,this._dateFacetList);this.pastWeek=new _63d({tid:"pastWeek",id:"fpastWeek",tname:this._searchResultFacetDateWeek,facet:"fromDate",selected:false});_630.place(this.pastWeek.domNode,d1);_630.place(new _639().domNode,d1);this.pastMonth=new _63d({tid:"pastMonth",id:"fpastMonth",tname:this._searchResultFacetDateMonth,facet:"fromDate",selected:false});_630.place(this.pastMonth.domNode,d1);_630.place(new _639().domNode,d1);this.pastYear=new _63d({tid:"pastYear",id:"fpastYear",tname:this._searchResultFacetDateYear,facet:"fromDate",selected:false});_630.place(this.pastYear.domNode,d1);var d2=document.createElement("div");_630.place(d2,this._dateFacetList);this.sfc=new _642({id:"fsfc"});_630.place(this.sfc.customeLink.domNode,d2);_630.place(new _639().domNode,d2);this.anytime=new _63d({tid:"anytime",tname:this._searchResultFacetDateAny,facet:_66b,selected:false,id:"fanytime"});_630.place(this.anytime.domNode,d2);this.sfc.startup();}}});});},"kc/widget/search/SearchUtils":function(){define("kc/widget/search/SearchUtils",["dijit/registry","dojo/dom","dijit/Tooltip","dojo/on","dojo/mouse","kc/Constants","kc/Utils","kc/widget/common/_KCi18nMixin","kc/state/KCState","kc/Messaging","kc/Topics","kc/model/Search","kc/model/Tag"],function(_66c,dom,_66d,on,_66e,_66f,_670,_671,_672,_673,_674){var _675=new _671();kc.kcSearchUtils={isEmptyTerm:function(term){return _670.isEmpty(term);},showEmptyTermMessage:function(){var _676=_675.getString("SEARCH_INPUT_HINT");var node=dom.byId("searchInputBox");var _677=(dir=="ltr");if(node){_66d.show(_676,node,["below","before"],!_677);on.once(node,_66e.leave,function(){_66d.hide(node);});on.once(node,"keypress, click",function(){_66d.hide(node);});}},getSearchTerm:function(){var _678=_66c.byId("searchInput");var term=undefined;if(_678){term=encodeURIComponent(_678.getSearchKeyword());}if(!term){term=_670.getObject(_66f.SEARCH_TERM,_672.getLatestContentModel(_66f.CONTENT_SEARCH),"");}return term;},getSearchTag:function(){var tag=_670.getObject(_66f.SEARCH_TAG,_672.getLatestContentModel(_66f.CONTENT_SEARCH),null);if(null==tag||""==tag){tag=new kc.model.Tag();}return tag;},getSearchScope:function(){return _670.getObject(_66f.SEARCH_SCOPE,_672.getLatestContentModel(_66f.CONTENT_SEARCH),[]);},getSearchModel:function(term,_679,tag){var _67a=null;if(_672.getSearchOption().productTag==false){tag.product=[];_67a=new kc.model.Search({term:term,scope:_679,tag:tag});}else{if(_672.getSearchOption().productTagWithScope==false){_67a=new kc.model.Search({term:term,scope:[],tag:tag});}else{_67a=new kc.model.Search({term:term,scope:_679,tag:tag});}}return _67a;},compareSearchModel:function(_67b,_67c){var _67d=!_670.isEmpty(_67b);var _67e=!_670.isEmpty(_67c);if(_67d!=_67e){return false;}if(!_67d&&!_67e){return true;}if(_67b.term!=_67c.term){return false;}else{if(!_670.compareObjects(_67b.scope,_67c.scope)){return false;}else{var _67f=!_670.isEmpty(_67b.tag);var _680=!_670.isEmpty(_67c.tag);if(_67f!=_680){return false;}if(!_67f&&!_680){return true;}if(_67f&&_680){var t1=_67b.tag;var t2=_67c.tag;if(!_670.compareObjects(t1.product,t2.product)){return false;}if(!_670.compareObjects(t1.task,t2.task)){return false;}if(!_670.compareObjects(t1.os,t2.os)){return false;}if(!_670.compareObjects(t1.type,t2.type)){return false;}if(t1.fromDate!=t2.fromDate){return false;}if(t1.toDate!=t2.toDate){return false;}}}}return true;}};return kc.kcSearchUtils;});},"url:kc/widget/collection/templates/CollectionActionBar.html":"{% extends actionBarTemplate %}\n\n{% block actionPlaceholderBeginning %}\n\t{% if owner %}\n \t\t<div class=\"toolBarAction downloadPDFLink\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_downloadPDF\" label=\"{{downloadPdfLabel}}\" title=\"{{downloadPdfLabel}}\"></div>\n \t\t<div class=\"toolBarAction\" data-dojo-type=\"kc.widget.collection.PDFProgress\" data-dojo-attach-point=\"_pdfProgress\"></div>\n \t\t<div class=\"toolBarAction\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_exportPDF\" label=\"{{pdfLabel}}\" title=\"{{pdfLabel}}\"></div>\n \t\t<!-- \n \t\t<div class=\"toolBarAction\" data-dojo-type=\"kc.widget.collection.PDFProgress\" data-dojo-attach-point=\"_pdfProgress\"></div>\n \t\t -->\n\t{% endif %}\n{% endblock %}\n{% block actionPlaceholderEnd %}\n\t{% if owner %}\n\t\t<div class=\"toolBarAction hidden\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_delete\" label=\"{{deleteLabel}}\" title=\"{{deleteLabel}}\"></div>\n\t\t<div class=\"toolBarAction hidden\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_save\" label=\"{{saveLabel}}\" title=\"{{saveLabel}}\"></div>\t\n\t\t<!-- \n\t\t<div class=\"toolBarAction hidden\" data-dojo-type=\"idx.form.DropDownLink\" label=\"Copy\">\n\t\t \t<div data-dojo-type=\"dijit.Menu\" data-dojo-attach-point=\"_copyMenu\">\t\t\t\t\t\t\n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_copyToExistingCollection\" label=\"Copy all topics to an existing collection\"></div>\n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_copyToNewCollection\" label=\"Copy all topics to a new collection\"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t -->\n\t\t<div class=\"toolBarAction hidden\" role=\"button\"data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_discard\" label=\"{{discardLabel}}\" title=\"{{discardLabel}}\"></div>\n\t\t<div class=\"toolBarAction hidden\" role=\"button\"data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_edit\" label=\"{{editLabel}}\" title=\"{{editLabel}}\"></div>\n\t{% else %}\n\t\t<div></div> \n\t{% endif %}\t\n{% endblock %}","idx/form/_DateTimeFormatterMixin":function(){(function(){var _681=function(_682,_683,_684){return _682("idx.form._DateTimeFormatterMixin",[],{showFormatPattern:false,formatType:"dateFormat",postMixInProperties:function(){this.inherited(arguments);if(!_684){_684=_683.getLocalization("idx.form","_DateTimeFormatterMixin");}this.res=_684;if(this.showFormatPattern){this.placeHolder=this.getFormatPattern();}},getFormatPattern:function(){return this.res[this.formatType];}});};var _685=(window["dojo"]&&dojo.version);if(_685&&_685.major==1&&_685.minor==6){dojo.provide("idx.form._DateTimeFormatterMixin");dojo.require("dojo.i18n");dojo.requireLocalization("idx.form","_DateTimeFormatterMixin");_681(dojo.declare,dojo.i18n);}else{define("idx/form/_DateTimeFormatterMixin",["dojo/_base/declare","dojo/i18n","dojo/i18n!./nls/_DateTimeFormatterMixin"],_681);}})();},"url:kc/widget/search/templates/FilterRowItem.html":"<div class=\"displayInlineBlock filterProductItem\">\n\t<div class=\"displayInlineBlock\" data-dojo-attach-point=\"_title\"></div>\n\t<div class=\"productCollection displayInlineBlock\" data-dojo-attach-point=\"_productCollection\" tabindex=\"0\" role=\"button\"></div>\n\t<div class=\"filterRowItemClose\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_remove\" label=\"&nbsp;\"></div>\n</div>\t\n","url:kc/widget/search/templates/SearchResultFacetsCustomRange.html":"<div class=\"searchResultFacetItem\">\n<table role=\"presentation\">\n<tr><td><label for=\"datePicker1\">${_searchResultFacetDateCustomefrom}</label></td><td><div id=\"datePicker1\" class=\"\" data-dojo-type=\"idx.form.DatePicker\" data-dojo-attach-point=\"_picker1\"></div></td><td>&nbsp;</td></tr>\n<tr><td><label for=\"datePicker2\">${_searchResultFacetDateCustometo}</label></td><td><div id=\"datePicker2\" class=\"\" data-dojo-type=\"idx.form.DatePicker\" data-dojo-attach-point=\"_picker2\"></div></td><td><button dojoType=\"dijit.form.Button\" dojoAttachPoint=\"okBtn\">${_searchResultFacetDateCustomeokbtn}</button></td></tr>\n</table>\n</div>\n","kc/widget/welcome/Welcome":function(){require({cache:{"url:kc/widget/welcome/templates/Welcome.html":"<div dojoAttachPoint=\"containerNode\">\n</div>"}});define("kc/widget/welcome/Welcome",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/dom","dojo/query","dojo/dom-class","dojo/dom-attr","dojo/on","kc/widget/common/KCWidget","dojo/text!kc/widget/welcome/templates/Welcome.html","kc/Messaging","kc/Constants","kc/Topics","kc/Utils","idx/util","kc/state/KCState","dojo/_base/xhr","dojo/dom-construct","dojo/dom-style","dojo/dom-geometry","dojox/dtl/filter/strings","dojox/mobile/sniff","idx/widget/DeferredIFrame"],function(_686,lang,_687,win,dom,_688,_689,_68a,on,_68b,_68c,_68d,_68e,_68f,_690,_691,_692,xhr,_693,_694,_695,_696,has){return _686("kc.widget.welcome.Welcome",[_68b],{templateString:_68c,iframe:null,_language:_68e.KC_LANGUAGE,_initializeStrings:function(){this.frameTitle=this.getString("WEL_WELTITLE");},_initializeConnections:function(){this.addConnection(window,"resize",this,"_setIFrameHeight");},_initializeSubscriptions:function(){this.addSubscription(_68f.TOGGLE_SPLITTER_MOVE,this,"_setIFrameHeight");},postCreate:function(){this.inherited(arguments);this.iframe=new idx.widget.DeferredIFrame();this.iframe.startup();this.iframe.domNode.width="100%";this.iframe.domNode.id="welcomeContent";this.iframe.domNode.name="welcomeContent";this.iframe.domNode.frameBorder="0";this.iframe.domNode.title=this.frameTitle;_689.add(this.iframe.domNode,"welcomeIFrame");var _697=lang.hitch(this,"_iframeLoaded");if(this.iframe.domNode.addEventListener){this.iframe.domNode.addEventListener("load",_697,false);}else{this.iframe.domNode.onreadystatechange=lang.hitch(this,function(){if(this.iframe.domNode.readyState&&this.iframe.domNode.readyState==="complete"){_697();}});}this.containerNode.appendChild(this.iframe.domNode);if(has("touch")&&has("chrome")&&has("android")){_694.set(this.containerNode,"position","relative");_693.create("div",{"class":"touchAreaForAndroidChrome",onclick:lang.hitch(this,function(e){if(this.iframe.domNode.contentDocument&&_690.isFunction(this.iframe.domNode.contentDocument.elementFromPoint)){var _698=0,_699=0,_69a=this.iframe.domNode;while(_69a){_698+=_69a.offsetLeft;_699+=_69a.offsetTop;_69a=_69a.offsetParent;}var _69b=this.iframe.domNode.contentDocument.elementFromPoint(e.clientX-_698,e.clientY-_699+_691.getParentWidget(this.containerNode).domNode.scrollTop);if(_69b){on.emit(_69b,"click",{cancelable:true,bubbles:true});}}})},this.iframe.domNode,"after");}},startup:function(){this.inherited(arguments);_68a.set(this.iframe,"href",this._getHref());},_getHref:function(){var _69c="/welcome/welcome.html";if(this._language!=="en"){_69c="/welcome/"+this._language+"/welcome.html";}return _68e.KC_ROOT+_69c;},_iframeLoaded:function(){this._setIFrameHeight();this._welcomeLinksInit();this._addIDAScript();if(_68e.showBuildInfoOnWelcome){this._attachBuildInformation();}},_setIFrameHeight:function(){if(this.iframe&&this.iframe.domNode&&(typeof this.iframe.domNode.contentDocument!="unknown")&&_68e.CONTENT_WELCOME===_692.active){var ifb=this.iframe.domNode.contentDocument.body;if(!ifb){return;}var cs=_694.getComputedStyle(ifb);if(!cs){return;}_694.set(ifb,"overflow","hidden");var _69d=_695.getMarginBox(this.iframe.domNode).h;var _69e=_690.getStaticSize(ifb).h;if(_69e==_69d){return;}_694.set(this.iframe.domNode,"height",_69e+"px");if(has("touch")&&has("chrome")&&has("android")){_694.set(_688(".touchAreaForAndroidChrome",this.iframe.domNode.parentNode)[0],"height",_69e+"px");}}},_welcomeLinksInit:function(){if(this.iframe===undefined){return;}var d=this.iframe.domNode.contentWindow.document;win.withDoc(d,function(){_688("a",d).forEach(lang.hitch(this,function(_69f){var href=_690.constructRelativeHref(_69f.href);if(!_690.isEmpty(href)){_69f.href=href;}}));var cmt=dom.byId("contactMailto");if(cmt){this.addConnection(cmt,"onclick",this,"_mailtoClick");}var amt=dom.byId("accessibilityMailto");if(amt){this.addConnection(amt,"onclick",this,"_mailtoClick");}},this);},_addIDAScript:function(){var d=this.iframe.domNode.contentWindow.document;_690.createMetaTag(d,_68e.IDA_WTMSite_name,_68e.IDA_WTMSite_scheme,_68e.IDA_WTMSite_content);_690.createMetaTag(d,_68e.IDA_WTMCategory_name,_68e.IDA_WTMCategory_scheme,_68e.IDA_WTMCategory_content);_690.createJavascriptTag(d,_68e.IDA_URL);},_mailtoClick:function(){_68d.publish(_68f.EXTERNAL_LINK,["mailto:ibmkc@us.ibm.com"]);},_attachBuildInformation:function(){var _6a0={};_6a0.url=_68e.KC_ROOT+"/buildinfo/version.json";_6a0.preventCache=false;_6a0.timeout=_68e.XHR_TIMEOUT;_6a0.handleAs="json";xhr("GET",_6a0).then(lang.hitch(this,function(_6a1){var bi=_688(".buildInfo",this.iframe.domNode.contentWindow.document.body);if(bi.length>0){return;}var _6a2="<b>Build info:</b>";for(var k in _6a1){var v=_6a1[k];if(k&&v!==undefined){k=_696.title(k.replace(/[_]/g," "));var v2=_696.lower(v);if(v2.indexOf("://")>-1){v="<a href=\""+v+"\" target=\"_blank\">link</a>";}_6a2+="\n\t"+k+": "+v;}}var _6a3=_693.create("span",{innerHTML:_6a2,style:{display:"inline-block",whiteSpace:"pre-wrap",wordWrap:"break-word"}},this.iframe.domNode.contentWindow.document.body);_689.add(_6a3,"buildInfo");this._setIFrameHeight();}));}});});},"kc/model/CommentFragment":function(){define("kc/model/CommentFragment",["dojo/_base/declare","kc/model/KCModel"],function(_6a4,_6a5){return _6a4("kc.model.CommentFragment",[_6a5],{resource:undefined,id:undefined,title:undefined,body:undefined,timestamp:undefined,user:undefined,parentId:undefined,currentUser:false,});});},"kc/frame/Search":function(){require({cache:{"url:kc/frame/templates/Search.html":"<div>\n\t<div class=\"searchFrameContent\">\n\t\t<div data-dojo-type=\"kc.widget.search.SearchBox\"></div>\n\t\t<div data-dojo-type=\"kc.widget.search.FilterRow\"></div>\n\t</div>\n</div>"}});define("kc/frame/Search",["dojo/_base/declare","kc/widget/common/KCWidget","dojo/text!kc/frame/templates/Search.html","kc/Messaging","kc/Topics","kc/widget/search/SearchBox","kc/widget/search/FilterRow"],function(_6a6,_6a7,_6a8,_6a9,_6aa){return _6a6("kc.frame.Search",[_6a7],{templateString:_6a8,postCreate:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);},_initializeConnections:function(){}});});},"kc/widget/common/_DataHolderMixin":function(){define("kc/widget/common/_DataHolderMixin",["dojo/_base/declare"],function(_6ab){return _6ab("kc.widget.common._DataHolderMixin",[],{_data:null,setData:function(data){var _6ac=this._data;this._data=data;this.onDataChange(data,_6ac);},getData:function(){return this._data;},onDataChange:function(_6ad,_6ae){}});});},"dojox/mobile/sniff":function(){define("dojox/mobile/sniff",["dojo/_base/window","dojo/_base/sniff"],function(win,has){var ua=navigator.userAgent;has.add("bb",ua.indexOf("BlackBerry")>=0&&parseFloat(ua.split("Version/")[1])||undefined,undefined,true);has.add("android",parseFloat(ua.split("Android ")[1])||undefined,undefined,true);if(ua.match(/(iPhone|iPod|iPad)/)){var p=RegExp.$1.replace(/P/,"p");var v=ua.match(/OS ([\d_]+)/)?RegExp.$1:"1";var os=parseFloat(v.replace(/_/,".").replace(/_/g,""));has.add(p,os,undefined,true);has.add("iphone",os,undefined,true);}if(has("webkit")){has.add("touch",(typeof win.doc.documentElement.ontouchstart!="undefined"&&navigator.appVersion.indexOf("Mobile")!=-1)||!!has("android"),undefined,true);}return has;});},"kc/widget/common/KCTreeUtils":function(){define("kc/widget/common/KCTreeUtils",["dojo/_base/lang","dojo/_base/array","dojo/query","dojo/dom-construct","dojo/dom-class","dojo/window","kc/Constants","kc/Utils"],function(lang,_6af,_6b0,_6b1,_6b2,win,_6b3,_6b4){kc.kcTreeUtils={getIdentity:function(item,_6b5){return _6b5.getIdentity(item);},getLabel:function(item,_6b6){return _6b6.getLabel(item);},getChildren:function(item,_6b7){var _6b8=[];if(item){_6b8=_6b4.getObject(_6b3.TOC_ITEMS,item);}return _6b8;},getDescendants:function(item,_6b9){var _6ba=this.getChildren(item,_6b9);var _6bb=[];_6af.forEach(_6ba,function(_6bc){this._recurseAndAdd(_6bc,_6b9,_6bb);},this);return _6bb;},_recurseAndAdd:function(item,_6bd,_6be){_6be.push(item);var _6bf=this.getChildren(item,_6bd);_6af.forEach(_6bf,function(_6c0){this._recurseAndAdd(_6c0,_6bd,_6be);},this);},getParent:function(item,_6c1){_6c1._assertIsItem(item);var rrm=item[_6c1._reverseRefMap];if(rrm){for(var _6c2 in rrm){return _6c1._itemsByIdentity[_6c2];}}return undefined;},getParentChain:function(item,_6c3){_6c3._assertIsItem(item);var _6c4=[item];var _6c5;while(_6c5=this.getParent(item,_6c3)){_6c4.unshift(_6c5);item=_6c5;}return _6c4;},isRootItem:function(item,_6c6){return item[_6c6._rootItemPropName]===true;},isLeaf:function(item,_6c7,_6c8){if(_6c7&&_6c8&&_6c7.isItem(item)){return (!_6c8.mayHaveChildren(item));}else{var _6c9=false;var _6ca=false;var _6cb=_6b4.getObject(_6b3.TOC_STUB,item);if(_6c7&&_6c7.isItem(item)){_6cb=_6c7.getValue(item,_6b3.TOC_STUB);}if(_6cb===true||_6cb==="true"){_6c9=true;}var _6cc=_6b4.getObject(_6b3.TOC_ITEMS,item);if(_6c7&&_6c7.isItem(item)){_6cc=_6c7.getValue(item,_6b3.TOC_ITEMS);}_6ca=!_6b4.isEmpty(_6cc);return !_6ca&&!_6c9;}},isTree:function(_6cd,_6ce,_6cf){_6cd.fetch({onComplete:lang.hitch(this,function(_6d0,_6d1){if(_6d0.length==0){_6cf(false);}else{_6cf(_6af.some(_6d0,lang.hitch(this,function(item){return !this.isLeaf(item,_6cd,_6ce);})));}})});},compactTree:function(tree){var _6d2=tree.model;var _6d3=_6d2.store;this.isTree(_6d3,_6d2,function(_6d4){if(!_6d4){_6af.forEach(_6b0(".dijitTreeExpando",tree.domNode),_6b1.destroy);_6af.forEach(_6b0(".dijitTreeIcon",tree.domNode),_6b1.destroy);_6af.forEach(_6b0(".dijitTreeLabel",tree.domNode),function(node){_6b2.add(node,"compactTreeNode");});}});},expandToPath:function(tree,_6d5){try{var _6d6=tree.set("paths",_6d5);function _6d7(_6d8){try{var _6d9=_6af.map(_6af.filter(_6d8,function(x){return x[0];}),function(x){return x[1];});var node=_6d9[0];if(node){if(tree){tree._onNodeFocus(node);}win.scrollIntoView(node.domNode);}}catch(error){}};_6d6.addCallback(_6d7);}catch(error){}},getSelectedItem:function(tree){if(tree){return _6b4.getFirstElementOfArray(tree.selectedItems);}},getSelectedTreeNode:function(tree){var _6da=this.getSelectedItem(tree);if(_6da){return _6b4.getFirstElementOfArray(tree.getNodesByItem(_6da));}},revealSelectedTreeNode:function(tree){var _6db=this.getSelectedTreeNode(tree);this.reveal(tree,_6db);},reveal:function(tree,_6dc){setTimeout(lang.hitch(this,function(){if(tree&&_6dc&&_6dc.rowNode){win.scrollIntoView(_6dc.rowNode);}}),50);},findLabel:function(id,_6dd,_6de){if(_6b4.isFunction(_6de)&&_6dd){var _6df=(_6b4.isArray(id))?id:[id];var _6e0=lang.hitch(this,function(_6e1,_6e2){var _6e3={};_6af.forEach(_6df,lang.hitch(this,function(i){var item=_6dd._itemsByIdentity[i];var _6e4=i;if(item){_6e4=this.getLabel(item,_6dd);}_6e3[i]=_6e4;}));_6de(_6e3);});_6dd.fetch({onComplete:_6e0});}},findItemCount:function(_6e5,_6e6){if(_6b4.isFunction(_6e6)&&_6e5){var _6e7=lang.hitch(this,function(size,_6e8){_6e6(size);});_6e5.fetch({query:{},queryOptions:{deep:true},onBegin:_6e7,start:0,count:0});}}};return kc.kcTreeUtils;});},"kc/controller/NavigationController":function(){define("kc/controller/NavigationController",["dojo/_base/lang","dojo/_base/array","dojo/string","kc/controller/Handler","kc/Constants","kc/Messaging","kc/Topics","kc/URIs","kc/Utils","kc/Cache","kc/widget/topic/TopicUtils"],function(lang,_6e9,_6ea,_6eb,_6ec,_6ed,_6ee,URIs,_6ef,_6f0,_6f1){return {load:function(_6f2,_6f3,_6f4,_6f5){var id=_6f2.id;var _6f6=_6f0.get(_6ec.CACHE_TOC_ID_TO_TOC_DATA,id);if(_6f6&&_6f5){_6ed.publish(_6f5,[_6ef.clone(_6f6)]);return;}var _6f7={};var url;if(_6ec.TAXONOMY_TREE_TOC_CONTENT_ID===id){url=URIs.PRODUCT_TAXONOMY;function _6f8(data){var _6f9=function(data){if(data.items){_6e9.forEach(data.items,function(_6fa){if(_6fa.isProductLanding){delete _6fa.items;}else{_6f9(_6fa);}});}};if(!_6ef.isEmpty(data)){_6f9(data);_6ef.removeDuplicateItems(data,_6ec.TOC_ID,true);_6f1.encodeHref(data);}if(_6ef.isFunction(_6f3)){_6f3(data);}};_6f7.load=lang.hitch(this,_6f8);}else{url=_6ea.substitute(URIs.PRODUCT_TREE_TOC,[id]);function _6fb(data){if(!_6ef.isEmpty(data)){_6ef.removeDuplicateItems(data,_6ec.TOPIC_ID,true);_6f1.encodeHref(data);}if(_6ef.isFunction(_6f3)){_6f3(data);}};_6f7.load=lang.hitch(this,_6fb);}_6f7.url=url;_6f7.preventCache=false;_6f7.kcCache=true;_6f7.content={};_6f7.content.locale=_6ec.KC_LANGUAGE;if(_6f2.contextPath){_6f7.content.cp=_6f2.contextPath;}_6f7.timeout=_6ec.XHR_TIMEOUT;_6f7.handleAs="json";if(_6ef.isFunction(_6f4)){_6f7.error=_6f4;}else{_6f7.error=function(){};}if(_6f5){_6eb.doXhrGet(_6f7,_6f5);}else{_6eb.doXhrGet(_6f7);}},lazyLoad:function(_6fc,_6fd,_6fe){var id=_6fc.id;var url=_6ea.substitute(URIs.PRODUCT_TREE,[id]);if(_6ef.countCharacters(id,"/")==0){url=_6ea.substitute(URIs.PRODUCT_TREE_TOC,[id]);}var _6ff={};_6ff.url=url;_6ff.preventCache=false;_6ff.content={};_6ff.content.locale=_6ef.getObject(_6ec.MODEL_CONTENT_LANGUAGE,_6fc,_6ec.KC_LANGUAGE);if(_6fc.contextPath){_6ff.content.cp=_6fc.contextPath;}_6ff.load=lang.hitch(this,function(_700){_6f1.encodeHref(_700);if(_6ef.isFunction(_6fd)){_6fd(_700);}});_6ff.error=_6fe;_6ff.timeout=_6ec.XHR_TIMEOUT;_6ff.handleAs="json";_6eb.doXhrGet(_6ff);},loadParents:function(_701,_702,_703){var url=_6ea.substitute(URIs.PRODUCT_TREE_PARENT,[_701.href]);var _704={};_704.url=url;_704.preventCache=false;_704.content={};_704.content.locale=_6ec.KC_LANGUAGE;if(_701.contextPath){_704.content.cp=_701.contextPath;}_704.timeout=_6ec.XHR_TIMEOUT;_704.handleAs="json";_704.load=lang.hitch(this,function(_705){_6ef.removeDuplicateItems(_6ef.getObject(_6ec.TOC_ITEMS,_705),_6ec.TOPIC_ID,true);_6f1.encodeHref(_705);if(_702){_702(_705);}});_704.error=_703;_6eb.doXhrGet(_704);}};});},"kc/widget/topic/Rating":function(){require({cache:{"url:kc/widget/topic/templates/Rating.html":"<div class=\"displayInlineBlock\">\n\t<div data-dojo-attach-point=\"_topicThumbs\" class=\"topicThumbs\">\n\t\t<div data-dojo-attach-point=\"_thumbsUp\"   \tclass=\"thumb thumbsUp imageLink\"\t\tdata-dojo-type=\"idx.form.Link\" label=\"&nbsp;\"></div>\n\t\t<div data-dojo-attach-point=\"_likeBadge\"  \tclass=\"likeBadge imageLink\" \t\t\tdata-dojo-type=\"kc.widget.common.Badge\"></div>\n\t\t<div data-dojo-attach-point=\"_thumbsDown\" \tclass=\"thumb thumbsDown marginLeading5 imageLink\"\tdata-dojo-type=\"idx.form.Link\" label=\"&nbsp;\"></div>\n\t\t<div data-dojo-attach-point=\"_dislikeBadge\"\tclass=\"dislikeBadge imageLink\" \t\tdata-dojo-type=\"kc.widget.common.Badge\"></div>\n\t</div>\n\t\n\t<!-- \n\t<div data-dojo-attach-point=\"_userRating\" class=\"userRating\">\n\t\t<span data-dojo-attach-point=\"_userRatingMessage\"   class=\"floatLeading userRatingMessage\"></span>\n\t\t<div data-dojo-attach-point=\"_removeRating\" \t\tclass=\"floatLeading removeRating marginLeading5\" data-dojo-type=\"idx.form.Link\" label=\"${msgRatingRemove}\"></div>\n\t\t<div class=\"clearBoth\"></div>\n\t</div>\n\t -->\n\t\n</div>"}});define("kc/widget/topic/Rating",["dojo/_base/declare","dojo/_base/lang","dojo/json","dojo/string","dojo/dom-class","kc/widget/common/KCWidget","dojo/text!kc/widget/topic/templates/Rating.html","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","kc/state/KCState","kc/DialogManager","kc/controller/TopicController","dojo/on","idx/form/Link","kc/widget/common/Badge","kc/model/Topic","kc/model/RatingFragment"],function(_706,lang,json,_707,_708,_709,_70a,_70b,_70c,_70d,_70e,_70f,_710,_711,on){return _706("kc.widget.topic.Rating",[_709],{templateString:_70a,model:undefined,mode:undefined,hideZeroRating:undefined,hideZeroBadge:undefined,postCreate:function(){this.inherited(arguments);},_initializeStrings:function(){this.msgRatingLike=this.getString("RATING_LIKE");this.msgRatingDislike=this.getString("RATING_DISLIKE");this.msgRatingUserLike=this.getString("RATING_USER_LIKE");this.msgRatingUserDislike=this.getString("RATING_USER_DISLIKE");this.msgRatingRemove=this.getString("RATING_REMOVE");},_initializeConnections:function(){if(this.mode==="editable"){if(_70f.user){}this.addConnection(this._thumbsUp,"onClick",this,lang.hitch(this,this._onRate,_70d.RATING_LIKE,_70d.ACTION_RATING_LIKE));this.addConnection(this._thumbsDown,"onClick",this,lang.hitch(this,this._onRate,_70d.RATING_DISLIKE,_70d.ACTION_RATING_DISLIKE));}},_initializeSubscriptions:function(){this.addSubscription(_70c.KC_POST_SIGN_IN_ACTION,this,"_onPostSignInAction");this.addSubscription(_70c.KC_DATA_FEEDBACK,this,"_showRatings");},_onPostSignInAction:function(_712){if(_70d.ACTION_RATING_LIKE===_712){this._onRate(_70d.RATING_LIKE,_70d.ACTION_RATING_LIKE);}else{if(_70d.ACTION_RATING_DISLIKE===_712){this._onRate(_70d.RATING_DISLIKE,_70d.ACTION_RATING_DISLIKE);}}},setup:function(_713){this.model=_713;this.__disable(this._thumbsUp);this.__disable(this._thumbsDown);this.__setLabel(this._likeBadge,"");this.__setLabel(this._dislikeBadge,"");this.__setTooltip(this._thumbsUp,"");this.__setTooltip(this._thumbsDown,"");this.__setTooltip(this._likeBadge,"");this.__setAriaLabel(this._likeBadge,"");this.__setTooltip(this._dislikeBadge,"");this.__setAriaLabel(this._dislikeBadge,"");if(_70e.instanceOf(_713,kc.model.Topic)){this.__setLabel(this._likeBadge,"~");this.__setLabel(this._dislikeBadge,"~");}else{if(_70e.instanceOf(_713,kc.model.RatingFragment)){this._renderData(this.model,this.model);}else{this.__setLabel(this._likeBadge,"~");this.__setLabel(this._dislikeBadge,"~");}}this._showRatings(_70f.getLastFeedbackData());},_showRatings:function(data){if(_70d.STATUS_ERROR===_70e.getObject(_70d.STATUS,data)){return;}var _714=_70e.getObject("resource",data);if(_70e.instanceOf(this.model,kc.model.Topic)&&this.model.href===_714){var _715=data.ratings;if(_70e.isEmpty(_715)){_715=data.ratingFragment;}if(!_70e.isEmpty(_715)){this._renderData(this.model,_715);}}},_renderDataFail:function(_716,_717,_718){if(this.model!=_716){return;}},_renderData:function(_719,data){if(this.model!==_719){return;}var _71a=_70e.getObject("likes",data,0);var _71b=_70e.getObject("dislikes",data,0);this.__setLabel(this._likeBadge,_71a);this.__setTooltip(this._likeBadge,_707.substitute(this.getString("RATING_LIKES"),[_71a]));this.__setAriaLabel(this._likeBadge,_707.substitute(this.getString("RATING_LIKES"),[_71a]));this.__setLabel(this._dislikeBadge,_71b);this.__setTooltip(this._dislikeBadge,_707.substitute(this.getString("RATING_DISLIKES"),[_71b]));this.__setAriaLabel(this._dislikeBadge,_707.substitute(this.getString("RATING_DISLIKES"),[_71b]));if(this.hideZeroBadge===true){if(_71a==0){this.__hide(this._likeBadge);}else{this.__show(this._likeBadge);}if(_71b==0){this.__hide(this._dislikeBadge);}else{this.__show(this._dislikeBadge);}}else{this.__show(this._likeBadge);this.__show(this._dislikeBadge);}if(this.hideZeroRating===true){if(_71a==0){this._likeBadge.destroyRecursive();this._thumbsUp.destroyRecursive();}if(_71b==0){this._dislikeBadge.destroyRecursive();this._thumbsDown.destroyRecursive();}}var _71c=_70e.getObject("userResponse",data);if(_71c===_70d.RATING_LIKE){this.__disable(this._thumbsUp);this.__disable(this._thumbsDown);this.__setTooltip(this._thumbsUp,this.msgRatingUserLike);this.__setTooltip(this._thumbsDown,this.msgRatingUserLike);}else{if(_71c===_70d.RATING_DISLIKE){this.__disable(this._thumbsUp);this.__disable(this._thumbsDown);this.__setTooltip(this._thumbsUp,this.msgRatingUserDislike);this.__setTooltip(this._thumbsDown,this.msgRatingUserDislike);}else{if(this.mode==="editable"){this.__enable(this._thumbsUp);this.__enable(this._thumbsDown);this.__setTooltip(this._thumbsUp,this.msgRatingLike);this.__setTooltip(this._thumbsDown,this.msgRatingDislike);}}}if(_70f.user){switch(window.name){case _70d.ACTION_RATING_LIKE:on.emit(this._thumbsUp.domNode,"click",{cancelable:true,bubbles:true});window.name="";break;case _70d.ACTION_RATING_DISLIKE:on.emit(this._thumbsDown.domNode,"click",{cancelable:true,bubbles:true});window.name="";}}},__disable:function(_71d){if(_71d){_71d.set("disabled",true);}},__enable:function(_71e){if(_71e){_71e.set("disabled",false);}},__setTooltip:function(_71f,_720){if(_71f){_71f.set("title",_720);}},__setLabel:function(_721,_722){if(_721){_721.set("label",_722);}},__setAriaLabel:function(_723,_724){if(_723){_723.set("aria-label",_724);}},__hide:function(_725){if(_725){_708.add(_725.domNode,"hidden");}},__show:function(_726){if(_726){_708.remove(_726.domNode,"hidden");}},_onRate:function(_727,_728){if(!_70f.user){_70b.publish(_70c.KC_SIGN_IN,[_728]);return;}this.__disable(this._thumbsUp);this.__disable(this._thumbsDown);_711.setRating(this.model,_727,lang.hitch(this,function(_729,_72a){_70b.publish(_70c.KC_NOTIFICATION,[_70d.CONTENT_TOPIC,_728,_729]);},this.model),lang.hitch(this,function(_72b,_72c){if(this.model===_72b){this.setup(_72b);this.__enable(this._thumbsUp);this.__enable(this._thumbsDown);var _72d=_72c.xhr.status;var _72e=_72c.xhr.responseText;try{_72e=json.parse(_72e);}catch(jpe){}if(_72d===400){var key=_70e.getObject("errorKey",_72e,"");if(key==="FEEDBACK_OL_FAILURE"||key==="FEEDBACK_DB_FAILURE"){_710.showErrorDialog(this.getString(key));}else{if(key==="FEEDBACK_ALREADY_RATED"){this.__disable(this._thumbsUp);this.__disable(this._thumbsDown);_710.showTooltip(this.domNode,this.getString(key),_70d.TOOLTIP_TIMEOUT,true,["above"]);}}}}},this.model),_728);},_onRemoveRating:function(){_710.showInfoDialog("Remove rating","You cannot remove your rating at this point. <br><br>Please try again on a later version of Knowledge Center.");}});});},"kc/UserZoomStudy":function(){define("kc/UserZoomStudy",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/url","dojo/_base/Deferred","kc/Utils","kc/Constants","kc/Topics","kc/Messaging","kc/controller/Handler","kc/state/StateUtils"],function(_72f,lang,_730,dUrl,_731,_732,_733,_734,_735,_736,_737){_72f("kc.UserZoomStudy",[],{_initialized:false,initialize:function(){if(this._initialized){return;}var _738=_733.getServerProperty("user.study.disabled","false")==="true";if(!_738){_735.subscribe(_734.KC_READY,this,function(){setTimeout(lang.hitch(this,this._ready),3456);});}this._initialized=true;},_ready:function(){var _739={"id":"29FA449FAE19E411BEDA0022196C4538","sid":"28FA449FAE19E411BEDA0022196C4538","cuid":"BE645839F6384BA18DDC3B7D1E3C0A70"};var _73a=undefined;var url=location.href;var _73b=new dUrl(url);var path=_73b.path;var s=path.substr((_733.KC_ROOT+"/").length);var _73c=_737.stringToBrowserState(s);if(_73c.contentType===_733.CONTENT_TOPIC){_73a=_732.stripAfter(_73c.urlBase,"/");}this._getProductSpecificInfo(_73a).then(lang.hitch(this,function(_73d){lang.mixin(_739,_73d);if(!_739.id||!_739.sid||!_739.cuid){console.error("Error loading UserZoom study due to invalid study ids.");}else{this._loadUZScript(_739);}}),lang.hitch(this,function(){console.error("Error loading or parsing the UserZoom study configuration file. Using the generic study.");this._loadUZScript(_739);}));},_getProductSpecificInfo:function(_73e){var _73f=new _731();_73e=_73e||undefined;var _740={};_740.url=_733.KC_ROOT+"/doc/uzstudies.json";_740.timeout=_733.XHR_TIMEOUT;_740.handleAs="json";_740.load=function(r){var _741={};var _742=r["default"];if(_732.isObject(_742)){lang.mixin(_741,_742);}if(_73e){var _743=_732.getPropertiesOfObject(r);for(var i=0;i<_743.length;i++){var _744=r[_743[i]];if(_730.indexOf(_732.getObject("products",_744),_73e)>-1){lang.mixin(_741,_744);break;}}}_73f.resolve(_741);};_740.error=function(e){_73f.reject(false);};_740.failOk=true;_736.doXhrGet(_740);return _73f;},_loadUZScript:function(_745){var _746=_746||[];_746.push(["_setID",_745.id]);_746.push(["_setSID",_745.sid]);_746.push(["_setTabRing",1]);_746.push(["_start"]);window._uzactions=_746;(function(){var uz=document.createElement("script");uz.type="text/javascript";uz.async=true;uz.charset="utf-8";uz.src="//cdn5.userzoom.com/trueintent/js/uz_til_us.js?cuid="+_745.cuid;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(uz,s);})();var _747=document.createElement("script");_747.src="//cdn3.userzoom.com/uz.js?cuid="+_745.cuid;_747.type="text/javascript";_747.charset="utf-8";_747.async=true;document.getElementsByTagName("head")[0].appendChild(_747);}});kc.UserZoomStudy.instance=null,kc.UserZoomStudy.getInstance=function(){if(kc.UserZoomStudy.instance===null){kc.UserZoomStudy.instance=new kc.UserZoomStudy();kc.UserZoomStudy.instance.initialize();}return kc.UserZoomStudy.instance;};return kc.UserZoomStudy.getInstance();});},"dijit/form/_DateTimeTextBox":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n"}});define("dijit/form/_DateTimeTextBox",["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(date,_748,_749,_74a,lang,_74b,_74c,_74d){new Date("X");var _74e=_74a("dijit.form._DateTimeTextBox",[_74b,_74c],{templateString:_74d,hasDownArrow:true,openOnClick:true,regExpGen:_748.regexp,datePackage:date,postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},compare:function(val1,val2){var _74f=this._isInvalidDate(val1);var _750=this._isInvalidDate(val2);return _74f?(_750?0:-1):(_750?1:date.compare(val1,val2,this._selector));},forceWidth:true,format:function(_751,_752){if(!_751){return "";}return this.dateLocaleModule.format(_751,_752);},"parse":function(_753,_754){return this.dateLocaleModule.parse(_753,_754)||(this._isEmpty(_753)?null:undefined);},serialize:function(val,_755){if(val.toGregorian){val=val.toGregorian();}return _749.toISOString(val,_755);},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(args){this.datePackage=args.datePackage||this.datePackage;this.dateFuncObj=typeof this.datePackage=="string"?lang.getObject(this.datePackage,false):this.datePackage;this.dateClassObj=this.dateFuncObj.Date||Date;this.dateLocaleModule=lang.getObject("locale",false,this.dateFuncObj);this.regExpGen=this.dateLocaleModule.regexp;this._invalidDate=this.constructor.prototype.value.toString();},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow){this._buttonNode.style.display="none";}if(this.openOnClick||!this.hasDownArrow){this._buttonNode=this.domNode;this.baseClass+=" dijitComboBoxOpenOnClick";}},_setConstraintsAttr:function(_756){_756.selector=this._selector;_756.fullYear=true;var _757=_749.fromISOString;if(typeof _756.min=="string"){_756.min=_757(_756.min);}if(typeof _756.max=="string"){_756.max=_757(_756.max);}this.inherited(arguments);},_isInvalidDate:function(_758){return !_758||isNaN(_758)||typeof _758!="object"||_758.toString()==this._invalidDate;},_setValueAttr:function(_759,_75a,_75b){if(_759!==undefined){if(typeof _759=="string"){_759=_749.fromISOString(_759);}if(this._isInvalidDate(_759)){_759=null;}if(_759 instanceof Date&&!(this.dateClassObj instanceof Date)){_759=new this.dateClassObj(_759);}}this.inherited(arguments);if(this.value instanceof Date){this.filterString="";}if(this.dropDown){this.dropDown.set("value",_759,false);}},_set:function(attr,_75c){if(attr=="value"&&this.value instanceof Date&&this.compare(_75c,this.value)==0){return;}this.inherited(arguments);},_setDropDownDefaultValueAttr:function(val){if(this._isInvalidDate(val)){val=new this.dateClassObj();}this.dropDownDefaultValue=val;},openDropDown:function(_75d){if(this.dropDown){this.dropDown.destroy();}var _75e=lang.isString(this.popupClass)?lang.getObject(this.popupClass,false):this.popupClass,_75f=this,_760=this.get("value");this.dropDown=new _75e({onChange:function(_761){_75f.set("value",_761,true);},id:this.id+"_popup",dir:_75f.dir,lang:_75f.lang,value:_760,currentFocus:!this._isInvalidDate(_760)?_760:this.dropDownDefaultValue,constraints:_75f.constraints,filterString:_75f.filterString,datePackage:_75f.datePackage,isDisabledDate:function(date){return !_75f.rangeCheck(date,_75f.constraints);}});this.inherited(arguments);},_getDisplayedValueAttr:function(){return this.textbox.value;},_setDisplayedValueAttr:function(_762,_763){this._setValueAttr(this.parse(_762,this.constraints),_763,_762);}});return _74e;});},"kc/widget/collection/CollectionsTree":function(){define("kc/widget/collection/CollectionsTree",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","kc/widget/common/KCTree","kc/widget/topic/_TopicContextMenuMixin","kc/widget/common/_SeparatorContextMenuMixin","kc/widget/topic/_MoveTopicContextMenuMixin","kc/Messaging","kc/Constants","kc/Topics","kc/Utils","kc/widget/common/KCTreeUtils","kc/widget/topic/TopicUtils","kc/state/KCState","dojo/dom-class","kc/model/Collection","kc/model/Topic","kc/model/CollectionTopic"],function(_764,lang,_765,_766,_767,_768,_769,_76a,_76b,_76c,_76d,_76e,_76f,_770,_771,_772){var _773=_764("kc.widget.collection.CollectionsTreeNode",[kc.widget.common.KCTreeNode],{postCreate:function(){this.inherited(arguments);if(this.item[_76c.COLLECTION_ID]&&this.tree.model.store.getValue(this.item,_76c.COLLECTION_MOBILE)){var _774="mobileCollection";if(!this.tree.model.store.getValue(this.item,_76c.COLLECTION_ITEMS)){_774+=" empty";this.isExpandable=false;this._setExpando(false);}_772.add(this.domNode,_774);}}});return _764("kc.widget.collection.CollectionsTree",[_767,_768,_769,_76a],{_createTreeNode:function(args){return new _773(args);},_itemClicked:function(item){var m=this.model;var _775=m.store;if(_76f.isRootItem(item,_775)){var _776=this.__itemToCollectionModel(item,_775);_76b.publish(_76d.KC_COLLECTION,[_76c.SOURCE_NAVIGATION_COLLECTION,_776]);}else{var path=_76f.getParentChain(item,_775);var _777=path.shift();var _776=this.__itemToCollectionModel(_777,_775);_771.latest[_76c.CONTENT_COLLECTION]=_776;_771.setCollectionContext(_776);var _778=this.__itemToTopicModel(item,_775);_76b.publish(_76d.KC_TOPIC,[_76c.SOURCE_NAVIGATION_COLLECTION,_778]);}},_getDataForMenu:function(_779){var m=this.model;var _77a=m.store;var _77b=dijit.getEnclosingWidget(_779).item;if(!_76f.isRootItem(_77b,_77a)){return this.__itemToTopicModel(_77b,_77a);}else{return undefined;}},__itemToCollectionModel:function(item,_77c){var _77d=new kc.model.Collection();_76e.copyProperties(item,_77d,_77c);delete _77d.items;return _77d;},__itemToTopicModel:function(item,_77e){var _77f=new kc.model.CollectionTopic();_76e.copyProperties(item,_77f,_77e);return _77f;}});});},"dijit/form/_RadioButtonMixin":function(){define("dijit/form/_RadioButtonMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/_base/lang","dojo/query","dojo/_base/window","../registry"],function(_780,_781,_782,_783,lang,_784,win,_785){return _781("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var ary=[];_784("input[type=radio]",this.focusNode.form||win.doc).forEach(lang.hitch(this,function(_786){if(_786.name==this.name&&_786.form==this.focusNode.form){var _787=_785.getEnclosingWidget(_786);if(_787){ary.push(_787);}}}));return ary;},_setCheckedAttr:function(_788){this.inherited(arguments);if(!this._created){return;}if(_788){_780.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_789){if(_789!=this&&_789.checked){_789.set("checked",false);}}));}},_onClick:function(e){if(this.checked||this.disabled){_783.stop(e);return false;}if(this.readOnly){_783.stop(e);_780.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_78a){_782.set(this.focusNode||this.domNode,"checked",_78a.checked);}));return false;}return this.inherited(arguments);}});});},"url:kc/widget/welcome/templates/WelcomeActionBar.html":"{% extends actionBarTemplate %}\n","dojox/encoding/digests/_base":function(){define("dojox/encoding/digests/_base",["dojo/_base/lang"],function(lang){var d=lang.getObject("dojox.encoding.digests",true);d.outputTypes={Base64:0,Hex:1,String:2,Raw:3};d.addWords=function(a,b){var l=(a&65535)+(b&65535);var m=(a>>16)+(b>>16)+(l>>16);return (m<<16)|(l&65535);};var _78b=8;var mask=(1<<_78b)-1;d.stringToWord=function(s){var wa=[];for(var i=0,l=s.length*_78b;i<l;i+=_78b){wa[i>>5]|=(s.charCodeAt(i/_78b)&mask)<<(i%32);}return wa;};d.wordToString=function(wa){var s=[];for(var i=0,l=wa.length*32;i<l;i+=_78b){s.push(String.fromCharCode((wa[i>>5]>>>(i%32))&mask));}return s.join("");};d.wordToHex=function(wa){var h="0123456789abcdef",s=[];for(var i=0,l=wa.length*4;i<l;i++){s.push(h.charAt((wa[i>>2]>>((i%4)*8+4))&15)+h.charAt((wa[i>>2]>>((i%4)*8))&15));}return s.join("");};d.wordToBase64=function(wa){var p="=",tab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=[];for(var i=0,l=wa.length*4;i<l;i+=3){var t=(((wa[i>>2]>>8*(i%4))&255)<<16)|(((wa[i+1>>2]>>8*((i+1)%4))&255)<<8)|((wa[i+2>>2]>>8*((i+2)%4))&255);for(var j=0;j<4;j++){if(i*8+j*6>wa.length*32){s.push(p);}else{s.push(tab.charAt((t>>6*(3-j))&63));}}}return s.join("");};return d;});},"kc/URIs":function(){define("kc/URIs",["dojo/_base/lang","kc/Constants"],function(lang,_78c){lang.getObject("kc",true);kc.uris={HELP:"/doc/kc_help.html",HELP_WITH_LOCALE:"/doc/${0}/kc_help.html",EXTERNAL_IBM_HOME:"http://www.ibm.com${0}",EXTERNAL_ANALYTICS:"http://www.ibm.com/big-data/us/en/big-data-and-analytics/",EXTERNAL_CLOUD:"http://www.ibm.com/cloud-computing${0}",EXTERNAL_COMMERCE:"http://www.ibm.com/commerce${0}",EXTERNAL_MOBILEFIRST:"http://www.ibm.com/mobilefirst${0}",EXTERNAL_SECURITY:"http://www-03.ibm.com/security/",EXTERNAL_WATSON:"http://www.ibm.com/smarterplanet/us/en/ibmwatson/",EXTERNAL_PRODUCTS:"http://www.ibm.com/products${0}",EXTERNAL_SOLUTIONS:"http://www.ibm.com/solutions${0}",EXTERNAL_SERVICES:"http://www.ibm.com/technologyservices${0}",EXTERNAL_INDUSTRIES:"http://www.ibm.com/industries",EXTERNAL_PARTNERS:"http://www-304.ibm.com/partnerworld/wps/servlet/ContentHandler/partnerworld-public",EXTERNAL_SUPPORT:"http://www.ibm.com/support${0}",EXTERNAL_ACCOUNT:"http://www.ibm.com/account${0}",EXTERNAL_CONTACT:"http://www.ibm.com/contact${0}",EXTERNAL_PRIVACY:"http://www.ibm.com/privacy${0}",EXTERNAL_TERMS:"http://www.ibm.com/legal${0}",EXTERNAL_ACCESSIBILITY:"http://www.ibm.com/accessibility${0}",EXTERNAL_MOBILE_SITE:_78c.KC_ROOT+"/mobile/?lang=${0}",SHARE_EMAIL:"mailto:?subject=${0}&body=${1}",SHARE_LINKEDIN:"http://linkedin.com/shareArticle?mini=true&url=${1}&title=${0}",SHARE_TWITTER:"http://twitter.com/home?status=${0}",SHARE_FACEBOOK:"",mockdata:{taxo:_78c.KC_ROOT+"/js/kc/mockdata/taxo.json",taxoWithDupeIds:_78c.KC_ROOT+"/js/kc/mockdata/dupeIdTaxonomy.json",tocWithDupeIds:_78c.KC_ROOT+"/js/kc/mockdata/dupeIdToc.json",tocWithDupeIds2:_78c.KC_ROOT+"/js/kc/mockdata/dupeIdToc2.json",versions:_78c.KC_ROOT+"/js/kc/mockdata/versions.json",versionsBPM:_78c.KC_ROOT+"/js/kc/mockdata/versionsBPM.json",productBPM:_78c.KC_ROOT+"/js/kc/mockdata/productBPM.json",productTree:_78c.KC_ROOT+"/js/kc/mockdata/mockProduct.json",productTreeLazy:_78c.KC_ROOT+"/js/kc/mockdata/mockProductLazy.json",productTreeLazy2:_78c.KC_ROOT+"/js/kc/mockdata/mockProductLazy2.json",reverseProduct:_78c.KC_ROOT+"/js/kc/mockdata/reverseProductCollector220.json",reverseProductBPM:_78c.KC_ROOT+"/js/kc/mockdata/reverseProductBPM.json",reverseProductContentManagement:_78c.KC_ROOT+"/js/kc/mockdata/reverseProductContentManagement.json",reverseProductCCInner:_78c.KC_ROOT+"/js/kc/mockdata/reverseProductCCInner.json",reverseProductCCOuter:_78c.KC_ROOT+"/js/kc/mockdata/reverseProductCCOuter.json",relatedLinks:_78c.KC_ROOT+"/js/kc/mockdata/relatedlinks.html",relatedContentBPM:_78c.KC_ROOT+"/js/kc/mockdata/relatedContentBPM.html",relatedContents:_78c.KC_ROOT+"/js/kc/mockdata/relatedContents.json",topicLanguage:_78c.KC_ROOT+"/js/kc/mockdata/topicLanguage.json",topicOtherVersions:_78c.KC_ROOT+"/js/kc/mockdata/topicOtherVersions.json",collections:_78c.KC_ROOT+"/js/kc/mockdata/collections.json",collection:_78c.KC_ROOT+"/js/kc/mockdata/collection${0}.json",typeAhead:_78c.KC_ROOT+"/js/kc/mockdata/mockTypeAhead.json",savedSearchQueries:_78c.KC_ROOT+"/js/kc/mockdata/savedSearchQueries.json",search:_78c.KC_ROOT+"/js/kc/mockdata/searchResult.json",searchResultFacet:_78c.KC_ROOT+"/js/kc/mockdata/searchResultFacet.json",productScopes:_78c.KC_ROOT+"/js/kc/mockdata/filter.json",ratings:_78c.KC_ROOT+"/js/kc/mockdata/rating.json"},PRODUCT_TAXONOMY:_78c.KC_API_ROOT+"/taxonomy",PRODUCT_TREE_TOC:_78c.KC_API_ROOT+"/toc/fragment/${0}/toc",PRODUCT_TREE:_78c.KC_API_ROOT+"/toc/fragment/${0}",PRODUCT_TREE_PARENT:_78c.KC_API_ROOT+"/toc/tocpath/${0}",TOPIC_TRANSLATIONS:_78c.KC_API_ROOT+"/othertranslations/${0}",TOPIC_VERSIONS:_78c.KC_API_ROOT+"/otherversions/${0}",TOPIC_IS_EN_NEWER:_78c.KC_API_ROOT+"/othertranslations/isentopicnewer/${0}",CONTENT:_78c.KC_API_ROOT+"/content/${0}",CONTENT_NL:_78c.KC_API_ROOT+"/content/nl/${0}/${1}",CONTENT_WITH_LANGUAGE:_78c.KC_API_ROOT+"/content/${0}?locale=${1}",COMMENT:_78c.KC_API_ROOT+"/reviews/",FEEDBACK:_78c.KC_API_ROOT+"/feedback/${0}",FEEDBACK_COMMENT:_78c.KC_API_ROOT+"/feedback/comment/${0}",FEEDBACK_RATING:_78c.KC_API_ROOT+"/feedback/rating/${0}",COLLECTIONS:_78c.KC_API_ROOT+"/collection",COLLECTION:_78c.KC_API_ROOT+"/collection/${0}",COLLECTION_EXPORT_PDF:_78c.KC_API_ROOT+"/publish/collection/${0}",JOBS_STATUS:_78c.KC_API_ROOT+"/jobs",JOB_STATUS:_78c.KC_API_ROOT+"/jobs/${0}",JOB_DOWNLOAD:_78c.KC_API_ROOT+"/jobs/${0}/download",SEARCH:_78c.KC_API_ROOT+"/search",SEARCHRESULTFACET:_78c.KC_API_ROOT+"/taxonomy/facets",SUGGEST:_78c.KC_API_ROOT+"/suggest",SAVED_SEARCH_QUERY:_78c.KC_API_ROOT+"/savedsearchqueries",SESSION:_78c.KC_API_ROOT+"/session",CHECK_AUTHENTICATED:_78c.KC_API_ROOT+"/session/authenticated",FETCH_SESSION:_78c.KC_API_ROOT+"/session/fetchsession",LOGIN:_78c.KC_API_ROOT+"/session/login",RELATED_SEARCH:_78c.KC_API_ROOT+"/relatedsearch/${0}",end:"end"};return kc.uris;});},"kc/widget/topic/Comment":function(){require({cache:{"url:kc/widget/topic/templates/Comment.html":"<div class=\"commentPane\" role=\"complementary\" aria-label=\"${_commentLabel}\">\n\t<div class=\"commentDisclaimer\" data-dojo-attach-point=\"commentDisclaimer\">${_commentDisclaimer}</div>\n\t<span data-dojo-attach-point=\"titleRow\">\t<!-- this will be moved inside the titleNode of the titlePane -->\n\t\t<span class=\"commentLabel\" data-dojo-attach-point=\"commentCountLabel\" id=\"kcCommentLabel\"></span>\n\t\t<span class=\"commentAddLink\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"addLink\">${_addCommentLabel}</span>\n\t\t<span class=\"commentLabel hidden\" data-dojo-attach-point=\"commentMaxLabel\">${_commentMaxLabel}</span>\t\t\n\t</span>\n\t<div data-dojo-type=\"idx.layout.TitlePane\" data-dojo-attach-point=\"titlePane\" \n\tdata-dojo-props=\"collapsible: false\" \n >\n\t\t<div class=\"commentMsgNode hidden\" data-dojo-attach-point=\"msgNode\"></div>\t\n\t\t<div class=\"\" data-dojo-attach-point=\"treeContainer\"></div>\n\t</div>\n</div>"}});define("kc/widget/topic/Comment",["dojo/_base/declare","dojo/_base/array","dojo/DeferredList","dojo/dom-construct","dojo/dom-attr","dijit/_base/manager","dijit/registry","dojo/on","dojo/aspect","dojo/text!kc/widget/topic/templates/Comment.html","kc/widget/common/KCWidget","kc/Messaging","kc/widget/common/_KCi18nMixin","kc/Topics","kc/Utils","kc/Constants","dojo/date/locale","dojo/_base/kernel","dojo/store/Memory","dojo/window","dijit/tree/ForestStoreModel","dijit/Tree","kc/widget/topic/CommentItem","kc/widget/topic/CommentEditor","idx/form/Link","dojo/dom-class","kc/controller/AuthenticationController","kc/controller/TopicController","dojo/_base/lang","idx/layout/TitlePane","dojo/data/ItemFileWriteStore","dojo/query","dojo/json","kc/state/KCState","kc/widget/common/KCTreeUtils","dojo/ready","idx/oneui/form/TextBox","kc/model/CommentFragment"],function(_78d,_78e,_78f,_790,_791,_792,_793,on,_794,_795,_796,_797,_798,_799,_79a,_79b,_79c,_79d,_79e,win,_79f,Tree,_7a0,_7a1,Link,_7a2,_7a3,_7a4,lang,_7a5,_7a6,_7a7,json,_7a8,_7a9,_7aa){return _78d("kc.widget.topic.Comment",[_796],{templateString:_795,maxComments:Number(_79b.getServerProperty(_79b.SERVER_PROPERTY_KEY_MAX_COMMENTS_PER_TOPIC,"100")),topicModel:undefined,deferredContent:new dojo.Deferred(),deferredComment:new dojo.Deferred(),CommentArticle:_78d([dijit._TreeNode,_798],{expand:function(){var _7ab=this.inherited(arguments);_791.set(this.containerNode,"role","presentation");return _7ab;},setSelected:function(){},_cssMouseEvent:function(){},startup:function(){this.inherited(arguments);this.ci=new _7a0({item:this.item});this.ci.store=this.store;this.ci.topicModel=this.topicModel;this.ci.startup();this.contentNode.appendChild(this.ci.domNode);_7a2.add(this.labelNode,"hidden");if(this.item&&this.item.title){var _7ac="";try{var _7ad=this.ci.store.getValue(this.item,"timestamp","");var date=new Date(Number(_7ad));_7ac=_79c.format(date,{formatLength:"medium",locale:_79d.locale});}catch(error){}var _7ae=this.ci.store.getValue(this.item,"user","");var _7af=this.ci.store.getValue(this.item,"title","");if(this.indent>0){var _7b0=this.getString("COMMENT_INFO_RESPONSE_LABEL",{author:_7ae,title:_7af,time:_7ac});_791.set(this.rowNode.parentElement,"role","article");_791.set(this.rowNode.parentElement,"aria-label",_7b0);}else{var _7b0=_7af+" "+this.getString("COMMENT_INFO_LABEL",{author:_7ae,time:_7ac});_791.set(this.rowNode.parentElement,"role","article");_791.set(this.rowNode.parentElement,"aria-label",_7b0);}}}}),_initializeConnections:function(){this.addConnection(this.addLink,"onClick",this,lang.hitch(this,"onAddComment"));},_initializeSubscriptions:function(){this.addSubscription(_799.KC_DATA_FEEDBACK,this,"_showComments");this.addSubscription(_799.KC_TOPIC_IFRAME_RESIZED,this,function(){if(this.deferredContent.fired==-1){this.deferredContent.resolve();}});new _78f([this.deferredContent,this.deferredComment]).then(lang.hitch(this,function(){setTimeout(lang.hitch(this,function(){if(_7a8.user&&window.name&&_79a.isString(window.name)){if(window.name==_79b.ACTION_ADD_COMMENT){window.name="";this.onAddComment();}else{if(window.name.indexOf(_79b.ACTION_ADD_RESPONSE+"_")==0&&this.tree._itemNodesMap[window.name.substr(window.name.indexOf("_")+1)]){this.tree._itemNodesMap[window.name.substr(window.name.indexOf("_")+1)][0].ci._initEditor("r");window.name="";}else{if(window.name.indexOf(_79b.ACTION_ADD_COMMENT)!=-1&&json.parse(window.name).actionName==_79b.ACTION_ADD_COMMENT){this.onAddComment();if(this.editor){var args=json.parse(window.name);this.editor.titleInput.set("value",_79a.isString(args.title)?args.title:"");this.editor.editor.set("value",_79a.isString(args.content)?args.content:"");}window.name="";}else{if(window.name.indexOf(_79b.ACTION_ADD_RESPONSE)!=-1&&json.parse(window.name).actionName==_79b.ACTION_ADD_RESPONSE&&this.tree._itemNodesMap[json.parse(window.name).parentId]){var args=json.parse(window.name);this.tree._itemNodesMap[args.parentId][0].ci._initEditor("r");if(this.tree._itemNodesMap[args.parentId][0].ci.editor){this.tree._itemNodesMap[args.parentId][0].ci.editor.editor.set("value",_79a.isString(args.content)?args.content:"");}window.name="";}}}}}}),_792.defaultDuration+10);}));},_initializeStrings:function(){this._addCommentLabel=this.getString("CMT_ADDCOMMENTLABEL");this._loadingMsg=this.getString("CMT_LOADINGMSG");this._nocommentMsg=this.getString("CMT_NOCOMMENTMSG");this._commentLabel=this.getString("TVR_CMTTITLE");this._commentDisclaimer=this.getString("FEEDBACK_TERMS_AND_CONDITIONS");this._commentMaxLabel=this.getString("FEEDBACK_CLOSED_FOR_COMMENTS");},resize:function(){},postCreate:function(){this.inherited(arguments);this.titlePane.titleNode.appendChild(this.titleRow);this.store=new _7a6({data:{},clearOnClose:true});this.refreshTitle(0);_791.set(this.commentCountLabel,"title",this._commentLabel);_791.set(this.titlePane.focusNode,"role","presentation");_791.set(this.commentMaxLabel,"aria-label",this._commentMaxLabel);_791.set(this.commentMaxLabel,"title",this._commentMaxLabel);_791.remove(this.titlePane.domNode,"role");_791.set(this.titlePane.containerNode,"aria-labelledby","kcCommentLabel");var _7b1=_79a.getFirstElementOfArray(_7a7("a",this.commentDisclaimer));if(_7b1){var href=_79a.constructRelativeHref(_7b1.href)||_7b1.href;this.commentDisclaimerLink=new idx.form.Link({href:href},_7b1);this.addConnection(on(this.commentDisclaimerLink.linkNode,"click",function(evt){if(_79a.isNewTabClick(evt)){return;}evt.stopPropagation();evt.preventDefault();if(!_79a.isEmpty(href)){_797.publish(_799.EXTERNAL_LINK,[href]);}else{_797.publish(_799.EXTERNAL_TERMS,[]);}}));}},onAddComment:function(){var _7b2=_79b.ACTION_ADD_COMMENT;if(!_7a8.user){_797.publish(_799.KC_SIGN_IN,[_7b2]);return;}if(_79b.MESSAGING_STOP_PROPAGATION===_7a3.checkAuthenticated(_7b2)){return;}if(!this.titlePane.open){this.titlePane._setOpenAttr(true,false);}if(_7a7(".commentTitleEditor").length){_797.publish(_799.KC_COMMENT_EDIT,[]);return;}this.editor=new _7a1({store:this.store});this.editor.startup();this.editor.topicModel=this.topicModel;this.titlePane.containerNode.appendChild(this.editor.domNode);win.scrollIntoView(this.editor.domNode);_78e.forEach(_7a7(".dijitButtonNode",this.editor.domNode),function(_7b3){_793.getEnclosingWidget(_7b3).scrollOnFocus=false;});this.editor.editor.onLoadDeferred.then(lang.hitch(this,function(){setTimeout(lang.hitch(this,function(){var ifr=_7a7("iframe",this.editor.editor.domNode)[0];if(_79a.isFunction(ifr.contentDocument.body.firstChild.focus)){ifr.contentDocument.body.firstChild.focus();}else{}}),100);}));},_showMsg:function(msg){_79a.setDomNodeShow(this.msgNode,msg);this.msgNode.innerHTML=msg?msg:"";},setup:function(_7b4){this.topicModel=_7b4;this._showMsg(this._loadingMsg);if(this.tree){this.tree.destroy(true);}this.refreshTitle("~");this._showComments(_7a8.getLastFeedbackData());},_showComments:function(data){if(_79b.STATUS_ERROR===_79a.getObject(_79b.STATUS,data)){return;}var _7b5=_79a.getObject("resource",data);if(this.topicModel&&this.topicModel.href===_7b5){if(!_79a.isEmpty(data.comments)){data=data.comments;var _7b6=data.total;this.store.data=data;this.store.close();if(this.model){this.model.destroy();}this.model=new _79f({store:this.store,childrenAttrs:["items"]});this._createTree(this.topicModel);if(_7b6>0){this._showMsg("");}else{this._showMsg(this._nocommentMsg);}_7a9.findItemCount(this.store,lang.hitch(this,this.refreshTitle));}else{if(!_79a.isEmpty(data.commentFragment)){if(this.store){var cf=new kc.model.CommentFragment(data.commentFragment);if(!_79a.isEmpty(cf.parentId)){var _7b7=lang.hitch(this,function(s,c,_7b8){if(!_79a.isEmpty(_7b8)){var _7b9={parent:_7b8[0],attribute:"items"};s.newItem(c,_7b9);s.save();_7a9.findItemCount(s,lang.hitch(this,this.refreshTitle));}},this.store,cf);this.store.fetch({query:{id:cf.parentId},queryOptions:{deep:true},onComplete:_7b7});}else{this.store.newItem(cf);this.store.save();_7a9.findItemCount(this.store,lang.hitch(this,this.refreshTitle));}this._showMsg("");}}}}},refreshTitle:function(_7ba){this.commentCountLabel.innerHTML=this.getString("ATT_COMMENTLABEL",{comment:_7ba});if(_79a.isNumber(_7ba)&&_7ba>=this.maxComments){_79a.setDomNodeShow(this.commentMaxLabel,true);_79a.setWidgetEnabled(this.addLink,false);_7a7(".commentResponseLink",this.treeContainer).forEach(function(l){_79a.setDomNodeShow(l,false);});}else{_79a.setDomNodeShow(this.commentMaxLabel,false);_79a.setWidgetEnabled(this.addLink,true);_7a7(".commentResponseLink",this.treeContainer).forEach(function(l){_79a.setDomNodeShow(l,true);});}},_createTree:function(_7bb){if(this.tree){this.tree.destroy(true);}this.tree=new Tree({dndController:undefined,autoExpand:true,model:this.model,showRoot:false,persist:true,_nodePixelIndent:10,_createTreeNode:lang.hitch(this,function(args){var tn=new this.CommentArticle(args);tn.store=this.store;tn.topicModel=this.topicModel;tn.startup();return tn;}),onLoad:lang.hitch(this,function(){if(this.deferredComment.fired==-1){this.deferredComment.resolve();}}),_onItemChange:lang.hitch(this.tree,function(item){var _7bc=this.model,_7bd=_7bc.getIdentity(item),_7be=this._itemNodesMap[_7bd];if(_7be){_78e.forEach(_7be,function(node){node.ci._setData(item);node.labelNode.innerHTML="";});}})});_790.place(this.tree.domNode,this.treeContainer,"only");this.tree.startup();_791.set(this.tree.rootNode.containerNode,"role","presentation");}});});},"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","url:kc/widget/collection/templates/PDFProgress.html":"<div class=\"pdfProgress\" data-dojo-attach-point=\"_pdfProgressContainer\">\n\t<span class=\"loading floatLeading\" data-dojo-attach-point=\"_indicator\"></span>\n\t<span data-dojo-attach-point=\"_progress\"></span>\n</div>","url:kc/widget/topic/templates/Comment.html":"<div class=\"commentPane\" role=\"complementary\" aria-label=\"${_commentLabel}\">\n\t<div class=\"commentDisclaimer\" data-dojo-attach-point=\"commentDisclaimer\">${_commentDisclaimer}</div>\n\t<span data-dojo-attach-point=\"titleRow\">\t<!-- this will be moved inside the titleNode of the titlePane -->\n\t\t<span class=\"commentLabel\" data-dojo-attach-point=\"commentCountLabel\" id=\"kcCommentLabel\"></span>\n\t\t<span class=\"commentAddLink\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"addLink\">${_addCommentLabel}</span>\n\t\t<span class=\"commentLabel hidden\" data-dojo-attach-point=\"commentMaxLabel\">${_commentMaxLabel}</span>\t\t\n\t</span>\n\t<div data-dojo-type=\"idx.layout.TitlePane\" data-dojo-attach-point=\"titlePane\" \n\tdata-dojo-props=\"collapsible: false\" \n >\n\t\t<div class=\"commentMsgNode hidden\" data-dojo-attach-point=\"msgNode\"></div>\t\n\t\t<div class=\"\" data-dojo-attach-point=\"treeContainer\"></div>\n\t</div>\n</div>","kc/widget/search/SearchActionBar":function(){require({cache:{"url:kc/widget/search/templates/SearchActionBar.html":"{% extends actionBarTemplate %}\n{% block actionPlaceholderBeginning %}\n\t\n{% endblock %}\n"}});define("kc/widget/search/SearchActionBar",["dojo/_base/declare","dojo/string","kc/widget/common/ActionBar","dojo/text!kc/widget/search/templates/SearchActionBar.html","kc/Messaging","kc/Constants","kc/Topics","kc/Utils","kc/DialogManager","kc/widget/search/SearchOptionsDialog"],function(_7bf,_7c0,_7c1,_7c2,_7c3,_7c4,_7c5,_7c6,_7c7){return _7bf("kc.widget.search.SearchActionBar",[_7c1],{templateString:_7c2,contentType:_7c4.CONTENT_SEARCH,actionBarClass:"searchActionBar",_hasLanguageAction:false,_hasShareAction:false,_searchOptionsDialog:null,postCreate:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);},setData:function(_7c8){this.inherited(arguments);},_initializeStrings:function(){this.inherited(arguments);},_initializeConnections:function(){},_initializeSubscriptions:function(){},_onSearchOptions:function(){this._searchOptionsDialog.show();},_onNotification:function(_7c9,_7ca,_7cb){if(_7ca===_7c4.ACTION_SEARCH_OPTION_APPLY){_7c7.showTooltip(this._searchOptions.domNode,this._searchOptionsApplyNotification,_7c4.TOOLTIP_TIMEOUT,true,["above"]);}}});});},"kc/controller/_CloningDeferred":function(){define("kc/controller/_CloningDeferred",["dojo/_base/kernel","dojo/_base/lang","kc/Utils"],function(dojo,lang,_7cc){var _7cd=function(){};var _7ce=Object.freeze||function(){};lang.getObject("kc",true);lang.getObject("kc.controller",true);kc.controller._CloningDeferred=function(_7cf){var _7d0,_7d1,_7d2,head,_7d3;var _7d4=(this.promise={});function _7d5(_7d6){if(_7d1){throw new Error("This deferred has already been resolved");}_7d0=_7d6;_7d1=true;_7d7();};function _7d7(){var _7d8;while(!_7d8&&_7d3){var _7d9=_7d3;_7d3=_7d3.next;if((_7d8=(_7d9.progress==_7cd))){_7d1=false;}var func=(_7d2?_7d9.error:_7d9.resolved);var rrc=_7d0?_7cc.clone(_7d0):_7d0;if(func){try{var _7da=func(rrc);if(_7da&&typeof _7da.then==="function"){_7da.then(lang.hitch(_7d9.deferred,"resolve"),lang.hitch(_7d9.deferred,"reject"),lang.hitch(_7d9.deferred,"progress"));continue;}var _7db=_7d8&&_7da===undefined;if(_7d8&&!_7db){_7d2=_7da instanceof Error;}_7d9.deferred[_7db&&_7d2?"reject":"resolve"](_7db?rrc:_7da);}catch(e){_7d9.deferred.reject(e);}}else{if(_7d2){_7d9.deferred.reject(rrc);}else{_7d9.deferred.resolve(rrc);}}}};this.resolve=this.callback=function(_7dc){this.fired=0;this.results=[_7dc,null];_7d5(_7dc);};this.reject=this.errback=function(_7dd){_7d2=true;this.fired=1;_7d5(_7dd);this.results=[null,_7dd];if(!_7dd||_7dd.log!==false){(dojo.config.deferredOnError||function(x){console.error(x);})(_7dd);}};this.progress=function(_7de){var _7df=_7d3;while(_7df){var _7e0=_7df.progress;_7e0&&_7e0(_7de);_7df=_7df.next;}};this.addCallbacks=function(_7e1,_7e2){this.then(_7e1,_7e2,_7cd);return this;};_7d4.then=this.then=function(_7e3,_7e4,_7e5){var _7e6=_7e5==_7cd?this:new kc.controller._CloningDeferred(_7d4.cancel);var _7e7={resolved:_7e3,error:_7e4,progress:_7e5,deferred:_7e6};if(_7d3){head=head.next=_7e7;}else{_7d3=head=_7e7;}if(_7d1){_7d7();}return _7e6.promise;};var _7e8=this;_7d4.cancel=this.cancel=function(){if(!_7d1){var _7e9=_7cf&&_7cf(_7e8);if(!_7d1){if(!(_7e9 instanceof Error)){_7e9=new Error(_7e9);}_7e9.log=false;_7e8.reject(_7e9);}}};_7ce(_7d4);};lang.extend(kc.controller._CloningDeferred,{addCallback:function(_7ea){return this.addCallbacks(lang.hitch.apply(dojo,arguments));},addErrback:function(_7eb){return this.addCallbacks(null,lang.hitch.apply(dojo,arguments));},addBoth:function(_7ec){var _7ed=lang.hitch.apply(dojo,arguments);return this.addCallbacks(_7ed,_7ed);},fired:-1});kc.controller._CloningDeferred.when=function(_7ee,_7ef,_7f0,_7f1){if(_7ee&&typeof _7ee.then==="function"){return _7ee.then(_7ef,_7f0,_7f1);}return _7ef?_7ef(_7ee):_7ee;};return kc.controller._CloningDeferred;});},"kc/widget/common/SignIn":function(){require({cache:{"url:kc/widget/common/templates/SignIn.html":"<div class=\"idxDialog\">\n\t\t<div class=\"dijitDialogTitle\">\n\t\t\t<span id=\"idx_oneui_Dialog_0_title\" dojoattachpoint=\"titleNode\" tabindex=\"-1\">${titleLabel}</span>\n\t\t</div>\n\n\n\t\t<div dojoattachpoint=\"contentWrapper\" class=\"dijitDialogPaneContentWrapper compact signInDialogPaneContentWrapper\">\n\t\t<div data-dojo-attach-point=\"_form\" data-dojo-type=\"dijit.form.Form\">\n\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" data-dojo-attach-point=\"signInGroup\" class=\"signInDialogContent\">\n\t\t\t<div class=\"floatLeading\" style=\"width: 50%\">\n\t\t\t\t<input class=\"signintext\" data-dojo-type=\"kc.widget.common.TextBoxWithoutPopup\" data-dojo-props=\"required: true\" data-dojo-attach-point=\"_username\"\n\t\t\t\t\t\ttype=\"text\" name=\"username\" id=\"username\" value=\"\" label=\"${usernameLabel}\" tabIndex=\"1\"/>\n            \t<a data-dojo-attach-point=\"_reghelp\" class=\"helpLink\" href=\"${forgotIDUrl}\" target=\"_blank\" tabIndex=\"5\">${forgotIBMIDLabel}</a>\t\t\t\t\n\t\t\t</div>\n\n\t\t\t<div class=\"floatTrailing\" style=\"width: 50%\">\n\t\t\t\t<input class=\"signintext\" data-dojo-type=\"kc.widget.common.TextBoxWithoutPopup\" data-dojo-props=\"required: true\" data-dojo-attach-point=\"_password\" autocomplete=\"off\"\n\t\t\t\t\t\ttype=\"password\" name=\"password\" id=\"password\" maxlength=\"31\" value=\"\" label=\"${passwordLabel}\" tabIndex=\"2\"/>\n\t\t\t\t<input type=\"hidden\" value=\"pwd\" name=\"login-form-type\"/>\n            \t<a data-dojo-attach-point=\"_forgot\" class=\"helpLink\" href=\"${forgotPasswordUrl}\" target=\"_blank\" tabIndex=\"6\">${forgotPasswordLabel}</a>\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"clearBoth\"></div>\n\t\t\t<a class=\"signInMsg displayBlock\" id=\"signInMsg\" dojoAttachPoint='statusNode' href='javascript:void(0);'>&nbsp;</a>\t\t\t\t\n\t\t</div>\n\t\t\n\t\t\n\t\t<div class=\"dijitDialogPaneActionBar dialogPaneActionBar\">\n\t\t\t<span class=\"idxDialogActionBarLead\">\n\t\t\t\t<a data-dojo-attach-point=\"_registerURL\" class=\"helpLink\" href=\"${registerUrl}\" target=\"_blank\" tabIndex=\"7\">${registerLabel}</a>\n\t\t\t</span>\n\n\t\t\t<span class=\"idxDialogActionBarEnd\">\t\t\t\t\n\t\t\t<div data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"_signInButton\" data-dojo-props=\"label: '${submitLabel}'\" tabIndex=\"3\">\n\t\t\t</div>\n\t\t\t<div data-dojo-type=\"dijit.form.Button\" class=\"idxSecondaryButton\" \tdata-dojo-attach-point=\"_cancelButton\" data-dojo-props=\"label: '${cancelLabel}'\" tabIndex=\"8\">\n\t\t\t</div>\n\t\t\t</span>\n\t\t</div>\n\t\t</div>\n\t\t</div>\n\t\t\n</div>"}});define("kc/widget/common/SignIn",["dojo/_base/declare","dojo/_base/lang","dojo/_base/xhr","dojo/_base/url","dijit/focus","dojo/dom-attr","dojo/dom-class","kc/widget/common/KCWidget","dojo/text!kc/widget/common/templates/SignIn.html","kc/Constants","kc/URIs","kc/Utils","dojox/mobile/sniff","kc/DialogManager","dojo/keys","dijit/a11y","dojo/_base/event","dijit/form/Form","dijit/form/Button","kc/widget/common/TextBoxWithoutPopup","dijit/layout/ContentPane","dojox/encoding/digests/_base","dojox/string/BidiComplex"],function(_7f2,lang,xhr,dUrl,_7f3,_7f4,_7f5,_7f6,_7f7,_7f8,URIs,_7f9,has,_7fa,keys,a11y,_7fb){return _7f2("kc.widget.common.SignIn",[_7f6],{templateString:_7f7,buildRendering:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);_7f4.set(this._reghelp,"tabIndex","4");_7f4.set(this._forgot,"tabIndex","5");_7f4.set(this.statusNode,"tabIndex","6");_7f4.set(this.statusNode,"role","log");_7f4.set(this.statusNode,"aria-live","polite");_7f4.set(this.signInGroup,"role","presentation");},_initializeStrings:function(){this.titleLabel=_7f9.escapeQuotes(this.getString("LGI_SIGNIN_DIALOG_TITLE"));this.submitLabel=_7f9.escapeQuotes(this.getString("ACTION_SUBMIT"));this.cancelLabel=_7f9.escapeQuotes(this.getString("ACTION_CANCEL"));this.registerLabel=_7f9.escapeQuotes(this.getString("LGI_REGISTER"));this.usernameLabel=this.getString("LGI_USERNAMELABEL");this.passwordLabel=this.getString("LGI_PASSWORDLABEL");this.successMsg=this.getString("LGI_SUCCEEDEDMSG");this.forgotIBMIDLabel=this.getString("LGI_FORGETIBMID");this.forgotPasswordLabel=this.getString("LGI_FORGETIBMPASSWORD");this.signinError=this.getString("SIGNIN_ERROR");this.signinInvalid=this.getString("SIGNIN_INVALID");this.serviceUnavailable=this.getString("ERROR_AUTHENTICATION_SERVER");this.idPassInvalid=this.getString("ERROR_AUTHENTICATION_SERVER");this.authenticateMsg=this.getString("LGI_AUTHENTICATEMSG");this.forgotIDUrl=_7f8.getServerProperty(_7f8.SERVER_PROPERTY_KEY_FORGOTID_URL,"");this.forgotPasswordUrl=_7f8.getServerProperty(_7f8.SERVER_PROPERTY_KEY_FORGOTPASSWORD_URL,"");this.registerUrl=_7f8.getServerProperty(_7f8.SERVER_PROPERTY_KEY_REGISTER_URL,"");},_initializeConnections:function(){var self=this;this.addConnection(this._signInButton,"onClick",this,"_signIn");this.addConnection(this._cancelButton,"onClick",this,"cancel");this.addConnection(this._form,"onkeypress",this,"_onKey");this.addConnection(this.statusNode,"onClick",this,"_showErrorMessageDetail");this.addConnection(this.statusNode,"onkeypress",this,lang.hitch(this,function(evt){var key=evt.keyCode;if(key==dojo.keys.ENTER){this._showErrorMessageDetail();evt.stopPropagation();}}));},_initializeSubscriptions:function(){},startup:function(){this.inherited(arguments);dojox.string.BidiComplex.attachInput(this._username.focusNode,"EMAIL");_7f4.set(this.statusNode,"aria-label",this.titleLabel);setTimeout(lang.hitch(this,function(){_7f3.focus(this._username.focusNode);}),0);},cancel:function(){this._username.reset();this._password.reset();var _7fc=document.referrer;var _7fd=new dUrl(_7fc);if(window.location.hostname!==_7fd.host){window.location.href=window.location.origin+_7f8.KC_ROOT;}else{var host=_7fd.scheme+"://"+_7fd.authority;window.location.href=host+_7f8.KC_ROOT+"/postSigninCancel.html";}},_signIn:function(){if(!this._form.validate()){return;}_7f5.remove(this.statusNode,"loginRed");_7f5.add(this.statusNode,"loginGreen");_7f5.remove(this.statusNode,"signInMsgWithDetail");this.statusNode.innerHTML=this.authenticateMsg;var _7fe=dojox.string.BidiComplex.stripSpecialCharacters(this._username.getValue())+":"+this._password.getValue();_7fe=dojox.encoding.digests.wordToBase64(dojox.encoding.digests.stringToWord(_7fe));this.AuthCont_signIn(_7fe,lang.hitch(this,"_loginSuc"),lang.hitch(this,"_loginError"));},_loginSuc:function(_7ff,_800){_7f5.remove(this.statusNode,"loginRed");_7f5.add(this.statusNode,"loginGreen");this.statusNode.innerHTML=this.successMsg;var _801=document.referrer;var _802=new dUrl(_801);if(window.location.hostname!==_802.host){window.location.href=window.location.origin+_7f8.KC_ROOT;}else{var host=_802.scheme+"://"+_802.authority;window.location.href=host+_7f8.KC_ROOT+"/postSigninSuccess.html";}},_loginError:function(_803,_804){var _805=_804.xhr.status;var _806="";var _807="";if(_805==401){_806=this.signinError;_807=_806;}else{if(_805==452){_806=this.signinError;_807=this.signinInvalid;this._username._set("state","Error");}else{if(_805==453){_806=this.signinError;_807=this.signinInvalid;this._password._set("state","Error");}else{_806=this.serviceUnavailable;_807=_806;}}}_7f5.remove(this.statusNode,"loginGreen");_7f5.add(this.statusNode,"loginRed");this.statusNode.innerHTML=_806;_7f4.set(this.statusNode,"messageDetail",_807);if(_806!=_807){_7f5.add(this.statusNode,"signInMsgWithDetail");}else{_7f5.remove(this.statusNode,"signInMsgWithDetail");}return _803;},_showErrorMessageDetail:function(){var _808=_7f4.get(this.statusNode,"messageDetail");var _809=this.statusNode.innerHTML;if(!_7f9.isEmpty(_808)&&!_7f9.isEmpty(_809)&&_809!=_808){_7fa.showTooltip(this.statusNode,_808,_7f8.TOOLTIP_TIMEOUT);}},_clearStatus:function(){this.statusNode.innerHTML="<label class='hidden'>"+this.authenticateMsg+"</label>";_7f4.set(this.statusNode,"messageDetail","");_7f5.remove(this.statusNode,"signInMsgWithDetail");},_getFocusItems:function(){var _80a=a11y._getTabNavigable(this.domNode);this._firstFocusItem=_80a.lowest||_80a.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_80a.last||_80a.highest||this._firstFocusItem;},_onKey:function(evt){if(evt.charOrCode){var node=evt.target;if(evt.charOrCode===keys.TAB){this._getFocusItems(this.domNode);}var _80b=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){if(!_80b){_7f3.focus(this._lastFocusItem);}_7fb.stop(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){if(!_80b){_7f3.focus(this._firstFocusItem);}_7fb.stop(evt);}else{while(node){if(node==this.domNode){if(evt.charOrCode==keys.ESCAPE){this.cancel();}else{return;}}else{if(evt.charOrCode==keys.ENTER&&(node==this._username.domNode||node==this._password.domNode)){this._signIn();}}node=node.parentNode;}if(evt.charOrCode!==keys.TAB){_7fb.stop(evt);}else{if(!has("opera")){try{this._firstFocusItem.focus();}catch(e){}}}}}}},AuthCont_signIn:function(_80c,_80d,_80e){xhr("POST",{url:URIs.LOGIN,timeout:_7f8.XHR_TIMEOUT,preventCache:true,headers:{Authorization:"Basic "+_80c},load:_80d,error:_80e});},});});},"kc/widget/search/FilterRow":function(){require({cache:{"url:kc/widget/search/templates/FilterRow.html":"<div class=\"filterRow\" role=\"toolbar\" id=\"filterRow\" data-dojo-attach-point=\"_filterRow\" aria-labelledby=\"filterRowLabel filterRowMsg\">\n\t<span class=\"filterRowLabel\" id=\"filterRowLabel\" data-dojo-attach-point=\"_filterLabel\">${_productCollection}</span>\n\t<div class=\"filterRowMsg displayInlineBlock\" id=\"filterRowMsg\" data-dojo-attach-point=\"_msg\">${_productCollectionTip}</div>\n\t<div class=\"filterProduct displayInlineBlock\">\n\t\t<span class=\"displayInlineBlock\" data-dojo-attach-point=\"_product\"></span>\n\t</div>\n\t<div class=\"displayInlineBlock hidden\" data-dojo-attach-point=\"_suffixHint\">...</div>\n    <input class=\"displayInlineBlock delimiter\" data-dojo-type=\"idx.oneui.form.CheckBox\" \n       \tdata-dojo-attach-point=\"_autoContextOption\"\n\t\tdata-dojo-props=\"name:'autoContextOption',\n\t\t\t\t\t\tlabel:'${_autoContextOptionLabel}'\n\t\"></input>\n\t<div class=\"filterRowActionLink hidden delimiter\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_clearFilter\" label=\"${_productCollectionClear}\"></div>\n\t<div class=\"filterRowActionLink\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_addFilter\" label=\"${_productCollectionAdd}\"></div>\n</div>\t\n","url:kc/widget/search/templates/FilterRowItem.html":"<div class=\"displayInlineBlock filterProductItem\">\n\t<div class=\"displayInlineBlock\" data-dojo-attach-point=\"_title\"></div>\n\t<div class=\"productCollection displayInlineBlock\" data-dojo-attach-point=\"_productCollection\" tabindex=\"0\" role=\"button\"></div>\n\t<div class=\"filterRowItemClose\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_remove\" label=\"&nbsp;\"></div>\n</div>\t\n"}});define("kc/widget/search/FilterRow",["dojo/_base/declare","dojo/_base/event","dojo/json","dojo/_base/window","dojo/on","dojo/string","dojo/keys","dojo/_base/array","dojo/dom-attr","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/_base/sniff","dojo/window","dojo/dom-construct","dojo/_base/lang","dijit/registry","idx/util","kc/widget/common/KCWidget","dojo/text!kc/widget/search/templates/FilterRow.html","dojo/text!kc/widget/search/templates/FilterRowItem.html","kc/Messaging","kc/Topics","kc/Constants","kc/controller/SearchController","kc/Utils","kc/state/StateUtils","kc/state/KCState","kc/widget/common/KCTreeUtils","kc/widget/search/SearchUtils","dojo/_base/Deferred","dojo/ready","kc/model/Scope","kc/model/Tag","idx/form/Link","idx/oneui/HoverHelpTooltip","dojo/data/ItemFileReadStore","kc/model/CollectionTopic","idx/oneui/form/CheckBox","kc/widget/search/FilterDialog"],function(_80f,_810,json,_811,on,_812,keys,_813,_814,_815,_816,_817,has,win,_818,lang,_819,_81a,_81b,_81c,_81d,_81e,_81f,_820,_821,_822,_823,_824,_825,_826,_827,_828){_80f("kc.widget.search.FilterRowItem",[_81b],{templateString:_81d,fid:null,fname:null,userDefined:true,filter:null,scope:null,childrenItems:null,_productTooltip:null,destroy:function(){var _829=idx.oneui.HoverHelpTooltip._masterTT;if(_829&&_829.aroundNode===this._productCollection){_829.hideOnClickClose();}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(this.fname){_818.empty(this._title);this._title.appendChild(window.document.createTextNode(this.fname));}if(this.childrenItems==null||this.childrenItems.length==0||this.childrenItems.length==1){_815.set(this._productCollection,"display","none");_816.add(this._title,"nonBadgeItem");}else{_815.set(this._productCollection,"display","");_814.set(this._productCollection,"innerHTML",this.childrenItems.length);_814.set(this._productCollection,"aria-label",_812.substitute(this.getString("FILTER_ROW_PRODUCT_FROM"),[this.childrenItems.length,this.fname]));_816.add(this._title,"badgeItem");var _82a="";_813.forEach(this.childrenItems,function(item){if(_813.indexOf(this.scope,item.id)>-1||_813.indexOf(this.scope,this.fid)>-1){_82a+="<div class=\"productInfo\"><div class=\"checkedProductTag\"><span class=\"productInfoAccessibleCheck\">✓</span></div><span class=\"productLabelWithIcon\" tabindex=\"0\">"+item.title+"</span></div>";}else{_82a+="<div class=\"productInfo\"><span class=\"productLabel\">"+item.title+"</span></div>";}},this);this._productTooltip=new idx.oneui.HoverHelpTooltip({connectId:[this._productCollection],label:_82a,position:["below"],showCloseIcon:false});this._connects.push(on(this._productCollection,"keypress",lang.partial(function(_82b,evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE||evt.charCode===keys.SPACE){_810.stop(evt);_82c(_82b,evt.target);}},this._productTooltip)));this._connects.push(on(this._productCollection,"click",lang.partial(function(_82d,evt){_810.stop(evt);_82c(_82d,evt.target);},this._productTooltip)));function _82c(_82e,_82f){idx.oneui.HoverHelpTooltip.show(_82e.label||_82e.domNode.innerHTML,_82f,_82e.position,!_82e.isLeftToRight(),_82e.textDir,_82e.showLearnMore,_82e.learnMoreLinkValue,true,true,"alertdialog");};}this._remove.onClick=lang.hitch(this,function(){this._removeProduct();});_828(lang.hitch(this,function(){if(_816.contains(_811.body(),"dijit_a11y")){this._remove.domNode.innerHTML="x";}}));},_initializeStrings:function(){this._removeProductLabel=this.getString("FILTER_ROW_PRODUCT_REMOVE");},_setFnameAttr:function(_830){this._set("fname",_830);_814.set(this._remove,"title",_812.substitute(this.getString("FILTER_ROW_PRODUCT_REMOVE_NAME"),[_830]));},_removeProduct:function(){var _831=_81a.getParentWidget(this,kc.widget.search.FilterRow);if(_831&&_831._contextScopeItem&&_831._contextScopeItem.fid){if(_831._contextScopeItem.fid==this.fid){_831._contextScopeItem.destroy();_831._contextScopeItem=null;}}var term=_826.getSearchTerm();var tag=_826.getSearchTag();this.filter.splice(_813.indexOf(this.filter,this.fid),1);if(tag.product){tag.product.splice(_813.indexOf(tag.product,this.fid),1);}var _832=_826.getSearchModel(term,this.filter,tag);var args=[_820.CONTENT_SEARCH,_820.ACTION_PRODUCT_COLLECTION_REMOVE,{},new kc.model.Scope({id:this.fid,title:this.fname})];_81e.publish(_81f.KC_ACTION,args);if(_824.active==_820.CONTENT_SEARCH){_81e.publish(_81f.KC_SEARCH,[_820.SOURCE_SEARCH_FILTER_ROW,_832]);}else{_81e.publish(_81f.KC_FILTER,[_820.CONTENT_SEARCH,_832]);}}});return _80f("kc.widget.search.FilterRow",[_81b],{templateString:_81c,_productStore:null,_contextScopeItem:null,_searchOptionModel:undefined,_autoSelectTooltip:undefined,filter:undefined,scope:undefined,tempScope:undefined,filterRowItems:null,filterDialog:null,constructor:function(){this.filter=[];this.scope=[];this.tempScope=[];this.filterRowItems=[];},postCreate:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);_814.set(this._autoContextOption.domNode,"title",this._autoContextOptionTooltip);this._searchOptionModel=new kc.model.SearchOption();var _833=_824.getSearchOption();if(!!_833){this._autoContextOption.set("checked",_833.autoContext);}this.filterDialog=new kc.widget.search.FilterDialog();this.filterDialog.startup();},_initializeStrings:function(){this._productCollection=this.getString("FILTER_ROW_PRODUCT");this._productCollectionTip=this.getString("FILTER_ROW_PRODUCT_TIP");this._productCollectionClear=this.getString("FILTER_ROW_PRODUCT_CLEAR");this._productCollectionAdd=this.getString("FILTER_ROW_PRODUCT_ADD");this._autoContextOptionLabel=this.getString("FILTER_ROW_AUTOSELECT");this._autoContextOptionTooltip=this.getString("SEARCH_OPTIONS_AUTO_CONTEXT");},_initializeConnections:function(){this.addConnection(this._clearFilter,"onClick",this,"_clr");this.addConnection(this._addFilter,"onClick",this,function(){this.filterDialog.show();});this.addConnection(window,"resize",this,"resize");this.addConnection(this._autoContextOption,"onchange",this,function(){var _834=this._autoContextOption.get("checked");if(_834==true){_822.setObject(_820.SEARCH_OPTION_AUTOCONTEXT,true,this._searchOptionModel);}else{_822.setObject(_820.SEARCH_OPTION_AUTOCONTEXT,false,this._searchOptionModel);}var args=[_820.CONTENT_SEARCH,_820.ACTION_SEARCH_OPTION_APPLY,{},this._searchOptionModel];_81e.publish(_81f.KC_ACTION,args);_81e.publish(_81f.KC_NOTIFICATION,[_820.CONTENT_SEARCH,_820.ACTION_SEARCH_OPTION_APPLY,this._searchOptionModel]);this._setContextScope();});},_initializeSubscriptions:function(){this.addSubscription([_81f.KC_SEARCH,_81f.KC_FILTER],this,"_setFilterFromSearchModel");this.addSubscription(_81f.KC_TOPIC,this,"_setContextScope");this.addSubscription(_81f.KC_ACTION,this,"_onAction");this.addSubscription(_81f.KC_FOCUS,this,function(_835){if(_835===_820.ACTION_FOCUS_FILTER_ROW){this._addFilter.focus();}});},_setFilterFromSearchModel:function(_836,_837,_838){this.filter=[];this.scope=[];var _839=_822.getObject("scope",_837);var tag=_822.getObject("tag",_837);var _83a=null;if(tag){_83a=_822.getObject("product",tag);}if(_83a&&_83a.length){this.filter=lang.clone(_83a);}else{if(_839&&_839.length){this.filter=lang.clone(_839);}}this.scope=lang.clone(_839);this.filterRecord=lang.clone(this.filter);if(this._contextScopeItem&&!_838){var _83b=_813.indexOf(this.scope,_822.getObject("fid",this._contextScopeItem));if(_83b!==-1){this.scope.splice(_83b,1);}}this._setFilter();},_clr:function(){this._contextScopeItem=null;if(this._contextScopeItem){this._contextScopeItem.destroy();this._contextScopeItem=null;}var term=_826.getSearchTerm();var tag=_822.getObject("tag",_824.getLatestContentModel(_820.CONTENT_SEARCH));if(tag){_822.setObject("product",[],tag);}var _83c=new kc.model.Search({term:term,scope:[],tag:tag});var args=[_820.CONTENT_SEARCH,_820.ACTION_PRODUCT_COLLECTION_CLEAR,{},_83c];_81e.publish(_81f.KC_ACTION,args);if(_824.active==_820.CONTENT_SEARCH){_81e.publish(_81f.KC_SEARCH,[_820.SOURCE_SEARCH_FILTER_ROW,_83c]);_81e.publish(_81f.KC_FOCUS,[_820.ACTION_FOCUS_SEARCH]);}else{_81e.publish(_81f.KC_FILTER,[_820.CONTENT_SEARCH,_83c]);}},_setFilter:function(){_814.set(this._product,"innerHTML","");_813.forEach(this.filterRowItems,function(_83d){_83d.destroy();});this.filterRowItems=[];if(this.filter&&this.filter.length){if(!this._productStore){_827.when(_821.getProductCollections(),lang.hitch(this,function(data){this._productStore=new dojo.data.ItemFileReadStore({data:data});this._setFilterInfo();}));}else{this._setFilterInfo();}}else{this._setHasFilters(false);this.resize();}},_setFilterInfo:function(){_825.findLabel(this.filter,this._productStore,lang.hitch(this,function(_83e){for(var i=0;i<this.filter.length;i++){var _83f=this._productStore._itemsByIdentity[this.filter[i]];var item=new kc.widget.search.FilterRowItem({fname:_83e[this.filter[i]],fid:this.filter[i],filter:this.filter,scope:this.scope,childrenItems:_825.getChildren(_83f,this._productStore)});this.filterRowItems.push(item);_818.place(item.domNode,this._product);}}));this._setHasFilters(true);this.resize();},_removeFilterRowItem:function(_840){var _841=_813.indexOf(this.filter,_840);var _842="";if(_841>-1){this.filter.splice(_841,1);_813.forEach(_819.findWidgets(this._product),function(_843){if(_843.fid&&_843.fid==_840){this._product.removeChild(_843.domNode);_842=_843.fname;}},this);this.resize();var args=[_820.CONTENT_SEARCH,_820.ACTION_PRODUCT_COLLECTION_REMOVE,{},new kc.model.Scope({id:_840,title:_842})];_81e.publish(_81f.KC_ACTION,args);if(this._product.innerHTML==""){this._setHasFilters(false);}}},_onAction:function(_844,_845,_846,_847){if(_820.CONTENT_SEARCH===_844){switch(_845){case _820.ACTION_PRODUCT_COLLECTION_SELECT:this._addFilterItem(_847);break;}}},_addFilterItem:function(_848){if(!this._productStore){_827.when(_821.getProductCollections(),lang.hitch(this,function(data){this._productStore=new dojo.data.ItemFileReadStore({data:data});this._productStore.fetch({onComplete:lang.hitch(this,function(_849,_84a){_813.forEach(_848,function(item){this._addFilterRowItem(item.id,item.title,true);},this);})});}));}else{_813.forEach(_848,function(item){this._addFilterRowItem(item.id,item.title,true);},this);}},_mergeSiblingItems:function(_84b,_84c){var _84d=true;var _84e=_824.getNavigationTreeModels();var _84f=_84e[_84e.length>1?_84e.length-2:0].id;if(_84f==="root"){return false;}var _850=this._productStore._itemsByIdentity[_84f];var _851=_825.getDescendants(_850,this._productStore);_813.forEach(_851,function(_852){if(_813.indexOf(this.scope,_852.id[0])==-1){if(_84b!==_852.id[0]){_84d=false;return false;}}},this);if(_84d){return this._addFilterRowItem(_84f,_850.title[0],false);}return false;},_addFilterRowItem:function(_853,_854,_855){if(this._isDuplicateItem(_853)||this._isDescendantItem(_853)){return undefined;}if(_855===false){var _856=this._mergeSiblingItems(_853,_854);if(_856){return _856;}}this._checkDescendantItems(_853,_855);var _857=this._productStore._itemsByIdentity[_853];var item=new kc.widget.search.FilterRowItem({fname:_854,fid:_853,userDefined:_855,filter:this.filter,scope:this.scope,childrenItems:_825.getChildren(_857,this._productStore)});_818.place(item.domNode,this._product);if(_813.indexOf(this.filter,_853)==-1){this.filter.push(_853);}this._setHasFilters(true);var args=[_820.CONTENT_SEARCH,_820.ACTION_PRODUCT_COLLECTION_ADD,{},new kc.model.Scope({id:_853,title:_854})];_81e.publish(_81f.KC_ACTION,args);this.resize();return item;},_isDuplicateItem:function(_858){if(_813.indexOf(this.filter,_858)>-1){return true;}},_isDescendantItem:function(_859){var _85a=false;_813.forEach(this.filter,function(_85b){var _85c=this._productStore._itemsByIdentity[_85b];var _85d=_825.getDescendants(_85c,this._productStore);_813.forEach(_85d,function(item){if(_825.getIdentity(item,this._productStore)===_859){_85a=true;}},this);},this);return _85a;},_checkDescendantItems:function(_85e,_85f){var item=this._productStore._itemsByIdentity[_85e];var _860=_825.getDescendants(item,this._productStore);_813.forEach(_860,function(_861){var id=_825.getIdentity(_861,this._productStore);if(_813.indexOf(this.filter,id)>-1){if(!_85f){_813.forEach(_819.findWidgets(this._product),function(_862){if(_862.fid&&_862.fid==id){var _863=_862.fname;if(_862.userDefined){this.tempScope.push(new kc.model.Scope({id:id,title:_863}));}}},this);}this._removeFilterRowItem(id);}},this);},_setContextScope:function(_864,_865){if(!this._productStore){_827.when(_821.getProductCollections(),lang.hitch(this,function(data){this._productStore=new dojo.data.ItemFileReadStore({data:data});this._productStore.fetch({onComplete:lang.hitch(this,function(_866,_867){this._setContextScopeInfo(_864,_865);})});}));}else{this._setContextScopeInfo(_864,_865);}},_setContextScopeInfo:function(_868,_869){if(null!=_824.getSearchOption()&&_824.getSearchOption().autoContext==true){if(_822.instanceOf(_869,kc.model.CollectionTopic)){return;}if(_868&&(_868==_820.SOURCE_NAVIGATION_TOC||_868==_820.SOURCE_URL||_868==_820.SOURCE_SEARCH_TYPEAHEAD)){var toc=_824.getActiveNavigationTreeModel();if(_822.isUndefined(toc)||_820.TAXONOMY_TREE_TOC_CONTENT_ID===toc.id){return;}var id=_822.getObject(_820.TOPIC_ID,toc);if(_822.isString(id)&&id.indexOf(_820.RANDOM_ID_DELIMITER)>-1){id=_822.stripAfter(id,_820.RANDOM_ID_DELIMITER);}if(this._contextScopeItem&&_813.indexOf(this.scope,this._contextScopeItem.fid)===-1){if(id==this._contextScopeItem.fid){return;}else{this._removeFilterRowItem(this._contextScopeItem.fid);if(this._contextScopeItem){this._contextScopeItem.destroy();this._contextScopeItem=null;}_813.forEach(this.tempScope,function(_86a){if(_86a.id&&_86a.title&&_813.indexOf(this.filterRecord,_86a.id)>-1){this._addFilterRowItem(_86a.id,_86a.title,true);}},this);this.tempScope=[];}}var _86b=_822.getObject(_820.TOPIC_TITLE,toc);this._contextScopeItem=this._addFilterRowItem(id,_86b,false);}}},_setHasFilters:function(_86c){if(_86c){_816.remove(this._clearFilter.domNode,"hidden");this._addFilter.set("label",this._productCollectionAdd);_816.add(this._msg,"hidden");_814.set(this._filterRow,"aria-labelledby","filterRowLabel");}else{_816.add(this._clearFilter.domNode,"hidden");this._addFilter.set("label",this._productCollectionAdd);_816.remove(this._msg,"hidden");_814.set(this._filterRow,"aria-labelledby","filterRowLabel filterRowMsg");}},resize:function(){_815.set(this._product.parentNode,"width","0px");var _86d=_817.position(this._filterLabel).w;var _86e=_817.position(this._clearFilter.domNode).w;var _86f=_817.position(this._autoContextOption.domNode).w;var _870=_817.position(this._addFilter.domNode).w;var _871=250;var w=win.getBox().w-_871-_86d-_86f-_86e-_870;var c=_817.position(this._product).w;if(has("ie")){c=this._product.scrollWidth;}if(_86e==0){w=0;}if(w>=c){w=c;_816.add(this._suffixHint,"hidden");}else{_816.remove(this._suffixHint,"hidden");}if(w>=0){_815.set(this._product.parentNode,"width",w+"px");}}});});},"url:kc/widget/topic/templates/TopicViewer.html":"<div>\n\t<div data-dojo-type=\"kc.widget.topic.TopicBreadcrumbs\" data-dojo-attach-point=\"_topicBreadcrumbs\" style=\"\"></div>\n    <div style=\"display:none\" id=\"topicMsg\" dojoAttachPoint='_topicMsgNode'><br>&nbsp;</div>  \n\t<!-- The topic content iframe or a TopicNav instance will be under this -->\n\t<div data-dojo-attach-point=\"_content\"></div>\n\t\n\t<div data-dojo-attach-point=\"_topicActionBar2\" data-dojo-type=\"kc.widget.topic.TopicActionBar2\"></div>\n\t<div data-dojo-attach-point=\"_commentArea\" data-dojo-type=\"kc.widget.topic.Comment\" class=\"clearBoth\" style=\"\"></div>\n</div>","kc/model/Scope":function(){define("kc/model/Scope",["dojo/_base/declare","kc/model/KCModel","kc/Constants","kc/Utils"],function(_872,_873,_874,_875){return _872("kc.model.Scope",[_873],{id:undefined,title:undefined,constructor:function(){}});});},"kc/frame/RelatedContent":function(){require({cache:{"url:kc/frame/templates/RelatedContent.html":"<div class=\"relatedContentFrameContent\">\n\t<div data-dojo-type=\"dijit.layout.StackContainer\" doLayout=\"true\" data-dojo-attach-point=\"_relatedContentContainer\" data-dojo-props=\"'class':'relatedContentContainer'\">\n\t\t<div data-dojo-attach-point=\"_productRelatedContentPlaceholder\"></div>\n\t</div>\t\t\t\n</div>"}});define("kc/frame/RelatedContent",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","kc/widget/common/KCWidget","dojo/text!kc/frame/templates/RelatedContent.html","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","idx/util","kc/widget/common/_DataHolderMixin","dojo/dom-attr","dijit/layout/StackContainer"],function(_876,lang,_877,_878,_879,_87a,_87b,_87c,_87d,_87e,_87f,_880,_881){return _876("kc.frame.RelatedContent",[_879],{templateString:_87a,postCreate:function(){this.inherited(arguments);_881.set(this.domNode,"role","complementary");_881.set(this.domNode,"aria-label",this.getString("RELATED_SEARCH_INFORMATION"));},startup:function(){this.inherited(arguments);},_initializeSubscriptions:function(){this.addSubscription(_87c.KC_CONTENT,this,"_showRelatedContent");this.addSubscription(_87c.KC_TOC_CHANGE,this,"_hideRelatedContent");},_cleanUpRelatedContent:function(){_877.forEach(this._relatedContentContainer.getChildren(),function(_882){if(_882.isInstanceOf(kc.widget.common._DataHolderMixin)){if(_882.getData()!==undefined){_882.setData(undefined);}}});},_hideRelatedContent:function(){this._cleanUpRelatedContent();_87b.publish(_87c.CONSOLE_RELATED_CONTENT,[false]);},_showRelatedContent:function(_883,_884,_885){if(!_884){return;}this._cleanUpRelatedContent();var _886=undefined;var _887=undefined;if(_884===_87d.CONTENT_TOPIC){var pl=_87e.getObject("isProductLanding",_885);if(pl){_886="kc/widget/topic/ProductRelatedContent";_887=this._productRelatedContentPlaceholder;}}if(!_886){_87b.publish(_87c.CONSOLE_RELATED_CONTENT,[false]);return;}require([_886],lang.hitch(this,function(_888){var rc=_87f.getChildWidget(this._relatedContentContainer,false,_888);if(rc){rc.setData(_885);this._relatedContentContainer.selectChild(rc);}else{rc=new _888();rc.startup();rc.setData(_885);_878.place(rc.domNode,_887,"replace");this._relatedContentContainer.selectChild(rc);}_87b.publish(_87c.CONSOLE_RELATED_CONTENT,[true]);}));}});});},"kc/widget/common/_IFrameMixin":function(){define("kc/widget/common/_IFrameMixin",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dojo/dom-attr","dojo/query","dojo/keys","kc/Utils","kc/Topics","kc/Messaging","dojo/on","idx/util","kc/Constants","dojo/NodeList-traverse"],function(_889,lang,_88a,_88b,_88c,_88d,keys,_88e,_88f,_890,on,_891,_892){return _889("kc.widget.common._IFrameMixin",[],{iFrameDomNode:null,_kcListeners:null,_supportedAccessKeys:[_892.ACCESS_KEY_FOCUS_CONTENT,_892.ACCESS_KEY_FOCUS_SEARCH,_892.ACCESS_KEY_FOCUS_NAVIGATION,_892.ACCESS_KEY_NAVIGATION_TOC,_892.ACCESS_KEY_NAVIGATION_SEARCH,_892.ACCESS_KEY_NAVIGATION_MY_COLLECTION,_892.ACCESS_KEY_PRINT],postCreate:function(){this.inherited(arguments);this._kcListeners=[];this.iFrameDomNode=this.domNode;on(this.domNode,"load",lang.hitch(this,"registerListeners"));},registerListeners:function(){_88a.forEach(this._kcListeners,"item.remove()");this._kcListeners.length=0;if(!!_891.isWebKit){this.addAccessKeysListener();}this.removeMainRoles();},addAccessKeysListener:function(){var _893=this.iFrameDomNode.contentDocument.body;if(_893){_88a.forEach(this._supportedAccessKeys,function(_894){var _895=_88b.create("a",{accesskey:_894,tabindex:"-1",style:"display: none;"},_893);(this.addConnection?this.addConnection:on).call(this,_895,"click",lang.partial(this.hAccessKey,_894));},this);}},_setIFrameDomNodeAttr:function(_896){this._set("iFrameDomNode",_896);this.registerListeners();},hAccessKey:function(_897){_890.publish(_88f.KC_ACCESS_KEY,[_897]);},removeMainRoles:function(){var _898=this.iFrameDomNode.contentDocument.body;if(_898&&_898.parentNode){_88d("[role=\"main\"]",_898.parentNode).forEach(function(node){_88c.remove(node,"role");});}}});});},"kc/widget/common/SignInDialog2":function(){require({cache:{"url:kc/widget/common/templates/SignInDialog2.html":"<div>\n\t<div data-dojo-type=\"idx.oneui.Dialog\" data-dojo-attach-point=\"_dialog\" class=\"signInDialog\" data-dojo-props=\"title: '${titleLabel}', autofocus: false\">\n\t\t<iframe src=\"\" style=\"height: 257px; width: 508px; border: 0\" data-dojo-attach-point=\"_signinIframe\"></iframe>\n\t</div>\n</div>\n"}});define("kc/widget/common/SignInDialog2",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/query","dojo/dom-construct","dijit/focus","dojo/dom-attr","dojo/dom-class","kc/widget/common/KCWidget","dojo/text!kc/widget/common/templates/SignInDialog2.html","kc/Constants","kc/Utils","dojo/dom-style","idx/oneui/Dialog","dojo/_base/sniff","dijit/form/Form","dijit/form/Button","kc/widget/common/TextBoxWithoutPopup","dijit/layout/ContentPane","dojox/encoding/digests/_base","dojox/string/BidiComplex"],function(_899,lang,_89a,_89b,_89c,_89d,_89e,_89f,_8a0,_8a1,_8a2,_8a3,_8a4,_8a5,has){return _899("kc.widget.common.SignInDialog2",[_8a0],{templateString:_8a1,_initializeStrings:function(){this.titleLabel=_8a3.escapeQuotes(this.getString("LGI_SIGNIN_DIALOG_TITLE"));},startup:function(){this.inherited(arguments);_8a4.set(this._dialog.domNode,{"border":"none"});_8a4.set(this._dialog.domNode,{"overflow":"hidden"});_89f.remove(this._dialog.contentWrapper,"dijitDialogPaneContentWrapper");_89a.forEach(_89b(".dijitDialogTitle",this._dialog.domNode),_89c.destroy);_89a.forEach(_89b(".dijitDialogInstruction",this._dialog.domNode),_89c.destroy);_89a.forEach(_89b(".dijitDialogPaneActionBar",this._dialog.domNode),_89c.destroy);_89e.remove(this._dialog.domNode,"aria-labelledby");_89e.remove(this._dialog.domNode,"aria-describedby");_89e.set(this._dialog.domNode,"aria-label",this.titleLabel);_89e.set(this._signinIframe,"title",this.titleLabel);if(has("ie")==8){_8a4.set(this._signinIframe,{"height":"260px"});_8a4.set(this._signinIframe,{"width":"512px"});}},show:function(){this._dialog.show();_89e.set(this._signinIframe,"src",_8a2.KC_ROOT+"/signin.jsp?lang="+_8a2.KC_LANGUAGE);this._signinIframe.contentWindow.focus();},cancel:function(){this._dialog.hide();},_signIn:function(){},_loginSuc:function(){location.reload();},_loginError:function(_8a6,_8a7){},_showErrorMessageDetail:function(){},_keypress:function(evt){},_clearStatus:function(){}});});},"url:kc/widget/collection/templates/CollectionTreeNode.html":"<div class=\"collectionTreeNode dijitTreeNode\" role=\"presentation\">\n\t<div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\">\n\t\t\t\n\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"/>\n\t\t<span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"></span>\n\t\t<span data-dojo-attach-point=\"contentNode\" class=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<div class=\"floatLeading\">\n\t\t\t\t<div class=\"\">\n\t\t\t\t\t<div class=\"toolBarAction deleteIcon\" tabindex=\"-1\" role=\"button\" data-dojo-type=\"idx.form.Link\" title=\"${deleteLabel}\" data-dojo-attach-point=\"_delete\" data-dojo-attach-event=\"onclick:_onDelete, onkeypress:_onDelete, onkeypress:_navigate\"></div>\n\t\t\t\t\t<div class=\"toolBarAction moveUpIcon\" tabindex=\"-1\" role=\"button\" data-dojo-type=\"idx.form.Link\" title=\"${moveUpLabel}\" data-dojo-attach-point=\"_moveUp\" data-dojo-attach-event=\"onclick:_onMoveUp, onkeypress:_onMoveUp, onkeypress:_navigate\"></div>\n\t\t\t\t\t<div class=\"toolBarAction moveDownIcon\" tabindex=\"-1\" role=\"button\" data-dojo-type=\"idx.form.Link\" title=\"${moveDownLabel}\" data-dojo-attach-point=\"_moveDown\" data-dojo-attach-event=\"onclick:_onMoveDown, onkeypress:_onMoveDown, onkeypress:_navigate\"></div>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\" \n\t\t\t\t\tdata-dojo-attach-event=\"onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave, onclick:_onClick, ondblclick:_onDblClick, onfocus:_onLabelFocus, onblur:_onBlur, onkeypress:_navigate\">\n\t\t\t\t</span>\n\t\t\t\t<span data-dojo-attach-point=\"moreSubtopics\">${moreSubtopics}</span>\n\t\t\t</div>\n\t\t\t<div class=\"clearBoth\"></div>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n","url:kc/widget/search/templates/SearchActionBar.html":"{% extends actionBarTemplate %}\n{% block actionPlaceholderBeginning %}\n\t\n{% endblock %}\n","url:kc/widget/topic/templates/TopicActionBar2.html":"{% extends actionBarTemplate %}\n\n{% block actionPlaceholderEnd %}\n\t<div class=\"toolBarAction otherVersions\" data-dojo-type=\"idx.form.DropDownLink\"  data-dojo-attach-point=\"_otherVersionMenu\" label=\"{{OtherVersionsLabel}}\">\n\t  <div dojoType=\"dijit.Menu\"></div>\n\t</div>\n{% endblock %}\n","url:kc/widget/topic/templates/ProductRelatedContent.html":"<div style=\"width:100%; height:100%\" dojoAttachPoint=\"_ProductRelatedContent\">\n</div>","idx/form/_IconPickerMixin":function(){(function(){var _8a8=function(_8a9,_8aa,_8ab,_8ac){return _8a9("idx.form._IconPickerMixin",[_8ac],{iconClass:"",textIcon:"&#9660;",iconTitle:"",iconAlt:"",openOnClick:false,buildRendering:function(){this.inherited(arguments);_8ab.addClass(this.domNode,"idxIconPicker");var link=this.iconNode=_8ab.create("div",{className:"dijitInline idxPickerIconLink",title:this.iconTitle,tabIndex:0},this.domNode);_8ab.create("img",{className:"idxPickerIcon "+this.iconClass,alt:this.iconAlt,src:this._blankGif},link);var _8ad=_8ab.create("div",{className:"idxPickerTextIcon"},link);_8ad.innerHTML=this.textIcon;if(this._buttonNode){this._buttonNode=link;this.connect(this._buttonNode,"onkeypress","_onKey");this.connect(this._buttonNode,"onkeyup","_onKeyUp");}else{this.connect(link,"onclick","_onIconClick");this.connect(link,"onblur","_onBlur");}this.formatterNode=this.textbox;},_onKey:function(e){if(!this.readOnly){this.inherited(arguments);}},_onKeyUp:function(e){if(this._opened){delete this._toggleOnKeyUp;return;}else{this.inherited(arguments);}},_onIconClick:function(){if(this.disabled){return;}this.focus();setTimeout(_8aa.hitch(this,"_open"),0);},_open:function(evt){if(evt&&evt.target==this.focusNode){return;}this.inherited(arguments);},_onFocus:function(){dijit.form.TextBox.prototype._onFocus.apply(this,arguments);},_setDisabledAttr:function(_8ae){this.inherited(arguments);_8ab.attr(this.iconNode,"tabIndex",_8ae?-1:0);if(_8ae){this.iconNode.title="";}else{this.iconNode.title=this.iconTitle;}},_setReadOnlyAttr:function(_8af){this.inherited(arguments);if(_8af){this.iconNode.title="";}else{this.iconNode.title=this.iconTitle;}},validate:function(){var v=this.inherited(arguments);if(!v){this.validationFailure();}else{this.validationSuccess();}return v;},validationFailure:function(){},validationSuccess:function(){}});};var _8b0=(window["dojo"]&&dojo.version);if(_8b0&&_8b0.major==1&&_8b0.minor==6){dojo.provide("idx.form._IconPickerMixin");dojo.require("idx.form._DateTimeFormatterMixin");_8a8(dojo.declare,dojo,dojo,idx.form._DateTimeFormatterMixin);}else{define("idx/form/_IconPickerMixin",["dojo/_base/declare","dojo/_base/lang","dojo/_base/html","idx/form/_DateTimeFormatterMixin"],_8a8);}})();},"kc/widget/collection/PDFProgress":function(){require({cache:{"url:kc/widget/collection/templates/PDFProgress.html":"<div class=\"pdfProgress\" data-dojo-attach-point=\"_pdfProgressContainer\">\n\t<span class=\"loading floatLeading\" data-dojo-attach-point=\"_indicator\"></span>\n\t<span data-dojo-attach-point=\"_progress\"></span>\n</div>"}});define("kc/widget/collection/PDFProgress",["dojo/_base/declare","kc/widget/common/KCWidget","dojo/text!kc/widget/collection/templates/PDFProgress.html","kc/Messaging","kc/Topics","kc/Constants","kc/Utils"],function(_8b1,_8b2,_8b3,_8b4,_8b5,_8b6,_8b7){return _8b1("kc.widget.collection.PDFProgress",[_8b2],{templateString:_8b3,postCreate:function(){this.inherited(arguments);},_initializeStrings:function(){this.waiting=this.getString("COLLECTION_PROGRESS_WAITING");},_initializeConnections:function(){},_initializeSubscriptions:function(){},startup:function(){this.inherited(arguments);this.update(undefined);},update:function(_8b8){if(!_8b7.isEmpty(_8b8)){_8b7.setDomNodeShow(this._indicator,true);var m=_8b8.progress;var n=_8b8.total;var name=_8b8.name;var done=_8b8.done;var _8b9="";if(done){_8b9=this.getString("COLLECTION_EXPORT_PDF_READY");}else{if(m&&n){if(_8b7.isEmpty(name)){_8b9=this.getString("COLLECTION_PROGRESS_TOPIC_NUM_OF",[m,n]);}else{_8b9=this.getString("COLLECTION_PROGRESS_TOPIC_NUM_OF2",[m,n,name]);}}else{if(m){_8b9=this.getString("COLLECTION_PROGRESS_TOPIC_NUM",[m]);}else{_8b9=this.getString("COLLECTION_PROGRESS_WAITING");}}}this._progress.innerHTML=_8b9;_8b7.setWidgetTooltip(this,_8b9);}else{_8b7.setDomNodeShow(this._indicator,false);this._progress.innerHTML=this.waiting;_8b7.setWidgetTooltip(this,this.waiting);}}});});},"kc/model/PDFJob":function(){define("kc/model/PDFJob",["dojo/_base/declare","kc/model/KCModel","kc/Constants","kc/Utils"],function(_8ba,_8bb,_8bc,_8bd){return _8ba("kc.model.PDFJob",[_8bb],{id:undefined,name:undefined,progress:0,remaining:0,waiting:0,total:0,done:false,constructor:function(){},isComplete:function(){return this.done;}});});},"url:kc/frame/templates/RelatedContent.html":"<div class=\"relatedContentFrameContent\">\n\t<div data-dojo-type=\"dijit.layout.StackContainer\" doLayout=\"true\" data-dojo-attach-point=\"_relatedContentContainer\" data-dojo-props=\"'class':'relatedContentContainer'\">\n\t\t<div data-dojo-attach-point=\"_productRelatedContentPlaceholder\"></div>\n\t</div>\t\t\t\n</div>","kc/widget/topic/ProductRelatedContent":function(){require({cache:{"url:kc/widget/topic/templates/ProductRelatedContent.html":"<div style=\"width:100%; height:100%\" dojoAttachPoint=\"_ProductRelatedContent\">\n</div>"}});define("kc/widget/topic/ProductRelatedContent",["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/_base/array","dojo/query","kc/widget/common/KCWidget","kc/widget/common/_DataHolderMixin","dojo/text!kc/widget/topic/templates/ProductRelatedContent.html","kc/Messaging","kc/Topics","kc/Utils","kc/Constants","kc/URIs","kc/controller/TopicController"],function(_8be,lang,_8bf,_8c0,_8c1,_8c2,_8c3,_8c4,_8c5,_8c6,_8c7,_8c8,URIs,_8c9){return _8be("kc.widget.topic.ProductRelatedContent",[_8c2,_8c3],{templateString:_8c4,postCreate:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);},setData:function(_8ca){this.inherited(arguments);if(!_8ca){_8bf.empty(this._ProductRelatedContent);}else{_8bf.create("div",{"class":"loading"},this._ProductRelatedContent);_8c9.getRelatedContents(_8ca,lang.hitch(this,function(arg){if(!arg){return;}_8bf.empty(this._ProductRelatedContent);_8c0.forEach(arg.items,lang.hitch(this,function(item,_8cb){_8bf.create("h3",{innerHTML:item.title,"class":"relatedContentEntry",style:(_8cb?"margin-top:25px;":null)},this._ProductRelatedContent);_8c0.forEach(item.items,lang.hitch(this,function(_8cc){_8bf.create("div",{innerHTML:"<a class='relatedContentSubEntryLink' href='"+_8cc.href+"'>"+_8cc.title+"</a>","class":"relatedContentSubEntry"},this._ProductRelatedContent);}));}));this.addConnection(_8c1(".relatedContentSubEntryLink"),"click",this,function(e){e.preventDefault();_8c5.publish(_8c6.EXTERNAL_LINK,[e.currentTarget.href]);});}),lang.hitch(this,function(arg){_8bf.empty(this._ProductRelatedContent);_8bf.create("div",{"class":"idxSignIcon idxWarnIcon"},this._ProductRelatedContent);_8bf.create("div",{"innerHTML":this.getString("RELATED_SEARCH_WARNING_MESSAGE"),"class":"warningMessage"},this._ProductRelatedContent);}));}}});});},"kc/FeedbackManager":function(){define("kc/FeedbackManager",["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/on","dojo/NodeList-manipulate","dojo/query","kc/widget/common/_KCi18nMixin","kc/Topics","kc/Messaging","kc/Utils","kc/Constants","kc/DialogManager","idx/util","idx/string","dojo/io/script"],function(_8cd,lang,win,on,_8ce,_8cf,_8d0,_8d1,_8d2,_8d3,_8d4,_8d5,_8d6,_8d7){_8cd("kc.FeedbackManager",[_8d0],{_initialized:false,_feedbackPopup:undefined,_privateFeedbackDomain:undefined,_debug:_8d4.debugMode,_feedbackMode:1,initialize:function(){if(this._initialized){return;}var _8d8=(_8d4.getServerProperty(_8d4.SERVER_PROPERTY_KEY_FEEDBACK_FOOTER_DISABLED,"false")==="true");if(_8d8){return;}this._privateFeedbackDomain=_8d4.getServerProperty(_8d4.SERVER_PROPERTY_KEY_PRIVATE_FEEDBACK_DOMAIN);if(!_8d3.isEmpty(this._privateFeedbackDomain)&&!_8d7.endsWith(this._privateFeedbackDomain,"/")){this._privateFeedbackDomain+="/";}if(this._feedbackMode>=1){_8d2.subscribe(_8d1.KC_READY,this,"_ready");}_8d2.subscribe(_8d1.EXTERNAL_FEEDBACK,this,"_showFeedback");this._initialized=true;},_ready:function(){setTimeout(lang.hitch(this,function(){if(this._debug){}_8cf("head").append("<link rel=\"stylesheet\" type=\"text/css\" href=\"//1.www.s81c.com/common/v17/css/external/opinionlab.css\">");var _8d9=document.createElement("script");if(this._feedbackMode===1){_8d9.src="//1.www.s81c.com/common/js/dojo/1.6/ibmweb/external/opinionlab.js";}else{_8d9.src=_8d4.KC_ROOT+"/doc/opinionlab.js";}_8d9.type="text/javascript";_8d9.async=true;var _8da=document.getElementsByTagName("head")[0].appendChild(_8d9);var _8db=_8d6.isIE?"readystatechange":"load";var _8dc=/complete|loaded/;on(_8da,_8db,lang.hitch(this,function(evt){if(evt.type=="load"||_8dc.test(_8da.readyState)){this._initializeFeedback();}}));}),2000);},_initializeExitSurvey:function(){var _8dd=_8d4.getServerProperty(_8d4.SERVER_PROPERTY_KEY_FEEDBACK_EXITSURVEY_PERCENTAGE,"");var _8de=(_8d4.getServerProperty(_8d4.SERVER_PROPERTY_KEY_FEEDBACK_EXITSURVEY_DISABLED,"false")==="false");var _8df=_8d4.getServerProperty(_8d4.SERVER_PROPERTY_KEY_FEEDBACK_EXITSURVEY_START,"");var _8e0=_8d4.getServerProperty(_8d4.SERVER_PROPERTY_KEY_FEEDBACK_EXITSURVEY_STOP,"");var _8e1=_8d4.getServerProperty(_8d4.SERVER_PROPERTY_KEY_FEEDBACK_EXITSURVEY_ID,"");var _8e2=_8d4.getServerProperty(_8d4.SERVER_PROPERTY_KEY_FEEDBACK_EXITSURVEY_URL,"");var _8e3=_8d4.getServerProperty(_8d4.SERVER_PROPERTY_KEY_FEEDBACK_EXITSURVEY_EXIT_URL,"");ccf.opinionlab.set({baseURL:_8d4.KC_ROOT+"/js/opinionlab/",intercept:{enabled:_8de,percent:_8dd,start:_8df,stop:_8e0,interceptDisp:"siteExit",surveyDisp:"immediate",exitURL:[_8e3],invitation:{title:"Tell IBM what you think",content:"Would you please take 1 minute to take this survey?",yes_label:"Yes",no_label:"No Thanks"},survey:{type:"customB",url:_8e2,id:_8e1,width:1000,height:700}}});},_initializeFeedback:function(){if(_8d3.isObject(OOo)){this._feedbackPopup=new OOo.Ocode({});var _8e4=document.createElement("script");_8e4.src=_8d4.KC_ROOT+"/js/opinionlab/core_non_v17.js";_8e4.type="text/javascript";var _8e5=_8d6.isIE?"readystatechange":"load";var _8e6=/complete|loaded/;var _8e7=document.getElementsByTagName("head")[0].appendChild(_8e4);on(_8e7,_8e5,lang.hitch(this,function(evt){if(evt.type=="load"||_8e6.test(_8e7.readyState)){this._initializeExitSurvey();}}));}},_showFeedback:function(){if(this._feedbackMode===0){_8d2.publish(_8d1.EXTERNAL_LINK,["mailto:ibmkc@us.ibm.com"]);return;}if(this._feedbackPopup&&!_8d3.isEmpty(this._privateFeedbackDomain)){var url=document.location.href;var i=url.indexOf(_8d4.KC_ROOT);if(i>-1){url=this._privateFeedbackDomain+url.substr(i+_8d4.KC_ROOT.length+1);}else{url=this._privateFeedbackDomain+url;}this._feedbackPopup.options.customVariables={title:document.title};this._feedbackPopup.options.referrerRewrite={replacePattern:url};this._feedbackPopup.show();}else{_8d5.showInfoDialog(this.getString("FEEDBACK"),this.getString("FEEDBACK_NOT_AVAILABLE"));}}});kc.FeedbackManager.instance=null,kc.FeedbackManager.getInstance=function(){if(kc.FeedbackManager.instance===null){kc.FeedbackManager.instance=new kc.FeedbackManager();kc.FeedbackManager.instance.initialize();}return kc.FeedbackManager.instance;};return kc.FeedbackManager.getInstance();});},"dijit/form/DateTextBox":function(){define("dijit/form/DateTextBox",["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(_8e8,_8e9,_8ea){return _8e8("dijit.form.DateTextBox",_8ea,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_8e9,_selector:"date",value:new Date("")});});},"kc/state/KCState":function(){define("kc/state/KCState",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/DeferredList","dojo/json","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","kc/state/StateUtils","kc/model/Search","kc/model/Tag","kc/model/User","kc/model/SearchOption","kc/model/Scope","kc/model/CollectionTopic"],function(_8eb,lang,_8ec,_8ed,_8ee,json,_8ef,_8f0,_8f1,_8f2,_8f3){_8eb("kc.state.KCState",null,{_initialized:false,kcReady:false,user:undefined,searchOption:undefined,active:undefined,latest:undefined,browserState:undefined,tocArray:undefined,tocTreeModels:undefined,tocDetails:undefined,tocDetailsDeferreds:undefined,collectionContext:undefined,lastFeedbackData:undefined,initialize:function(){if(this._initialized){return;}this.latest={};this.searchOption=new kc.model.SearchOption();_8ef.subscribe(_8f0.BROWSER_URL_CHANGE,this,"_browserUrlChanged",_8f1.MESSAGING_PRIORITY_LATE);_8ef.subscribe(_8f0.BROWSER_STATE_CHANGE,this,"_browserStateChanged",_8f1.MESSAGING_PRIORITY_LATE);_8ef.subscribe(_8f0.KC_CONTENT,this,"_contentChanged");_8ef.subscribe(_8f0.KC_TOC_CHANGE,this,"_tocChanged",_8f1.MESSAGING_PRIORITY_LATE);_8ef.subscribe(_8f0.KC_ACTION,this,"_onAction");_8ef.subscribe(_8f0.KC_TOC_STORE_CREATED,this,"_tocStoreCreated",_8f1.MESSAGING_PRIORITY_LATE);_8ef.subscribe(_8f0.CONSOLE_NAVIGATION_EXPANSION,this,"_tocNavigationChanged",_8f1.MESSAGING_PRIORITY_LATE);_8ef.subscribe(_8f0.CONSOLE_NAVIGATION_EXPANSION_DEFERRED_LOADER,this,"_tocNavigationChangedDeferredLoader",_8f1.MESSAGING_PRIORITY_LATE);_8ef.subscribe(_8f0.KC_DATA_FEEDBACK,this,"_feedbackDataLoaded");_8ef.subscribe(_8f0.KC_FILTER,this,"setLatestContentModel");this._initialized=true;},_browserUrlChanged:function(_8f4){var sm=_8f3.getSearchModel(_8f4);var tm=_8f3.getTagModel(_8f4);var term=_8f2.getObject("term",sm);var _8f5=_8f2.getObject("scope",sm);if(term||_8f5||tm){var _8f6=_8f2.getObject(_8f1.CONTENT_SEARCH,this.latest,new kc.model.Search());if(term){_8f6.term=term;}if(_8f5){_8f6.scope=_8f5;}if(tm){_8f6.tag=tm;}this.latest[_8f1.CONTENT_SEARCH]=_8f6;}},_browserStateChanged:function(_8f7){this.browserState=_8f7;},_contentChanged:function(_8f8,_8f9,_8fa){this.latest[_8f9]=_8fa;this.active=_8f9;if(_8f9===_8f1.CONTENT_COLLECTION){this.collectionContext=_8fa;}else{if(_8f9===_8f1.CONTENT_SEARCH||_8f9===_8f1.CONTENT_WELCOME){this.collectionContext=undefined;}}if(_8f1.debugMode){}},_tocChanged:function(_8fb){this.tocArray=_8fb;delete this.latest[_8f1.CONTENT_TOPIC];if(!this.tocTreeModels){this.tocTreeModels={};}var _8fc={};_8ec.forEach(this.tocArray,lang.hitch(this,function(tc){var id=_8f2.getObject(_8f1.TOC_ID,tc);var _8fd=this.tocTreeModels[id];if(_8fd){_8fc[id]=_8fd;}}));this.tocTreeModels=_8fc;if(!this.tocDetails){this.tocDetails={};}var _8fe={};_8ec.forEach(this.tocArray,lang.hitch(this,function(tc){var id=_8f2.getObject(_8f1.TOC_ID,tc);var _8ff=this.tocDetails[id];if(_8ff){_8fe[id]=_8ff;}}));this.tocDetails=_8fe;if(_8f1.debugMode){}},_onAction:function(_900,_901,_902,_903){if(_8f1.CONTENT_SEARCH===_900){switch(_901){case _8f1.ACTION_PRODUCT_COLLECTION_REMOVE:this._removeProductCollection(_903);break;case _8f1.ACTION_PRODUCT_COLLECTION_ADD:this._addProductCollection(_903);break;case _8f1.ACTION_SEARCH_OPTION_APPLY:this._applySearchOption(_903);break;}}},_addProductCollection:function(_904){var _905=_904.id;var _906=_8f2.getObject(_8f1.CONTENT_SEARCH,this.latest,new kc.model.Search());var _907=_8f2.getObject("scope",_906,[]);var tag=_8f2.getObject("tag",_906);if(null==tag||""==tag){tag=new kc.model.Tag();}var _908=_8f2.getObject("product",tag,[]);if(this.searchOption.productTag==false||this.searchOption.productTagWithScope==true){if(_8ec.indexOf(_907,_905)==-1){_907.push(_905);}}if(this.searchOption.productTag==true){if(_8ec.indexOf(_908,_905)==-1){_908.push(_905);}}_8f2.setObject("scope",_907,_906);_8f2.setObject("product",_908,tag);_8f2.setObject("tag",tag,_906);this.latest[_8f1.CONTENT_SEARCH]=_906;},_removeProductCollection:function(_909){var _90a=_909.id;var _90b=_8f2.getObject(_8f1.CONTENT_SEARCH,this.latest,new kc.model.Search());var _90c=_8f2.getObject("scope",_90b,[]);var tag=_8f2.getObject("tag",_90b);if(null==tag||""==tag){tag=new kc.model.Tag();}var _90d=_8f2.getObject("product",tag,[]);if(this.searchOption.productTag==false||this.searchOption.productTagWithScope==true){var _90e=_8ec.indexOf(_90c,_90a);if(_90e>-1){_90c.splice(_90e,1);}}if(this.searchOption.productTag==true){var _90f=_8ec.indexOf(_90d,_90a);if(_90f>-1){_90d.splice(_90f,1);}}_8f2.setObject("scope",_90c,_90b);_8f2.setObject("product",_90d,tag);_8f2.setObject("tag",tag,_90b);this.latest[_8f1.CONTENT_SEARCH]=_90b;},_tocStoreCreated:function(_910,_911){if(!this.tocTreeModels){this.tocTreeModels={};}var id=_8f2.getObject(_8f1.TOC_ID,_910);this.tocTreeModels[id]=_911;if(_8f1.debugMode){}},_tocNavigationChanged:function(_912,_913){if(!this.tocDetails){this.tocDetails={};}var id=_8f2.isString(_912)?_912:_8f2.getObject(_8f1.TOC_ID,_912);this.tocDetails[id]=_913;if(_8f1.debugMode){}},_tocNavigationChangedDeferredLoader:function(_914,_915){if(!this.tocDetailsDeferreds){this.tocDetailsDeferreds={};}var id=_8f2.getObject(_8f1.TOC_ID,_914);if(id){if(_915===undefined){delete this.tocDetailsDeferreds[id];}else{this.tocDetailsDeferreds[id]=_915;if(_8f1.debugMode){}}}},_applySearchOption:function(_916){this.searchOption.autoContext=_8f2.getObject(_8f1.SEARCH_OPTION_AUTOCONTEXT,_916);this.searchOption.productTag=_8f2.getObject(_8f1.SEARCH_OPTION_PRODUCTTAG,_916);this.searchOption.productTagWithScope=_8f2.getObject(_8f1.SEARCH_OPTION_PRODUCTTAGWITHSCOPE,_916);},_feedbackDataLoaded:function(data){this.lastFeedbackData=data;},getSearchOption:function(){return this.searchOption;},getActiveContentName:function(){return this.active;},getActiveContentType:this.getActiveContentName,getLatestContentModel:function(_917){return this.latest[_917];},setLatestContentModel:function(_918,_919){this.latest[_918]=_919;},getNavigationTreeModels:function(){return this.tocArray;},getActiveNavigationTreeModel:function(){var len=_8f2.getObject("length",this.tocArray,0);if(len>0){var toc=this.tocArray[len-1];if(toc.id&&toc.id.indexOf(_8f1.TOC_FAMILY)>-1){if(len>1){toc=this.tocArray[len-2];}else{toc=undefined;}}return toc;}return undefined;},getCollectionContext:function(){return this.collectionContext;},setCollectionContext:function(_91a){this.collectionContext=_91a;},getLastFeedbackData:function(){return this.lastFeedbackData;},getExpansionState:function(_91b){if(!this.tocDetails){return undefined;}var id=_8f2.getObject(_8f1.TOC_ID,_91b);if(id){return this.tocDetails[id];}else{return undefined;}},findExpansionPathFor:function(_91c){var id=_8f2.getObject(_8f1.TOPIC_ID,_91c);if(id){var _91d=(this.tocDetailsDeferreds?this.tocDetailsDeferreds[id]:undefined);if(_91d){return _91d;}if(_8f2.isArray(this.tocArray)){for(var i=this.tocArray.length-1;i>=0;i--){var toc=this.tocArray[i];var _91e=_8f2.getObject(_8f1.TOC_ID,toc);var _91f=this.tocDetails[_91e];if(_8f2.indexOfByProperty(_91f,_8f1.TOPIC_ID,id)>-1){return _91f;}}}}return undefined;},getChildren:function(_920){if(!_8f2.isEmpty(this.tocArray)){var id=_920.id;if(_8f2.isString(id)&&id.indexOf(_8f1.RANDOM_ID_DELIMITER)>-1){id=_8f2.stripAfter(id,_8f1.RANDOM_ID_DELIMITER)+_8f1.RANDOM_ID_DELIMITER;}var _921=[];if(this.tocArray.length>0){for(var j=0;j<this.tocArray.length;j++){_921.push(new _8ed());}}for(var i=this.tocArray.length-1;i>=0;i--){var toc=this.tocArray[i];var _922=_8f2.getObject(_8f1.TOC_ID,toc);var _923=this.tocTreeModels[_922];var _924=_8f2.getObject("store",_923);if(_924){var _925=lang.hitch(this,function(ts,i,_926,_927){var _928=_921[i];if(!_8f2.isEmpty(_926)){_923.getChildren(_926[0],lang.hitch(this,function(_929,_92a){_92a=_8ec.map(_92a,function(item){var _92b=new kc.model.Topic();_8f2.copyProperties(item,_92b,ts);return _92b;});var _92c={title:_920.title,items:_92a};_929.resolve(_92c);},_928),lang.hitch(this,function(_92d,_92e){_92d.reject({log:false});},_928));}else{_928.reject({log:false});}},_924,i);_924.fetch({query:{id:id+"*"},queryOptions:{deep:true},onComplete:_925});}else{var _92f=_921[i];_92f.reject({log:false});}}var dl=new _8ee(_921.reverse());return dl.then(function(_930){for(var k=0;k<_930.length;k++){if(_930[k][0]&&!_8f2.isEmpty(_930[k][1])){return _930[k][1];}}return undefined;});}return undefined;}});kc.state.KCState.instance=null,kc.state.KCState.getInstance=function(){if(kc.state.KCState.instance===null){kc.state.KCState.instance=new kc.state.KCState();kc.state.KCState.instance.initialize();}return kc.state.KCState.instance;};return kc.state.KCState.getInstance();});},"kc/widget/search/SearchInput":function(){require({cache:{"url:kc/widget/search/templates/SearchInput.html":"<div id=\"searchKeywordContainer\">\n\t<div class=\"searchInputboxContainer\">\n\t    <label for=\"searchInputBox\" style=\"display: none;\">${_searchInputLabel}</label>\n\t    <!-- role=\"textbox\" is a better fit for the input however JAWS and RPT have issues with it. The accessibility team suggest using role=\"combobox\" instead. All work well like this also -->\n        <input id=\"searchInputBox\" maxlength=\"200\" class=\"searchInputBox\" data-dojo-attach-point=\"_searchInputBox\" tabindex=\"0\"\n        \t\trole=\"combobox\" aria-autocomplete=\"list\" aria-haspopup=\"true\" aria-label=\"${_searchInputLabel}\" aria-describedby=\"searchTypeAheadStatus\"\n        \t\tplaceHolder=\"${_searchInputLabel}\" accesskey=\"${ACCESS_KEY_FOCUS_SEARCH}\"></input>\n        <span id=\"searchTypeAheadStatus\" role=\"status\" aria-live=\"polite\" aria-label=\"${_searchSuggestions}\" class=\"hiddenAccesible\" data-dojo-attach-point=\"_searchTypeAheadStatus\"></span>\n    </div>\n    <div data-dojo-attach-point=\"_typeaheadSearchInput\" class=\"typeaheadSearchInput\"></div>\n</div>"}});define("kc/widget/search/SearchInput",["dojo/_base/declare","kc/widget/common/KCWidget","dojo/dom-geometry","dojo/dom-class","dojo/dom-style","dojo/text!kc/widget/search/templates/SearchInput.html","dojo/string","kc/Messaging","dojo/keys","kc/Topics","kc/Constants","kc/Utils","idx/util","kc/state/StateUtils","kc/state/KCState","kc/widget/search/SearchUtils","kc/widget/search/SearchTypeAhead","kc/model/Search"],function(_931,_932,_933,_934,_935,_936,_937,_938,keys,_939,_93a,_93b,_93c,_93d,_93e,_93f){return _931("kc.widget.search.SearchInput",[_932],{templateString:_936,typeAhead:null,ACCESS_KEY_FOCUS_SEARCH:_93a.ACCESS_KEY_FOCUS_SEARCH,postCreate:function(){this.inherited(arguments);},_initializeStrings:function(){this._searchInputLabel=this.getString("SEARCH_INPUT_HINT");this._searchSuggestions=this.getString("SEARCHTYPEAHEAD_SUGGESTIONS");},_initializeConnections:function(){this.addConnection(this._searchInputBox,"onkeypress",this,"_onKeyPress");},_initializeSubscriptions:function(){this.addSubscription(_939.BROWSER_URL_CHANGE,this,"_setSearchTerm");this.addSubscription(_939.KC_SEARCH,this,function(_940,_941){if(_941&&_93b.isString(_941.term)){this._searchInputBox.value=decodeURIComponent(_941.term);}});this.addSubscription(_939.KC_FOCUS,this,function(_942){if(_942===_93a.ACTION_FOCUS_SEARCH){this._searchInputBox.focus();}});if(!!_93c.isWebKit){this.addSubscription(_939.KC_ACCESS_KEY,this,function(_943){if(_943===this.ACCESS_KEY_FOCUS_SEARCH){this._searchInputBox.focus();}});}},startup:function(){this.inherited(arguments);this.typeAhead=new kc.widget.search.SearchTypeAhead({id:"searchTypeahead",connectedNode:this._searchInputBox},this._typeaheadSearchInput);this.typeAhead.startup();},resizeSearchInputBox:function(){_933.setMarginBox(this._searchInputBox,{w:_933.getContentBox(this._searchInputBox.parentNode).w});},getSearchKeyword:function(){return _937.trim(this._searchInputBox.value);},_setSearchTerm:function(_944){var _945=_93d.getSearchModel(_944);var term=_93b.getObject("term",_945);if(term){this._searchInputBox.value=decodeURIComponent(term);}},_onKeyPress:function(e){if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){var key=e.keyCode;if(key==keys.ENTER&&!(_935.get(this.typeAhead._popupWidget.domNode,"display")!="none"&&this.typeAhead._popupWidget._searchTypeAheadMenu.focusedChild&&this.typeAhead._popupWidget._searchTypeAheadMenu.focusedChild.domNode&&_934.contains(this.typeAhead._popupWidget._searchTypeAheadMenu.focusedChild.domNode,"dijitMenuItemHover"))){this.doSearch();}}},doSearch:function(){var _946=this.getSearchKeyword();var term=encodeURIComponent(_946);if(_93f.isEmptyTerm(term)){_93f.showEmptyTermMessage();return;}var _947=_93f.getSearchScope();var tag=_93f.getSearchTag();var _948=_93f.getSearchModel(term,_947,tag);_938.publish(_939.KC_SEARCH,[_93a.SOURCE_SEARCH_SEARCH_BOX,_948]);}});});},"kc/widget/navigation/KCTOCStore":function(){define("kc/widget/navigation/KCTOCStore",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/data/ItemFileWriteStore","kc/Constants","kc/Utils","kc/controller/NavigationController"],function(_949,_94a,lang,_94b,_94c,_94d,_94e){return _949("kc.widget.navigation.KCTOCStore",_94b,{isItemLoaded:function(item){var _94f=this.getValue(item,_94c.TOC_STUB);if(_94f===true||_94f==="true"){return false;}return this.inherited(arguments);},loadItem:function(_950){var item=_950.item;var id=this.getValue(item,_94c.TOC_ID);var _951=this.getValue(item,_94c.TOC_TITLE);var _952=this.getValue(item,_94c.TOC_STUB);if(_952===true||_952==="true"){var _953=lang.hitch(this,function(_954,data){var _955=this.getValue(_954,_94c.TOC_STUB);if(_955!==true&&_955!=="true"){if(_950.onItem){_950.onItem(_954);}return;}this._processNewDataToParse(data);delete _954[_94c.TOC_STUB];delete _954[_94c.TOC_ITEMS];this._copyProperties(data,_954);this._parseItems(data,_954);this._arrayOfAllItems[_954[this._itemNumPropName]]=_954;if(_950.onItem){_950.onItem(_954);}},item);var _956=new kc.model.TOCContent({id:id,title:_951});var _957=this.getValue(item,_94c.MODEL_CONTENT_LANGUAGE);if(_957){_94d.setObject(_94c.MODEL_CONTENT_LANGUAGE,_957,_956);}var _958=this.getValue(item,_94c.TOC_CONTEXT_PATH);if(_958){_956.contextPath=_958;}_94e.lazyLoad(_956,_953,lang.hitch(this,_953,{}));}this.inherited(arguments);},_parseItems:function(data,_959){var _95a=_94d.getObject(_94c.TOC_ITEMS,_959);if(_95a===undefined){return;}if(!_94d.isArray(_95a)){_95a=[_95a];_94d.setObject(_94c.TOC_ITEMS,_95a,_959);}for(var i=0;i<_95a.length;i++){var _95b=_95a[i];if(_94d.isObject(_95b)){var _95c={parent:_959};this._copyProperties(_95b,_95c);this._processNewItemToParse(_95c,_959);var id=_95c[this._getIdentifierAttribute()];if(id===undefined){throw new Error("New TOC item doesn't have an id. Title: "+_94d.getObject(_94c.TOC_TITLE,_95c));}if(typeof this._itemsByIdentity[id]!=="undefined"){throw new Error("New TOC item collides with an existing item with id: "+id);}this._arrayOfAllItems.push(_95c);_95c[this._storeRefPropName]=this;_95c[this._itemNumPropName]=(this._arrayOfAllItems.length-1);this._itemsByIdentity[id]=_95c;_95a[i]=_95c;this._addReferenceToMap(_95c,_959,_94c.TOC_ITEMS);this._parseItems(_95b,_95c);}}},_processNewDataToParse:function(data){_94d.removeDuplicateItems(data,this,true);},_processNewItemToParse:function(_95d,_95e){},_copyProperties:function(from,to){for(p in from){if(_94d.isArray(from[p])){to[p]=from[p];}else{to[p]=[from[p]];}}},getItemById:function(id){return this._itemsByIdentity[id];},getValue:function(item,_95f,_960){if(_95f===_94c.TOC_TITLE&&this._labelAttr){return this.inherited(arguments,[item,this._labelAttr,_960]);}return this.inherited(arguments);}});});},"kc/model/Search":function(){define("kc/model/Search",["dojo/_base/declare","dojo/_base/lang","kc/model/KCModel","kc/Constants","kc/Utils","kc/model/Tag"],function(_961,lang,_962,_963,_964){return _961("kc.model.Search",[_962],{id:undefined,title:undefined,term:undefined,scope:undefined,tag:undefined,constructor:function(){if(_964.isObject(this.tag)&&!(this.tag instanceof kc.model.Tag)){this.tag=new kc.model.Tag(this.tag);}}});});},"kc/controller/SearchController":function(){define("kc/controller/SearchController",["dojo/json","dojo/_base/array","kc/controller/Handler","kc/URIs","kc/Utils","kc/Constants","kc/Topics","dojo/_base/lang","kc/state/StateUtils","kc/widget/topic/TopicUtils"],function(json,_965,_966,URIs,_967,_968,_969,lang,_96a,_96b){return {search:function(_96c,_96d,_96e){var url=URIs.SEARCH;var _96f={};_96f.url=url;_96f.content=_96a.serializeSearchModel(_96c);lang.mixin(_96f.content,{start:_96c.start,size:_96c.size});_96f.content.locale=_968.KC_LANGUAGE;_96f.preventCache=true;_96f.timeout=_968.XHR_TIMEOUT;_96f.load=lang.hitch(this,function(_970){_96b.encodeHref(_970);if(_96d){_96d(_970);}});_96f.error=_96e;_96f.handleAs="json";_966.doXhrGet(_96f);},getSearchResultFacets:function(_971){var url=URIs.SEARCHRESULTFACET;var _972={};_972.url=url;_972.preventCache=false;_972.kcCache=true;_972.content={};_972.content.locale=_968.KC_LANGUAGE;_972.timeout=_968.XHR_TIMEOUT;_972.load=_971;_972.handleAs="json";return _966.doXhrGet(_972);},getTypeAhead:function(_973,_974,_975){var url=URIs.SUGGEST;var _976={};_976.url=url+"/"+_973;_976.preventCache=true;_976.timeout=_968.XHR_TIMEOUT;_976.load=lang.hitch(this,function(_977){_96b.encodeHref(_977);if(_974){_974(_977);}});_976.error=_975;_976.handleAs="json";return _966.doXhrGet(_976);},getProductCollections:function(_978){var url=URIs.PRODUCT_TAXONOMY;var _979={};_979.url=url;_979.preventCache=false;_979.kcCache=true;_979.content={};_979.content.locale=_968.KC_LANGUAGE;_979.timeout=_968.XHR_TIMEOUT;_979.load=lang.hitch(this,function(_97a){_967.removeDuplicateItems(_97a,_968.TOC_ID,true);if(_978){_978(_97a);}});_979.handleAs="json";return _966.doXhrGet(_979);},getSavedSearchQueries:function(_97b,_97c,_97d){return _966.doXhrGet({url:URIs.SAVED_SEARCH_QUERY,load:_97b,error:_97c,preventCache:true,timeout:_968.XHR_TIMEOUT,handleAs:"json",postSignInAction:_97d});},saveSearchQuery:function(_97e,_97f,_980){_966.doXhrPost({url:URIs.SAVED_SEARCH_QUERY,load:_97f,error:_980,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},content:_96a.serializeSearchModel(_97e),timemout:_968.XHR_TIMEOUT});},updateSavedSearch:function(_981,_982,_983){_966.doXhrPut({url:URIs.SAVED_SEARCH_QUERY,load:_982,error:_983,putData:json.stringify(_965.map(_965.filter(_981,function(_984){return _984&&_967.isObject(_984);}),function(_985){return _967.unClass(_985);})),timemout:_968.XHR_TIMEOUT,headers:{"Content-Type":"application/json"}});}};});},"kc/widget/topic/TopicNavBrowserStateFilter":function(){define("kc/widget/topic/TopicNavBrowserStateFilter",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","kc/Constants","kc/Utils","kc/widget/topic/TopicUtils","kc/state/BrowserStateController"],function(_986,lang,_987,_988,_989,_98a,_98b){_986("kc.widget.topic.TopicNavBrowserStateFilter",null,{_initialized:false,initialize:function(){if(this._initialized){return;}_98b.addSetBrowserStateFilter(function(_98c,_98d){if(_98c===_988.CONTENT_TOPIC){if(!_98a.hasHref(_98d)){return false;}}});this._initialized=true;}});kc.widget.topic.TopicNavBrowserStateFilter.instance=null,kc.widget.topic.TopicNavBrowserStateFilter.getInstance=function(){if(kc.widget.topic.TopicNavBrowserStateFilter.instance===null){kc.widget.topic.TopicNavBrowserStateFilter.instance=new kc.widget.topic.TopicNavBrowserStateFilter();kc.widget.topic.TopicNavBrowserStateFilter.instance.initialize();}return kc.widget.topic.TopicNavBrowserStateFilter.instance;};return kc.widget.topic.TopicNavBrowserStateFilter.getInstance();});},"kc/model/Topic":function(){define("kc/model/Topic",["dojo/_base/declare","kc/model/KCModel","kc/Constants","kc/Utils"],function(_98e,_98f,_990,_991){var _992=_98e("kc.model.Topic",[_98f],{id:undefined,title:undefined,href:undefined,isProductLanding:false,isParent:false,contextPath:undefined,_hasChildren:undefined,constructor:function(){}});(function(){kc.model.Topic.extend(_991.unClass(new _98f()));})();return _992;});},"url:kc/widget/search/templates/ManageSavedSearchDialog.html":"<div class=\"manageSavedSearchDialog\">\n\t<div data-dojo-attach-point=\"_form\" data-dojo-type=\"dijit.form.Form\"></div>\n</div>","kc/widget/search/SearchPagination":function(){require({cache:{"url:kc/widget/search/templates/SearchPagination.html":"<div class=\"searchPaginationContainer\" data-dojo-attach-point=\"paginatorBar\">\n\t<table cellspacing=\"0\" cellpadding=\"0\" class=\"dojoxGridPaginator\" role=\"presentation\">\n\t\t<tr>\n\t\t\t<td class=\"dojoxGridDescriptionTd\">\n\t\t\t\t<div class=\"dojoxGridDescription\" tabindex=\"0\" data-dojo-attach-point=\"descriptionDiv\"></div>\n\t\t\t</td>\n\t\t\t<td class=\"dojoxGridPaginatorFastStep\">\n\t\t\t\t<div class=\"dojoxGridPaginatorStep\">\n\t\t\t\t\t<span data-dojo-attach-point=\"_pageNoContainer\"></span>\n\t\t\t\t\t<div class=\"searchNextPage\" id=\"sr_nextpage\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_nextPage\">${_nextPageLabel}</div>\n\t\t\t\t\t<div class=\"dojoxGridWardButton dojoxGridnextPageBtn searchNextPageIcon\" data-dojo-attach-point=\"_nextPageIcon\" title=\"${_nextPageLabel}\" aria-label=\"${_nextPageLabel}\">\n\t\t\t\t\t\t<span class=\"dojoxGridWardButtonInner\">></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</table>\n</div>"}});define("kc/widget/search/SearchPagination",["dojo/_base/declare","kc/widget/common/KCWidget","dojo/text!kc/widget/search/templates/SearchPagination.html","dojo/dom-attr","dojo/dom-style","dojo/string","dojo/dom-class","dojo/_base/html","dojo/_base/array","dojox/html/metrics","dojo/_base/lang","dojo/dom-construct","dojo/dom","dojo/window","dijit/registry","dojo/query","dijit/focus","idx/form/Link"],function(_993,_994,_995,_996,_997,_998,_999,html,_99a,_99b,lang,_99c,dom,win,_99d,_99e,_99f){return _993("kc.widget.search.SearchPagination",[_994],{templateString:_995,postCreate:function(){this.inherited(arguments);},_initializeStrings:function(){this._paginationDescTemplate=this.getString("SEARCH_PAGINATION_DESC_MESSAGE");this._nextPageLabel=this.getString("SEARCH_PAGINATION_NEXT_MESSAGE");},startup:function(){this.inherited(arguments);this._pageNoLinkArr=[];this._toggle=true;},setData:function(_9a0,next,_9a1,_9a2,_9a3){this._setPagiantionBar(_9a0,_9a1,_9a2,_9a3);this._setNextPageClass(next);},onNextPageClick:function(_9a4){this.addConnection(this._nextPage,"onClick",_9a4);},isPaginationEnable:function(){return !_999.contains(this._nextPage.domNode,"dijitDisabled");},disabledNextPage:function(_9a5){_999.toggle(this._nextPage.domNode,"dijitDisabled",_9a5);_999.replace(this._nextPageIcon,"dojoxGridnextPageBtn"+(_9a5?"Disable":""),"dojoxGridnextPageBtn"+(_9a5?"":"Disable"));},_setPageDesc:function(_9a6,_9a7){this.descriptionDiv.innerHTML=_998.substitute(this._paginationDescTemplate,[_9a6+_9a7]);},_setNextPageClass:function(next){_999.toggle(this._nextPage.domNode,"dijitDisabled",next<0);_999.replace(this._nextPageIcon,"dojoxGridnextPageBtn"+(next<0?"Disable":""),"dojoxGridnextPageBtn"+(next<0?"":"Disable"));},_setPagiantionBar:function(_9a8,_9a9,_9aa,_9ab){this._setPageDesc(_9a8,_9a9);this._cleanPageNoBar(_9a8);this._createPageNoBar(_9a8,_9a9,_9aa);this._toggleOtherPageNo(this._keepToggle);this._tableScrollToRow(_9a8,_9a9,_9ab);},_createPageNoBar:function(_9ac,_9ad,_9ae){this._pageSize=_9ae;this._maxPageNo=_9ac+20;var _9af=this._pageNoLinkArr[_9ac/_9ae];if(!_9af){_9af=new idx.form.Link({id:"sr_pageNo_"+this._maxPageNo,label:this._maxPageNo,"class":"dojoxGridInactived","role":"button"});_996.set(_9af.domNode,"aria-label",this.getString("SEARCH_RESULT_SCROLL_TO",[_9ac+1,_9ac+_9ad]));_999.toggle(_9af.domNode,"dijitDisabled",_9ac==0);this.addConnection(_9af,"onClick",this,lang.hitch(this,"_tableScrollToRow",_9ac,_9ad,false));this._pageNoLinkArr.push(_9af);_99c.place(_9af.domNode,this._pageNoContainer);}_997.set(_9af.domNode,"display","block");},_cleanPageNoBar:function(_9b0){if(_9b0==0){_99a.forEach(this._pageNoContainer.childNodes,lang.hitch(this,function(_9b1){_997.set(_9b1,"display","none");}));this._toggle=this._keepToggle=true;}},_setPageNoSelected:function(_9b2){for(var i=0;i<this._pageNoLinkArr.length;i++){_999.toggle(this._pageNoLinkArr[i].domNode,"dijitDisabled",i==_9b2);}},_tableScrollToRow:function(_9b3,_9b4,_9b5){this._setPageNoSelected(_9b3/this._pageSize);this._selectedPageNo=_9b3+20;var _9b6=dom.byId("sr_tr_"+(_9b3==0?_9b3:_9b3+_9b3/this._pageSize-1));if(_9b6){win.scrollIntoView(_9b6);_9b6.scrollIntoView(true);if(!_9b5){var _9b7=_99e(".searchEntryContainer",_9b6)[0];if(_9b7){var _9b8=_99d.getEnclosingWidget(_9b7);if(_9b8&&_9b8.isInstanceOf(kc.widget.search._SearchResultEntry)){_9b8.focus();}}else{var _9b9=_99e(".searchResultMessageForGroupHeadersTd",_9b6)[0];if(_9b9){_99f.focus(_9b9);}}}}},_toggleOtherPageNo:function(_9ba){var _9bb=typeof _9ba=="boolean"?_9ba:this._toggle;var gap=this._maxPageNo/this._pageSize-5;if(gap>0){if(!this._otherPageNoLink){this._otherPageNoLink=new idx.form.Link({id:"sr_otherPageNo",label:"...","class":"dojoxGridActived searchPageNo","role":"button"});this.addConnection(this._otherPageNoLink,"onClick",this,lang.hitch(this,"_toggleOtherPageNo"));}var _9bc=this._maxPageNo/this._pageSize;for(var i=0;i<_9bc;i++){_997.set(this._pageNoLinkArr[i].domNode,"display","block");}for(var j=1;j<=gap;j++){var _9bd=this._pageNoLinkArr[_9bb?j:_9bc-1-j].domNode;_997.set(_9bd,"display","none");}if(_9bb){_99c.place(this._otherPageNoLink.domNode,this._pageNoLinkArr[0].domNode,"after");}else{_99c.place(this._otherPageNoLink.domNode,this._pageNoLinkArr[_9bc-1].domNode,"before");}_997.set(this._otherPageNoLink.domNode,"display","block");this._keepToggle=_9bb;this._toggle=typeof _9ba=="boolean"?!_9bb:!this._toggle;}}});});},"url:kc/widget/search/templates/FacetPane.html":"<div class=\"facetPane\">\n    <div class=\"facetTitleBar\">\n        <div class=\"facetTitle displayInlineBlock\" data-dojo-attach-point=\"_facetTitle\"></div>\n        <div class=\"facetApply\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_apply\" label=\"${_applyFacetLabel}\"></div>\n    </div>\n    <div data-dojo-attach-point=\"_treePlaceholder\"></div>\n</div>\t\n","kc/model/SearchOption":function(){define("kc/model/SearchOption",["dojo/_base/declare","dojo/_base/lang","kc/model/KCModel","kc/Constants","kc/Utils","kc/model/Tag"],function(_9be,lang,_9bf,_9c0,_9c1){return _9be("kc.model.SearchOption",[_9bf],{autoContext:true,productTag:false,productTagWithScope:false,constructor:function(){}});});},"kc/widget/topic/TopicUtils":function(){define("kc/widget/topic/TopicUtils",["dojo/_base/lang","dojo/_base/array","dojo/query","dojo/dom-construct","dojo/dom-class","dojo/window","kc/Constants","kc/Utils","kc/widget/common/KCTreeUtils","dojox/json/query","kc/model/Topic","kc/model/TOCContent"],function(lang,_9c2,_9c3,_9c4,_9c5,win,_9c6,_9c7,_9c8,_9c9){kc.kcTopicUtils={isLinkable:function(item,_9ca){return this.hasHref(item,_9ca)||this.canOpenInNewTree(item,_9ca);},canOpenTopicModel:function(_9cb){var href=_9c7.getObject(_9c6.TOPIC_HREF,_9cb);if(!_9c7.isEmpty(href)){return true;}return (_9c6.generateNavPageForTopicsWithoutHref);},canOpenTopicItem:function(item,_9cc,_9cd){return this.hasHref(item,_9cc)||(_9c6.generateNavPageForTopicsWithoutHref&&!_9c8.isLeaf(item,_9cc,_9cd));},hasHref:function(item,_9ce){var href=undefined;if(_9c7.instanceOf(item,kc.model.Topic)){href=_9c7.getObject(_9c6.TOPIC_HREF,item);}else{if(_9c7.instanceOf(item,kc.model.TOCContent)){href=_9c7.getObject(_9c6.TOC_HREF,item);}else{if(_9ce&&_9ce.isItem(item)){href=_9ce.getValue(item,_9c6.TOPIC_HREF);}else{href=_9c7.getObject(_9c6.TOPIC_HREF,item);}}}return (!_9c7.isEmpty(href));},getHref:function(item,_9cf){if(_9c7.instanceOf(item,kc.model.Topic)){return _9c7.getObject(_9c6.TOPIC_HREF,item);}else{if(_9c7.instanceOf(item,kc.model.TOCContent)){return _9c7.getObject(_9c6.TOC_HREF,item);}else{if(_9cf&&_9cf.isItem(item)){return _9cf.getValue(item,_9c6.TOPIC_HREF);}else{return _9c7.getObject(_9c6.TOPIC_HREF,item);}}}return undefined;},_forbiddenCharsPattern:/[\?#&]/,encodeHref:function(data,_9d0){if(_9c7.isEmpty(data)){return data;}if(_9c7.isString(data)){if(this._forbiddenCharsPattern.test(data)){data=data.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\?/g,"%3F");}}else{if(_9c7.isObject(data)){var _9d1=this._forbiddenCharsPattern;if(!_9c7.isString(_9d0)){_9d0=_9c6.TOPIC_HREF;}_9c2.forEach(_9c7.findByProperty(data,_9d0),function(o){if(_9d1.test(o[_9d0])){o[_9d0]=o[_9d0].replace(/#/g,"%23").replace(/&/g,"%26").replace(/\?/g,"%3F");}});}}return data;},decodeHref:function(data,_9d2){if(_9c7.isEmpty(data)){return data;}if(_9c7.isString(data)){data=data.replace(/%23/g,"#").replace(/%26/g,"&").replace(/%3F/g,"?");}else{if(_9c7.isObject(data)){if(!_9c7.isString(_9d2)){_9d2=_9c6.TOPIC_HREF;}_9c2.forEach(_9c7.findByProperty(data,_9d2),function(o){o[_9d2]=o[_9d2].replace(/#/g,"%23").replace(/&/g,"%26").replace(/\?/g,"%3F");});}}return data;},_externalHrefPattern:/(f|ht)tps?:\/\//i,isExternalHref:function(href){if(_9c7.isEmpty(href)){return false;}return (href.search(this._externalHrefPattern)>-1);},getExternalHref:function(href){if(_9c7.isEmpty(href)){return href;}var _9d3=href.search(this._externalHrefPattern);if(_9d3>-1){return href.substr(_9d3);}else{return href;}},isProductLanding:function(item,_9d4){var lp=false;if(_9c7.instanceOf(item,kc.model.Topic)){lp=_9c7.getObject(_9c6.TOPIC_LANDING_PAGE,item);}else{if(_9c7.instanceOf(item,kc.model.TOCContent)){lp=_9c7.getObject(_9c6.TOC_LANDING_PAGE,item);}else{if(_9d4){lp=_9d4.getValue(item,_9c6.TOPIC_LANDING_PAGE);}}}return lp===true;},isParent:function(item,_9d5){var p=false;if(_9c7.instanceOf(item,kc.model.Topic)){p=_9c7.getObject(_9c6.TOPIC_NEW_TREE,item);}else{if(_9c7.instanceOf(item,kc.model.TOCContent)){p=_9c7.getObject(_9c6.TOC_NEW_TREE,item);}else{if(_9d5){p=_9d5.getValue(item,_9c6.TOPIC_NEW_TREE);}}}return p===true;},isStub:function(item,_9d6){var p=false;if(_9c7.instanceOf(item,kc.model.Topic)){p=_9c7.getObject(_9c6.TOC_STUB,item);}else{if(_9c7.instanceOf(item,kc.model.TOCContent)){p=_9c7.getObject(_9c6.TOC_STUB,item);}else{if(_9d6){p=_9d6.getValue(item,_9c6.TOC_STUB);}}}return p===true;},isCheckable:function(item,_9d7){if(this.isParent(item,_9d7)){return true;}if(this.isProductLanding(item,_9d7)){return true;}if(_9d7.getValues(item,"items")===0){return true;}if(_9c2.every(_9d7.getValues(item,"items"),function(_9d8){return this.isParent(_9d8,_9d7)&&this.isProductLanding(_9d8,_9d7)===false;},this)){return true;}return false;},canOpenInNewTree:function(item,_9d9){var _9da=false;if(_9c7.instanceOf(item,kc.model.Topic)){_9da=_9c7.getObject(_9c6.TOC_NEW_TREE,item);}else{if(_9c7.instanceOf(item,kc.model.TOCContent)){return true;}else{if(_9d9){_9da=_9d9.getValue(item,_9c6.TOC_NEW_TREE);}}}return _9da===true;}};return kc.kcTopicUtils;});},"dojox/string/BidiComplex":function(){define("dojox/string/BidiComplex",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/sniff","dojo/keys"],function(dojo,lang,arr,hub,has,keys){dojo.experimental("dojox.string.BidiComplex");var bdc=lang.getObject("string.BidiComplex",true,dojox);var _9db=[];bdc.attachInput=function(_9dc,_9dd){_9dc.alt=_9dd;hub.connect(_9dc,"onkeydown",this,"_ceKeyDown");hub.connect(_9dc,"onkeyup",this,"_ceKeyUp");hub.connect(_9dc,"oncut",this,"_ceCutText");hub.connect(_9dc,"oncopy",this,"_ceCopyText");_9dc.value=bdc.createDisplayString(_9dc.value,_9dc.alt);};bdc.createDisplayString=function(str,_9de){str=bdc.stripSpecialCharacters(str);var _9df=bdc._parse(str,_9de);var buf="‪"+str;var _9e0=1;arr.forEach(_9df,function(n){if(n!=null){var _9e1=buf.substring(0,n+_9e0);var _9e2=buf.substring(n+_9e0,buf.length);buf=_9e1+"‎"+_9e2;_9e0++;}});return buf;};bdc.stripSpecialCharacters=function(str){return str.replace(/[\u200E\u200F\u202A-\u202E]/g,"");};bdc._ceKeyDown=function(_9e3){var elem=has("ie")?_9e3.srcElement:_9e3.target;_9db=elem.value;};bdc._ceKeyUp=function(_9e4){var LRM="‎";var elem=has("ie")?_9e4.srcElement:_9e4.target;var str1=elem.value;var _9e5=_9e4.keyCode;if((_9e5==keys.HOME)||(_9e5==keys.END)||(_9e5==keys.SHIFT)){return;}var _9e6,_9e7;var _9e8=bdc._getCaretPos(_9e4,elem);if(_9e8){_9e6=_9e8[0];_9e7=_9e8[1];}if(has("ie")){var _9e9=_9e6,_9ea=_9e7;if(_9e5==keys.LEFT_ARROW){if((str1.charAt(_9e7-1)==LRM)&&(_9e6==_9e7)){bdc._setSelectedRange(elem,_9e6-1,_9e7-1);}return;}if(_9e5==keys.RIGHT_ARROW){if(str1.charAt(_9e7-1)==LRM){_9ea=_9e7+1;if(_9e6==_9e7){_9e9=_9e6+1;}}bdc._setSelectedRange(elem,_9e9,_9ea);return;}}else{if(_9e5==keys.LEFT_ARROW){if(str1.charAt(_9e7-1)==LRM){bdc._setSelectedRange(elem,_9e6-1,_9e7-1);}return;}if(_9e5==keys.RIGHT_ARROW){if(str1.charAt(_9e7-1)==LRM){bdc._setSelectedRange(elem,_9e6+1,_9e7+1);}return;}}var str2=bdc.createDisplayString(str1,elem.alt);if(str1!=str2){window.status=str1+" c="+_9e7;elem.value=str2;if((_9e5==keys.DELETE)&&(str2.charAt(_9e7)==LRM)){elem.value=str2.substring(0,_9e7)+str2.substring(_9e7+2,str2.length);}if(_9e5==keys.DELETE){bdc._setSelectedRange(elem,_9e6,_9e7);}else{if(_9e5==keys.BACKSPACE){if((_9db.length>=_9e7)&&(_9db.charAt(_9e7-1)==LRM)){bdc._setSelectedRange(elem,_9e6-1,_9e7-1);}else{bdc._setSelectedRange(elem,_9e6,_9e7);}}else{if(elem.value.charAt(_9e7)!=LRM){bdc._setSelectedRange(elem,_9e6+1,_9e7+1);}}}}};bdc._processCopy=function(elem,text,_9eb){if(text==null){if(has("ie")){var _9ec=document.selection.createRange();text=_9ec.text;}else{text=elem.value.substring(elem.selectionStart,elem.selectionEnd);}}var _9ed=bdc.stripSpecialCharacters(text);if(has("ie")){window.clipboardData.setData("Text",_9ed);}return true;};bdc._ceCopyText=function(elem){if(has("ie")){elem.returnValue=false;}return bdc._processCopy(elem,null,false);};bdc._ceCutText=function(elem){var ret=bdc._processCopy(elem,null,false);if(!ret){return false;}if(has("ie")){document.selection.clear();}else{var _9ee=elem.selectionStart;elem.value=elem.value.substring(0,_9ee)+elem.value.substring(elem.selectionEnd);elem.setSelectionRange(_9ee,_9ee);}return true;};bdc._getCaretPos=function(_9ef,elem){if(has("ie")){var _9f0=0,_9f1=document.selection.createRange().duplicate(),_9f2=_9f1.duplicate(),_9f3=_9f1.text.length;if(elem.type=="textarea"){_9f2.moveToElementText(elem);}else{_9f2.expand("textedit");}while(_9f1.compareEndPoints("StartToStart",_9f2)>0){_9f1.moveStart("character",-1);++_9f0;}return [_9f0,_9f0+_9f3];}return [_9ef.target.selectionStart,_9ef.target.selectionEnd];};bdc._setSelectedRange=function(elem,_9f4,_9f5){if(has("ie")){var _9f6=elem.createTextRange();if(_9f6){if(elem.type=="textarea"){_9f6.moveToElementText(elem);}else{_9f6.expand("textedit");}_9f6.collapse();_9f6.moveEnd("character",_9f5);_9f6.moveStart("character",_9f4);_9f6.select();}}else{elem.selectionStart=_9f4;elem.selectionEnd=_9f5;}};var _9f7=function(c){return (c>="0"&&c<="9")||(c>"ÿ");};var _9f8=function(c){return (c>="A"&&c<="Z")||(c>="a"&&c<="z");};var _9f9=function(_9fa,i,_9fb){while(i>0){if(i==_9fb){return false;}i--;if(_9f7(_9fa.charAt(i))){return true;}if(_9f8(_9fa.charAt(i))){return false;}}return false;};bdc._parse=function(str,_9fc){var _9fd=-1,_9fe=[];var _9ff={FILE_PATH:"/\\:.",URL:"/:.?=&#",XPATH:"/\\:.<>=[]",EMAIL:"<>@.,;"}[_9fc];switch(_9fc){case "FILE_PATH":case "URL":case "XPATH":arr.forEach(str,function(ch,i){if(_9ff.indexOf(ch)>=0&&_9f9(str,i,_9fd)){_9fd=i;_9fe.push(i);}});break;case "EMAIL":var _a00=false;arr.forEach(str,function(ch,i){if(ch=="\""){if(_9f9(str,i,_9fd)){_9fd=i;_9fe.push(i);}i++;var i1=str.indexOf("\"",i);if(i1>=i){i=i1;}if(_9f9(str,i,_9fd)){_9fd=i;_9fe.push(i);}}if(_9ff.indexOf(ch)>=0&&_9f9(str,i,_9fd)){_9fd=i;_9fe.push(i);}});}return _9fe;};return dojox.string.BidiComplex;});},"kc/widget/search/FilterPane":function(){require({cache:{"url:kc/widget/search/templates/FilterPane.html":"<div class=\"filterPane\" role=\"dialog\" aria-labelledby=\"kcFilterPanelTitle\">\n    <div class=\"filterPaneTitleBar\">\n        <span id=\"kcFilterPanelTitle\" class=\"filterPaneTitle\">${_filterPaneTitle}</span>\n        <div class=\"filterButton\">\n            <div class=\"filterApplyButton\" data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"_filterApplyButton\">${_filterApplyLabel}</div>\n            <div class=\"filterCancelButton idxSecondaryButton\" data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"_filterCancelButton\">${_filterCancelLabel}</div>\n        </div>\n        <div class=\"filterPaneTip\">${_filterPaneTip}</div>\n    </div>\n    <div class=\"filterContent\">\n        <div class=\"filterLabel\">${_productLabel}</div>\n\t\t<div data-dojo-attach-point=\"_productTreePlaceholder\" id=\"productTree\"></div>\n    </div>\n</div>\t\n"}});define("kc/widget/search/FilterPane",["dojo/_base/declare","kc/widget/common/KCWidget","kc/widget/common/_KCFocusRingMixin","dojo/text!kc/widget/search/templates/FilterPane.html","dojo/_base/lang","dojo/_base/array","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dijit/focus","kc/state/KCState","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","kc/controller/SearchController","kc/widget/common/KCTreeUtils","kc/state/StateUtils","kc/widget/search/SearchUtils","kc/widget/topic/TopicUtils","dojo/keys","kc/model/Search","kc/model/Tag","dijit/form/Button","idx/oneui/CheckBoxTree","dojo/data/ItemFileWriteStore","dijit/tree/ForestStoreModel"],function(_a01,_a02,_a03,_a04,lang,_a05,_a06,_a07,_a08,_a09,_a0a,_a0b,_a0c,_a0d,_a0e,_a0f,_a10,_a11,_a12,_a13,keys){_a01("kc.widget.search.FilterTreeNode",[idx.oneui._CheckBoxTreeNode],{postCreate:function(){this.inherited(arguments);this.connect(this.labelNode,"onclick",function(){if(!_a07.contains(this.checkboxNode.domNode,"hidden")){this.checkboxNode.click();var _a14=this.checkboxNode.get("checked");this.updateState(_a14);this.tree.focusNode(this);}else{if(this.isExpandable){if(!this.isExpanded){this.tree._expandNode(this);}else{this.tree._collapseNode(this);}}}});this.connect(this,"onload",this._setTreeNodeType());},_isCheckable:function(){var _a15=this.tree.model.store;if(_a13.isParent(this.item,_a15)){return true;}if(_a13.isProductLanding(this.item,_a15)){return true;}if(_a15.getValues(this.item,"items")===0){return true;}if(_a05.every(_a15.getValues(this.item,"items"),function(_a16){return _a13.isParent(_a16,_a15)&&_a13.isProductLanding(_a16,_a15)===false;})){return true;}return false;},_setTreeNodeType:function(){if(this.getIdentity()!==""&&!this._isCheckable()){_a07.add(this.checkboxNode.domNode,"hidden");this.checkboxNode.set("disabled",true);}},_labelKeyPressHandler:function(evt){var dk=keys;if(this.checkboxNode.disabled&&(evt.charOrCode==dk.SPACE||evt.charOrCode==dk.ENTER||evt.charOrCode===" ")){if(this.isExpandable){if(!this.isExpanded){this.tree._expandNode(this);}else{this.tree._collapseNode(this);}}}else{this.inherited(arguments);}}});return _a01("kc.widget.search.FilterPane",[_a02,_a03],{templateString:_a04,_productTree:null,focus:function(){if(this._productTree&&this._productTree.lastFocused){_a09.focus(this._productTree.lastFocused.labelNode);}},postCreate:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);},_initializeStrings:function(){this._filterPaneTitle=this.getString("FILTER_PANE_TITLE");this._filterApplyLabel=this.getString("ACTION_DONE");this._filterCancelLabel=this.getString("ACTION_CANCEL");this._filterPaneTip=this.getString("FILTER_PANE_TIP");this._productLabel=this.getString("FILTER_PRODUCT_LABEL");},_initializeConnections:function(){this.addConnection(this._filterApplyButton,"onclick",this,"_doSearch");this.addConnection(this._filterCancelButton,"onclick",this,"onCancel");},_initializeSubscriptions:function(){this.addSubscription(_a0c.CONSOLE_FILTER,this,"_setProduct");},_createFilter:function(){var _a17=lang.hitch(this,function(data){this._renderFilter(data);});_a0f.getProductCollections(_a17);},_renderFilter:function(data){this._createTree(data,"productTree");},_createTree:function(data,_a18){var _a19=new dojo.data.ItemFileWriteStore({data:data});var _a1a=new dijit.tree.ForestStoreModel({rootId:"",store:_a19,childrenAttrs:["items"]});this._productTree=new idx.oneui.CheckBoxTree({model:_a1a,persist:false,showRoot:false,label:this._productLabel,onLoad:lang.hitch(this,function(){_a09.focus(this._productTree.lastFocused.labelNode);this._setInitialExpansion(this._productTree);this._setProductInfo();}),_createTreeNode:function(args){return new kc.widget.search.FilterTreeNode(args);},getLabelClass:function(item,_a1b){return "filterPaneCheckBoxTreeLabel";}},_a18);this._productTree.startup();_a06.set(this._productTree.rootNode.containerNode,"aria-label",this._filterPaneTitle+" "+this._filterPaneTip);_a06.set(this._productTree.rootNode.containerNode,"aria-multiselectable","true");},_setInitialExpansion:function(tree){var _a1c=tree.rootNode.getChildren();if(_a1c.length&&_a1c.length<5){_a05.forEach(_a1c,function(_a1d){tree._expandNode(_a1d,false);});}},_setProduct:function(){if(!this._productTree){this._createFilter();}else{this._setProductInfo();}},_setProductInfo:function(){this._productTree.toggleNode(this._productTree.rootNode,false);var _a1e=_a0e.getObject("scope",_a0a.getLatestContentModel(_a0d.CONTENT_SEARCH));var tag=_a0e.getObject("tag",_a0a.getLatestContentModel(_a0d.CONTENT_SEARCH));var _a1f=null;if(tag){_a1f=_a0e.getObject("product",tag);}var _a20=null;if(_a1f&&_a1f.length){_a20=_a1f;}else{if(_a1e&&_a1e.length){_a20=_a1e;}}if(_a20){var _a21=[];_a05.forEach(_a20,function(_a22){var item=this._productTree.model.store._getItemByIdentity(_a22);if(item){var _a23=_a10.getParentChain(item,this._productTree.model.store);var path=_a05.map(_a23,function(p){return _a10.getIdentity(p,this._productTree.model.store);},this);path.unshift(this._productTree.model.rootId);_a21.push(path);}},this);this._productTree.set("paths",_a21).addCallback(lang.hitch(this,_a24));}function _a24(_a25){var _a26=_a05.filter(_a25,function(arr){return arr[0];});_a05.forEach(_a26,function(arr){var node=arr[1];try{if(node){this._productTree.toggleNode(node,true);}}catch(error){}},this);};},_getSelectedProducts:function(){if(!this._productTree){return [];}var _a27=[];var _a28=this._productTree.dndController.getSelectedTreeNodes();_a05.forEach(_a28,function(node){if(!_a07.contains(node.checkboxNode.domNode,"hidden")&&node!=this._productTree.rootNode){var _a29=node.getParent();if(!(_a29&&_a29.checkboxNode.get("checked")==true)||(_a29.checkboxNode.get("checked")==true&&_a07.contains(_a29.checkboxNode.domNode,"hidden"))){if(node.item.id){var _a2a=node.item.id[0];_a27.push(_a2a);}}}},this);return _a27;},_doSearch:function(){var term=_a12.getSearchTerm();var tag=_a12.getSearchTag();var _a2b=this._getSelectedProducts();tag.product=_a2b;var _a2c=_a12.getSearchModel(term,_a2b,tag);var args=[_a0d.CONTENT_SEARCH,_a0d.ACTION_PRODUCT_COLLECTION_APPLY,{},_a2c];_a0b.publish(_a0c.KC_ACTION,args);_a0b.publish(_a0c.KC_SEARCH,[_a0d.SOURCE_SEARCH_FILTER_PANE,_a2c]);_a0b.publish(_a0c.KC_FOCUS,[_a0d.ACTION_FOCUS_SEARCH]);},onCancel:function(){_a0b.publish(_a0c.CONSOLE_CONTENT,[]);_a0b.publish(_a0c.KC_FOCUS,[_a0d.ACTION_FOCUS_FILTER_ROW]);}});});},"kc/widget/navigation/KCTOCStoreModel":function(){define("kc/widget/navigation/KCTOCStoreModel",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","kc/Constants","kc/Utils","dijit/tree/ForestStoreModel"],function(_a2d,_a2e,lang,_a2f,_a30,_a31){return _a2d("kc.widget.navigation.KCTOCStoreModel",_a31,{mayHaveChildren:function(item){var _a32=this.store.getValue(item,_a2f.TOC_STUB);if(_a32===true||_a32==="true"){return true;}return this.inherited(arguments);},onNewItem:function(item,_a33){this.inherited(arguments);}});});},"url:kc/widget/search/templates/SaveSearchQueryDialog.html":"<div class=\"saveSearchQueryDialogContainer\">\n\t<div data-dojo-attach-point=\"_loading\" class=\"loading\"></div>\n\t<table data-dojo-attach-point=\"_dialog\" class=\"saveSearchQueryDialog\" style=\"display:none\" role=\"presentation\">\n\t\t<tbody>\n\t\t\t<tr class=\"headOverride\">\n\t\t\t\t<td class=\"idxSignIcon idxWarnIcon\"></td>\n\t\t\t\t<td colspan=\"2\">${_saveSearchQueryDialogWarningMessage}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td></td>\n\t\t\t\t<td class=\"searchNameLabel\">${_saveSearchQueryDialogSearchNameLabel}</td>\n\t\t\t\t<td>\n\t\t\t\t\t<input maxlength=\"60\" data-dojo-attach-point=\"_searchNameTextBox\" data-dojo-type=\"idx.oneui.form.TextBox\" data-dojo-props=\"trim: true, required: true\" label=\"${_saveSearchQueryDialogSearchNameLabel}\"/>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr class=\"bottomNormal\">\n\t\t\t\t<td></td>\n\t\t\t\t<td></td>\n\t\t\t\t<td>\n\t\t\t\t\t<p class=\"saveSearchQueryDialogNormalMessage\" data-dojo-attach-point=\"_saveSearchQueryDialogNormalMessage\"></p>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr class=\"bottomOverride\">\n\t\t\t\t<td></td>\n\t\t\t\t<td colspan=\"2\" data-dojo-attach-point=\"_saveSearchQueryDialogOverrideSearchQueryField\" class=\"saveSearchQueryDialogOverrideSearchQueryField\"></td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</div>","kc/widget/search/FacetPane":function(){require({cache:{"url:kc/widget/search/templates/FacetPane.html":"<div class=\"facetPane\">\n    <div class=\"facetTitleBar\">\n        <div class=\"facetTitle displayInlineBlock\" data-dojo-attach-point=\"_facetTitle\"></div>\n        <div class=\"facetApply\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_apply\" label=\"${_applyFacetLabel}\"></div>\n    </div>\n    <div data-dojo-attach-point=\"_treePlaceholder\"></div>\n</div>\t\n"}});define("kc/widget/search/FacetPane",["dojo/_base/declare","dojo/_base/lang","kc/widget/common/KCWidget","dojo/text!kc/widget/search/templates/FacetPane.html","dojo/dom-attr","dojo/dom-construct","dojo/dom-class","dojo/dom-style","kc/Messaging","kc/Topics","kc/Constants","kc/widget/search/SearchUtils","kc/Utils","idx/form/Link","dijit/tree/ForestStoreModel","kc/widget/search/FacetTree","kc/model/Search"],function(_a34,lang,_a35,_a36,_a37,_a38,_a39,_a3a,_a3b,_a3c,_a3d,_a3e,_a3f){return _a34("kc.widget.search.FacetPane",[_a35],{templateString:_a36,title:"",facetType:"",store:undefined,_tree:undefined,postCreate:function(){this.inherited(arguments);},_initializeStrings:function(){this._applyFacetLabel=this.getString("ACTION_APPLY");},_initializeConnections:function(){this.addConnection(this._apply,"onclick",this,"_applyFacet");},startup:function(){this.inherited(arguments);if(this.title){_a37.set(this._facetTitle,"innerHTML",this.title);}this._createFacet();},_createFacet:function(){if(this.tree===undefined){var _a40=new dijit.tree.ForestStoreModel({store:this.store,childrenAttrs:["items"]});this._tree=new kc.widget.search.FacetTree({showRoot:false,model:_a40,autoExpand:true,selectedFacets:[],openOnClick:true});this._tree.onLoad=lang.hitch(this,"setSelectedFacetItems");this._tree.startup();_a39.add(this._tree.domNode,"facetTree");_a38.place(this._tree.domNode,this._treePlaceholder,"replace");}},setSelectedFacetItems:function(){var tag=_a3e.getSearchTag();this._tree.updateFacets(lang.clone(_a3f.getObject(this.facetType,tag,[])));},_applyFacet:function(){var _a41=this._tree.getSelectedFacets();var term=_a3e.getSearchTerm();var _a42=_a3e.getSearchScope();var tag=lang.clone(_a3e.getSearchTag());tag[this.facetType]=_a41;var _a43=new kc.model.Search({term:term,scope:_a42,tag:tag});var args=[_a3d.CONTENT_SEARCH,_a3d.ACTION_SEARCH_FACET_APPLY,{},_a43];_a3b.publish(_a3c.KC_ACTION,args);_a3b.publish(_a3c.KC_SEARCH,[_a3d.SOURCE_NAVIGATION_SEARCH_FACETS,_a43]);}});});},"url:kc/widget/search/templates/SearchResultFacets.html":"<div>\n\t<div class=\"searchResultFacet\" data-dojo-attach-point=\"_dateFacet\">\n\t    <div class=\"searchResultFacetList\">\n\t        <div class=\"overallItemContainer\">\n\t            <div class=\"facetCategory\">${_searchResultFacetDateLabel}</div>\n\t\t        <div data-dojo-attach-point=\"_dateFacetList\"></div>\n\t\t    </div>\n\t\t</div>\n\t</div>\n\t<!-- task 55802, Removing \"info type\" from KC 1. 5 search results , will enable this function in future version -->\n\t<!--\n\t<div class=\"searchResultFacet\" data-dojo-attach-point=\"_infoTypeFacet\">\n\t\t<div class=\"searchResultFacetList\">\n\t\t\t<div class=\"searchResultFacetOpenLink\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_moreTypeFacets\" title=\"${_moreFacetsLabel}\" label=\"&nbsp;\"></div>\n\t\t\t<div class=\"overallItemContainer\">\n\t\t\t\t<div class=\"facetCategory\">${_searchResultFacetContentTypeLabel}</div>\n\t\t\t\t<div data-dojo-attach-point=\"_infoTypeFacetList\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t -->\n\t<div class=\"searchResultFacet\" data-dojo-attach-point=\"_taskFacet\">\n\t\t<div class=\"searchResultFacetList\">\n\t\t\t<div class=\"searchResultFacetOpenLink\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_moreTaskFacets\" title=\"${_moreFacetsLabel}\"><label class=\"hidden\">${_moreFacetsLabel}</label></div>\n\t\t\t<div class=\"overallItemContainer\">\n\t\t\t\t<div class=\"facetCategory\">${_searchResultFacetTaskLabel}</div>\n\t\t\t\t<div data-dojo-attach-point=\"_taskFacetList\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"searchResultFacet\" data-dojo-attach-point=\"_osFacet\">\n\t\t<div class=\"searchResultFacetList\">\n\t\t\t\t<div class=\"searchResultFacetOpenLink\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_moreOSFacets\" title=\"${_moreFacetsLabel}\"><label class=\"hidden\">${_moreFacetsLabel}</label></div>\n\t\t\t\t<div class=\"overallItemContainer\">\n\t\t\t\t\t<div class=\"facetCategory\">${_searchResultFacetOSLabel}</div>\n\t\t\t\t\t<div data-dojo-attach-point=\"_osFacetList\"></div>\n\t\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>","url:kc/frame/templates/Navigation.html":"<div class=\"navigationFrameContent\" role=\"tablist\">\n \n\t<div class=\"navigationPane tocPane\" data-dojo-type=\"idx.layout.TitlePane\" data-dojo-attach-point=\"_navigationPane\">\n\t\t<div class=\"hidden toc\" data-dojo-type=\"kc.widget.navigation.TOC\" data-dojo-attach-point=\"_toc\"></div>\t\n\t</div>\t\n\t\n\t<div class=\"navigationPane collectionsContainer\" data-dojo-type=\"idx.layout.TitlePane\" data-dojo-attach-point=\"_myCollectionsPane\">\n\t\t<div class=\"hidden collections\" data-dojo-type=\"kc.widget.collection.Collections\" data-dojo-attach-point=\"_collections\"></div>\n\t</div>\n\n\t<div class=\"navigationPane searchResultsContainer\" data-dojo-type=\"idx.layout.TitlePane\" data-dojo-attach-point=\"_searchResultsPane\">\n\t\t<div class=\"hidden searchResultFacets\" data-dojo-type=\"kc.widget.search.SearchResultFacets\" data-dojo-attach-point=\"_searchResultFacets\"></div>\t\t\n\t</div>\n\t\n\t<a data-dojo-attach-point=\"focusAccessKey\" accesskey=\"${ACCESS_KEY_FOCUS_NAVIGATION}\" tabindex=\"-1\" style=\"display:none;\"></a>\n</div>\n","kc/frame/Header":function(){require({cache:{"url:kc/frame/templates/Header.html":"<div class=\"headerFrameContent idxBanner\">\n\t<div class=\"idxBannerInnerContainer\">\n\t\t<div data-dojo-attach-point=\"_menuContainer\" class=\"menuContainer clickable floatLeading\">\n\t\t\t<span data-dojo-attach-point=\"_logo\" id=\"ibmLogo\" class=\"headerLogo displayInlineBlock ibm-intercept-exit-survey\" tabindex=\"0\" role=\"link\" title=\"{{ibmLogo}}\"></span>\n\t\t\t<span data-dojo-attach-point=\"_ibmMenuDropdown\" class=\"ibmMenuArrowButtonInner  dijitArrowButtonInner displayInlineBlock\" tabindex=\"0\" aria-label=\"{{ibmmenu}}\" role=\"button\">\n\t\t\t\t<span>▼</span>\n\t\t\t</span>\n  \t\t\t<ul role=\"menu\" data-dojo-attach-point=\"_ibmMenu\" id=\"ibmMenu\">\n  \t\t\t\t<li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{analytics}}\" class=\"analytics ibm-intercept-exit-survey\" data-dojo-attach-point=\"_analyticsLink\">{{analytics}}</a></li>\n  \t\t\t\t<li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{cloud}}\" class=\"cloud ibm-intercept-exit-survey\" data-dojo-attach-point=\"_cloudLink\">{{cloud}}</a></li>\n  \t\t\t\t<li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{commerce}}\" class=\"commerce ibm-intercept-exit-survey\" data-dojo-attach-point=\"_commerceLink\">{{commerce}}</a></li>\n  \t\t\t\t<li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{mobilefirst}}\" class=\"mobilefirst ibm-intercept-exit-survey\" data-dojo-attach-point=\"_mobilefirstLink\">{{mobilefirst}}</a></li>\n  \t\t\t\t<li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{security}}\" class=\"security ibm-intercept-exit-survey\" data-dojo-attach-point=\"_securityLink\">{{security}}</a></li>\n  \t\t\t\t<li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{watson}}\" class=\"watson ibm-intercept-exit-survey\" data-dojo-attach-point=\"_watsonLink\">{{watson}}</a></li>\n  \t\t\t\t<li class=\"menu-divider\" tabindex=\"0\"></li>\n\t\t\t    <li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{products_and_solutions}}\" class=\"products_and_solutions ibm-intercept-exit-survey\" data-dojo-attach-point=\"_products_and_solutionsLink\">{{products_and_solutions}}</a></li>\n\t\t\t    <li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{services}}\" class=\"services ibm-intercept-exit-survey\" data-dojo-attach-point=\"_servicesLink\">{{services}}</a></li>\n\t\t\t    <li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{industries}}\" class=\"industries ibm-intercept-exit-survey\" data-dojo-attach-point=\"_industriesLink\">{{industries}}</a></li>\n\t\t\t    <li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{support}}\" class=\"support ibm-intercept-exit-survey\" data-dojo-attach-point=\"_supportLink\">{{support}}</a></li>\n\t\t\t    <li><a href='javascript:void(0);' role=\"menuitem\" title=\"{{account}}\" class=\"account ibm-intercept-exit-survey\" data-dojo-attach-point=\"_accountLink\">{{account}}</a></li>  \t\t\t\n  \t\t\t</ul>\n\t\t</div>\n\t\t<div data-dojo-attach-point=\"containerNode\" class=\"idxBannerContainer\">\n\t\t\t<span data-dojo-attach-point=\"_title\" class=\"productTitle clickable\" tabindex=\"0\">{{productTitle}}</span>\n\t\t</div>\t\t\n\t\t<div data-dojo-attach-point=\"_trailerNode\" class=\"idxBannerTrailer\">\n\t\t\t<div data-dojo-attach-point=\"_actionsContainer\" class=\"actionsContainer\">\n\t\t\t\t<div data-dojo-type=\"kc.widget.common.HealthCheckAlert\"></div>\n\n\t\t\t\t<div data-dojo-attach-point=\"_ownerContainer\" class=\"ownerContainer\">\n\t\t\t\t\t<!-- The user is signed in; display user name -->\n\t\t\t\t\t{% if owner %}\n\t\t\t\t\t\t<!-- For SSO, we don't allow sign out, so only have the label -->\n\t\t\t\t\t\t{% if disableSignOut %}\n\t\t\t\t\t\t\t<span data-dojo-attach-point=\"_username\" class=\"oneUILinkBannerText usernameLabel\">{{usernameLabel}}</span>\n\t\t\t\t\t\t<!-- For local, we allow sign out -->\n\t\t\t\t\t\t{% else %}\n\t\t\t\t\t\t\t<div data-dojo-attach-point=\"_userMenuDropDown\" \n\t\t\t\t\t\t\t\t\tdata-dojo-type=\"dijit.form.DropDownButton\"\n\t\t\t\t\t\t\t\t\ticonClass=\"idxBannerActionButtonIcon\">\n\t\t\t\t\t\t\t\t<span>{{usernameLabel}}</span>\n\t\t\t\t\t\t\t\t<div data-dojo-type=\"dijit.Menu\" data-dojo-attach-point=\"_userMenu\" style=\"display: none;\">\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_signOut\" label=\"{{signOutLabel}}\">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{% endif %}\n\t\t\t\t\t{% else %}\n\t\t\t\t\t\t<div data-dojo-attach-point=\"_signIn\" \n\t\t\t\t\t\t\t\tdata-dojo-type=\"dijit.form.Button\"\n\t\t\t\t\t\t\t\tlabel=\"{{signInLabel}}\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{% endif %}\n\t\t\t\t</div>\n\t\t\t</div> \n\t\t</div>\n\t</div>\n</div>"}});define("kc/frame/Header",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/_base/array","dojo/_base/config","dojo/_base/window","dojo/dom-construct","dojo/dom-attr","dojo/keys","dojo/string","dojo/window","dojo/has","dojo/ready","dojo/query","dojo/io-query","dijit/_WidgetBase","kc/widget/common/KCWidget","kc/widget/common/KCWidgetDTL","dojo/text!kc/frame/templates/Header.html","kc/state/KCState","kc/Messaging","kc/Constants","kc/Topics","kc/Utils","kc/URIs","kc/controller/AuthenticationController","dojo/on","dojo/touch","dojo/dom-style","dojo/dom-class","dijit/focus","idx/oneui/Menu","idx/oneui/Menu","idx/oneui/form/Select","dojo/data/ItemFileReadStore","kc/widget/common/SignInDialog","kc/widget/common/SignInDialog2","dijit/MenuItem","dijit/layout/ContentPane","dojox/dtl/tag/logic","dijit/form/DropDownButton","dijit/form/Button","dijit/Menu","dijit/_OnDijitClickMixin","kc/widget/common/HealthCheckAlert"],function(_a44,lang,_a45,_a46,_a47,_a48,_a49,_a4a,keys,_a4b,win,has,_a4c,_a4d,_a4e,_a4f,_a50,_a51,_a52,_a53,_a54,_a55,_a56,_a57,URIs,_a58,on,_a59,_a5a,_a5b,_a5c){return _a44("kc.frame.Header",[_a51],{templateString:_a52,owner:null,sso:_a55.sso,disableSignOut:this.sso||_a55.getServerProperty("sign.out.disabled","false")==="true",productTitle:"",usernameLabel:"<missing user name>",signInLabel:"",signOutLabel:"",languageLabel:"",helpLabel:"",_signInDialog:null,postMixInProperties:function(){this.owner=_a57.getObject("displayName",_a53.user);this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this._title=new _a44([_a4f,dijit._OnDijitClickMixin],{})({},this._title);},_initializeStrings:function(){this.productTitle=_a55.PRODUCT_NAME;if(this.owner){this.usernameLabel=this.owner;this.signOutLabel=this.getString("LGI_SIGNOUT");}else{this.signInLabel=this.getString("LGI_SIGNIN");}this.analytics=this.getString("LABEL_ANALYTICS");this.cloud=this.getString("LABEL_CLOUD");this.commerce=this.getString("LABEL_COMMERCE");this.mobilefirst=this.getString("LABEL_MOBILEFIRST");this.security=this.getString("LABEL_SECURITY");this.watson=this.getString("LABEL_WATSON");this.products_and_solutions=this.getString("LABEL_PRODUCTS_AND_SOLUTIONS");this.services=this.getString("LABEL_SERVICES");this.industries=this.getString("LABEL_INDUSTRIES");this.partners=this.getString("LABEL_PARTNERS");this.support=this.getString("LABEL_SUPPORT");this.account=this.getString("LABEL_ACCOUNT");this.ibmmenu=this.getString("LABEL_IBMMENU");this.ibmLogo=this.getString("LABEL_IBM_LOGO");},_initializeConnections:function(){this._initIbmMenuConnections();this._title.connect(this._title.domNode,"ondijitclick",function(){_a54.publish(_a56.KC_WELCOME,[_a55.SOURCE_UNKNOWN]);});if(this._signIn){this.addConnection(this._signIn,"onClick",this,function(){this._onSignIn();});}if(!this.disableSignOut&&this._signOut){this.addConnection(this._signOut,"onClick",this,"_onSignOut");}},_initIbmMenuConnections:function(){this.addConnection(this._logo,"keypress",this,lang.hitch(this,function(evt){if(evt.charCode===keys.ENTER||evt.keyCode===keys.ENTER){evt.preventDefault();this._openLink(URIs.EXTERNAL_IBM_HOME);}}));this.addConnection(this._ibmMenuDropdown,"keydown",this,lang.hitch(this,function(evt){if(evt.charCode===keys.ENTER||evt.keyCode===keys.ENTER||evt.charCode===keys.SPACE||evt.keyCode===keys.SPACE||evt.keyCode===keys.DOWN_ARROW){evt.preventDefault();this.setMenuActive(true,true);}}));this.addConnection(this._menuContainer,"mouseover",this,lang.hitch(this,"setMenuActive",true,false));this.addConnection(this._ibmMenu,"mouseover",this,lang.hitch(this,"setMenuActive",true,false));this.addConnection(this._menuContainer,"mouseout",this,lang.hitch(this,"setMenuActive",false,false));this.addConnection(this._ibmMenu,"mouseout",this,lang.hitch(this,"setMenuActive",false,false));this.addConnection(this._logo,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_IBM_HOME));this.addConnection(this._ibmMenuDropdown,"onclick",this,lang.hitch(this,"setMenuActive",true,true));this.addConnection(this._analyticsLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_ANALYTICS));this.addConnection(this._cloudLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_CLOUD));this.addConnection(this._commerceLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_COMMERCE));this.addConnection(this._mobilefirstLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_MOBILEFIRST));this.addConnection(this._securityLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_SECURITY));this.addConnection(this._watsonLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_WATSON));this.addConnection(this._products_and_solutionsLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_PRODUCTS));this.addConnection(this._servicesLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_SERVICES));this.addConnection(this._industriesLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_INDUSTRIES));this.addConnection(this._partnersLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_PARTNERS));this.addConnection(this._supportLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_SUPPORT));this.addConnection(this._accountLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_ACCOUNT));var _a5d=_a4d("li a",this._ibmMenu);var _a5e=null;_a46.forEach(_a5d,function(_a5f){this.addConnection(_a5f,"keydown",this,lang.partial(this.hIbmMenuKeyDown,_a5f,_a5d));this.addConnection(_a5f,"focus",this,function(){if(_a5e){clearTimeout(_a5e);_a5e=null;}});this.addConnection(_a5f,"blur",this,function(){if(!_a5e){_a5e=setTimeout(lang.hitch(this,function(){this.setMenuActive(false,false);}),10);}});},this);},_initializeSubscriptions:function(){this.addSubscription(_a56.KC_SIGN_IN,this,"_onSignIn");this.addSubscription(_a56.KC_SIGN_IN_CANCEL,this,"_onSignInCancel");this.addSubscription(_a56.KC_SIGN_IN_SUCCESS,this,"_onSignInSuccess");},postCreate:function(){this.inherited(arguments);if(!this._signInDialog&&!this.sso){if(window.location.protocol=="https:"){this._signInDialog=new kc.widget.common.SignInDialog();}else{this._signInDialog=new kc.widget.common.SignInDialog2();}this._signInDialog.startup();}_a49.place(this._ibmMenu,_a48.body());},startup:function(){this.inherited(arguments);_a4c(lang.hitch(this,function(){if(_a5b.contains(_a48.body(),"dijit_a11y")){var img=_a49.create("img");_a4a.set(img,"src",_a55.KC_ROOT+"/js/kc/themes/images/ibmlogo_white.png");_a4a.set(img,"alt","IBM®");_a49.place(img,this._logo,"first");}}));},_onSignIn:function(_a60){if(_a53.user){return;}window.name=_a60&&_a57.isString(_a60)?_a60:"";if(this.sso){_a58.signInSSO();}else{return this._signInDialog.show();}},_onSignInCancel:function(){this._signInDialog.cancel();},_onSignInSuccess:function(){this._signInDialog._loginSuc();},_onSignOut:function(){_a58.signOut();},setMenuActive:function(_a61,_a62){if(_a61){_a5b.add(this._menuContainer,"active");_a5b.add(this._ibmMenu,"active");}else{_a5b.remove(this._menuContainer,"active");_a5b.remove(this._ibmMenu,"active");}if(_a62){_a5c.focus(this._analyticsLink);}},_openLink:function(url){_a54.publish(_a56.EXTERNAL_LINK,[_a4b.substitute(url,[_a55.KC_LANGUAGE_EXTERNAL_PATH])]);this.setMenuActive(false,false);},hIbmMenuKeyDown:function(_a63,_a64,evt){var _a65=evt.keyCode;if(_a65>34&&_a65<41){evt.preventDefault();var _a66=0,_a67=_a46.indexOf(_a64,_a63);switch(_a65){case keys.LEFT_ARROW:case keys.UP_ARROW:_a66=(_a67===0?_a64.length:_a67)-1;break;case keys.RIGHT_ARROW:case keys.DOWN_ARROW:_a66=(_a67===_a64.length-1?0:_a67+1);break;case keys.HOME:_a66=0;break;case keys.END:_a66=_a64.length-1;break;}var _a68=_a64[_a66];if(_a68){_a5c.focus(_a68);}}else{if(_a65===keys.TAB||_a65===keys.ESCAPE){evt.preventDefault();_a5c.focus(this._ibmMenuDropdown);}}}});});},"kc/widget/collection/Collection":function(){require({cache:{"url:kc/widget/collection/templates/Collection.html":"<div class=\"collection\" data-dojo-attach-point=\"_collectionContainer\">\n\t<div data-dojo-attach-point=\"_messageArea\" class=\"messageArea\">\n\t\t<span data-dojo-attach-point=\"_loadingMessage\" class=\"message dojoxGridLoading\">${_loading}</span>\n\t\t<span data-dojo-attach-point=\"_needSignIn\" class=\"message\"><span>${_needSignInMessage}</span>&nbsp;<span data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_signIn\" label=\"${_signInMessage}\"></span></span>\n\t\t<span data-dojo-attach-point=\"_errorMessage\" class=\"message\">${_errorMessage}</span>\n\t</div>\n\t\n\t<div data-dojo-attach-point=\"_contentArea\">\t\n\t\t<div class=\"hidden readOnlyArea\" data-dojo-attach-point=\"_readOnlyArea\">\n\t\t\t\t<div class=\"title displayBlock\" data-dojo-attach-point=\"_titleLabel\"></div>\n\t\t\t\t<div class=\"description displayBlock\" data-dojo-attach-point=\"_descriptionLabel\"></div>\n\t\t\t\t<div class=\"editGuide\" data-dojo-attach-point=\"_editGuide\"></div>\n\t\t</div>\n\t\t<div class=\"hidden editArea\" data-dojo-attach-point=\"_editArea\">\n\t\t\t<div data-dojo-attach-point=\"_editTitleDescriptionArea\">\t\n\t\t\t\t<h1>${_editCollectionHeader}</h1>\n\t\t\t\t<div class=\"clearBoth marginBottom5\"></div>\n\t\t\t\t<div class=\"title editableField displayInlineBlock\" title=\"${_editTitleTooltip}\" data-dojo-type=\"idx.oneui.form.TextBox\" data-dojo-attach-point=\"_title\" label=\"${_hintTitle}\" hint=\"${_hintTitle}\"\n\t\t\t\t\t\tdata-dojo-props=\"trim: true, required: true, maxlength:128, hintPosition: 'inside', labelAlignment: 'horizontal'\"></div>\n\t\t\t\t<div class=\"clearBoth marginBottom5\"></div>\n\t\t\t\t<div class=\"description editableField multilineText displayInlineBlock\" title=\"${_editDescriptionTooltip}\" data-dojo-type=\"idx.oneui.form.Textarea\" data-dojo-attach-point=\"_description\" label=\"${_hintDescription}\" hint=\"${_hintDescription}\"\n\t\t\t\t\t\tdata-dojo-props=\"trim: true, maxlength:254, hintPosition: 'inside', labelAlignment: 'horizontal'\"></div>\t\t\t\t\n\t\t\t</div>\n\t\t\t<h2>${_topicsHeader}</h2>\n\t\t\t<div data-dojo-attach-point=\"_treePlaceholder\"></div>\n\t\t</div>\n\t</div>\n</div>"}});define("kc/widget/collection/Collection",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/query","dojo/_base/Deferred","dojo/aspect","dojo/dom-class","dojo/dom-attr","dojo/_base/window","dojo/dom-construct","kc/widget/common/KCWidget","dojo/text!kc/widget/collection/templates/Collection.html","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","kc/widget/common/KCTreeUtils","kc/state/KCState","kc/controller/CollectionsController","kc/widget/collection/CollectionManager","kc/DialogManager","dojo/data/ItemFileWriteStore","dijit/tree/ForestStoreModel","kc/widget/collection/CollectionTree","idx/oneui/form/TextBox","idx/oneui/form/Textarea","idx/form/Link","kc/model/CollectionOperation","kc/widget/collection/PDFProgress"],function(_a69,lang,_a6a,_a6b,_a6c,_a6d,_a6e,_a6f,_a70,_a71,_a72,_a73,_a74,_a75,_a76,_a77,_a78,_a79,_a7a,_a7b,_a7c){return _a69("kc.widget.collection.Collection",[_a72],{templateString:_a73,_hintTitle:"",_hintDescription:"",_editTitleTooltip:"",_editDescriptionTooltip:"",_loading:"",_signInMessage:"",_needSignInMessage:"",_errorMessage:"",_clickEdit:"",_clickEditWidget:undefined,_collectionModel:undefined,_collectionModelRequest:undefined,_collectionOperations:undefined,_topics:undefined,_tree:undefined,dirty:false,_initializeStrings:function(){this._hintTitle=_a77.escapeQuotes(this.getString("COLLECTION_NAME_EDIT"));this._hintDescription=_a77.escapeQuotes(this.getString("COLLECTION_DEFAULT_DESC"));this._editTitleTooltip=this.getString("COLLECTION_NAME_EDIT");this._editDescriptionTooltip=this.getString("COLLECTION_DESC_EDIT");this._loading=this.getString("LOADINGMSG");this._signInMessage=this.getString("COLLECTION_CLICK_TO_SIGN_IN");this._needSignInMessage=this.getString("COLLECTION_NEED_SIGN_IN");this._errorMessage=this.getString("COLLECTION_ERROR");this._clickEdit=this.getString("COLLECTION_CLICK_EDIT");this._mycollections=this.getString("COLLECTION_WELCOME_TITLE");this._editCollectionHeader=this.getString("COLLECTION_EDIT_COLLECTION_HEADER");this._topicsHeader=this.getString("COLLECTION_TOPICS_HEADER");},postCreate:function(){this.inherited(arguments);_a6e.remove(this._title.domNode,"dijitInline");_a6e.remove(this._description.domNode,"dijitInline");},_initializeConnections:function(){if(_a79.user){this.addConnection(this._editTitle,"onClick",this,lang.hitch(this,"_editClicked",this._title));this.addConnection(this._editDescription,"onClick",this,lang.hitch(this,"_editClicked",this._description));this.addConnection(this._title,"onChange",this,lang.hitch(this,"_modelChanged",this._title));this.addConnection(this._description,"onChange",this,lang.hitch(this,"_modelChanged",this._description));this.addConnection(this._title,"onFocus",this,lang.hitch(this,"_textBoxFocused",this._title));this.addConnection(this._description,"onFocus",this,lang.hitch(this,"_textBoxFocused",this._description));}this.addConnection(this._signIn,"onClick",this,function(){_a74.publish(_a75.KC_SIGN_IN,[]);});},_initializeSubscriptions:function(){if(_a79.user){this.addSubscription(_a75.KC_COLLECTION,this,"_showCollection");this.addSubscription(_a75.KC_DATA_COLLECTION,this,"_collectionReceived");this.addSubscription(_a75.KC_ACTION,this,"_onAction",_a76.MESSAGING_PRIORITY_EARLY);this.addSubscription(_a75.KC_NOTIFICATION,this,"_onNotification");this.addSubscription([_a75.KC_WELCOME,_a75.KC_TOPIC,_a75.KC_SEARCH,_a75.KC_COLLECTION],this,"_checkDirtyForSave",_a76.MESSAGING_PRIORITY_EARLIEST);}},startup:function(){this.inherited(arguments);if(!_a79.user){this._showMessage("sign");}else{_a6e.add(this._contentArea,"hidden");_a6e.add(this._messageArea,"hidden");var _a7d=_a71.create("div",{innerHTML:this._clickEdit});_a6a.forEach(_a6b("a",_a7d),lang.hitch(this,function(_a7e){if("edit"===_a6f.get(_a7e,"id")){this._clickEditWidget=new idx.form.Link({"role":"button"},_a7e);this.addConnection(this._clickEditWidget,"onClick",this,lang.hitch(this,function(){var args=[_a76.CONTENT_COLLECTION,_a76.ACTION_COLLECTION_EDIT,{},this._collectionModel];_a74.publish(_a75.KC_ACTION,args);}));_a6e.add(this._clickEditWidget.domNode,"clickEditLink");}}));this._editGuide.appendChild(_a7d);}},setInitialModel:function(_a7f,_a80){this._showCollection(_a7f,_a80);},_showCollection:function(_a81,_a82){if(!_a79.user){this._showMessage("sign");}else{this.set("dirty",false);if(_a82===undefined){return;}this._collectionModel=undefined;this._collectionOperations=undefined;this._collectionModelRequest=_a82;this._topics=undefined;this._showMessage("load");this._cancelPreviousLoadRequest();this._loadRequest=_a7a.getCollection(_a82);_a6e.add(this._readOnlyArea,"hidden");_a6e.add(this._editArea,"hidden");}},_cancelPreviousLoadRequest:function(){if(this._loadRequest){this._loadRequest.cancel();this._loadRequest=undefined;}},_collectionReceived:function(data){if(_a76.STATUS_ERROR===_a77.getObject(_a76.STATUS,data)){var _a83=_a77.getObject(_a76.STATUS_ERROR,data);if(_a83&&_a83.dojoType==="cancel"){}else{_a74.publish(_a75.KC_NOTIFICATION,[_a76.CONTENT_COLLECTION,_a76.NOTIFICATION_CONTENT_NOT_AVAILABLE,this._collectionModelRequest]);this._showMessage("error");}return;}_a74.publish(_a75.KC_NOTIFICATION,[_a76.CONTENT_COLLECTION,_a76.NOTIFICATION_CONTENT_AVAILABLE,this._collectionModelRequest]);this._showMessage(undefined);var _a84=new kc.model.Collection();_a77.copyProperties(data,_a84);_a84.title=unescape(_a84.title);this._collectionModel=_a84;_a77.setObject(_a76.COLLECTION_CHECKSUM,_a77.getObject(_a76.COLLECTION_CHECKSUM,this._collectionModel),this._collectionModelRequest);_a77.setObject(_a76.COLLECTION_MOBILE,_a77.getObject(_a76.COLLECTION_MOBILE,this._collectionModel),this._collectionModelRequest);this.__setEditActionEnablement(_a7b.getPdfJob(this._collectionModel));this._showReadOnlyArea();},_editClicked:function(_a85){_a85.focus();},_textBoxFocused:function(){if(this._tree){this._tree.closeHoverCard();}},_itemChange:function(item,_a86){var id=_a78.getIdentity(item,this._tree.model.store);var t=lang.clone(this._topics);var i=_a77.indexOfByProperty(t,_a76.COLLECTION_TOPIC_INTERNAL_COLLECTION_ID,id);if(i==-1){return;}var _a87=false;switch(_a86){case _a76.ACTION_COLLECTION_OPERATION_DELETE:t.splice(i,1);_a87=true;break;case _a76.ACTION_COLLECTION_OPERATION_MOVE_UP:if(i>0){var temp=t[i];t[i]=t[i-1];t[i-1]=temp;_a87=true;}break;case _a76.ACTION_COLLECTION_OPERATION_MOVE_DOWN:var _a88=t.length;if(i<(_a88-1)){var temp=t[i];t[i]=t[i+1];t[i+1]=temp;_a87=true;}break;default:break;}if(_a87){this._topics=lang.clone(t);var _a89=new dojo.data.ItemFileWriteStore({data:{"identifier":_a76.COLLECTION_TOPIC_INTERNAL_COLLECTION_ID,"label":"title","items":t}});this._tree.model.store=_a89;this._tree.refresh();_a78.compactTree(this._tree);this._collectionOperations.push(new kc.model.CollectionOperation({id:id,operation:_a86}));this._modelChanged(this._tree);}},_modelChanged:function(_a8a){if(this._collectionModel){var _a8b=this._collectionModel;var _a8c=this._title.get("displayedValue");var _a8d=this._description.get("displayedValue");var _a8e=this._collectionOperations;var _a8f=true;if(_a77.isEmpty(_a8e)&&((_a8b.title===_a8c)||(_a77.isEmpty(_a8b.title)&&_a77.isEmpty(_a8c)))&&((_a8b.desc===_a8d)||(_a77.isEmpty(_a8b.desc)&&_a77.isEmpty(_a8d)))){_a8f=false;}this.__publishMarkDirty(_a8f);}},_showMessage:function(type){_a6e.add(this._contentArea,"hidden");_a6e.add(this._messageArea,"hidden");_a6e.add(this._loadingMessage,"hidden");_a6e.remove(this._loadingMessage,"displayInlineBlock");_a6e.add(this._needSignIn,"hidden");_a6e.add(this._errorMessage,"hidden");if(type==="load"){_a6e.remove(this._messageArea,"hidden");_a6e.remove(this._loadingMessage,"hidden");_a6e.add(this._loadingMessage,"displayInlineBlock");}else{if(type==="sign"){_a6e.remove(this._messageArea,"hidden");_a6e.remove(this._needSignIn,"hidden");}else{if(type==="error"){_a6e.remove(this._messageArea,"hidden");_a6e.remove(this._errorMessage,"hidden");}else{_a6e.remove(this._contentArea,"hidden");}}}},_showReadOnlyArea:function(){_a6e.remove(this._readOnlyArea,"hidden");_a6e.add(this._editArea,"hidden");_a6e.remove(this._editGuide,"hidden");_a71.empty(this._titleLabel);_a71.empty(this._descriptionLabel);this._titleLabel.appendChild(_a70.doc.createTextNode(this._collectionModel.title));_a6f.set(this._titleLabel,"title",this._collectionModel.title);this._descriptionLabel.appendChild(_a70.doc.createTextNode(_a77.getObject("desc",this._collectionModel,"")));_a6f.set(this._descriptionLabel,"title",_a77.getObject("desc",this._collectionModel,""));this._collectionOperations=[];this._topics=_a77.getObject(_a76.COLLECTION_TOPICS,this._collectionModel,[]);},_showEditArea:function(){if(this._collectionModel.mobile){_a6e.add(this._editGuide,"hidden");_a6e.add(this._editTitleDescriptionArea,"hidden");}else{_a6e.remove(this._editTitleDescriptionArea,"hidden");_a6e.add(this._readOnlyArea,"hidden");this._title.set("displayedValue",this._collectionModel.title);this._description.set("displayedValue",this._collectionModel.desc);}_a6e.remove(this._editArea,"hidden");this._collectionOperations=[];this._topics=_a77.getObject(_a76.COLLECTION_TOPICS,this._collectionModel,[]);_a6a.forEach(this._topics,function(t){if(t.items){delete t.items;}});var _a90=new dojo.data.ItemFileWriteStore({data:{"identifier":_a76.COLLECTION_TOPIC_INTERNAL_COLLECTION_ID,"label":"title","items":lang.clone(this._topics)}});if(this._tree===undefined){var _a91=new dijit.tree.ForestStoreModel({store:_a90,deferItemLoadingUntilExpand:true,childrenAttrs:[_a76.COLLECTION_ITEMS]});this._tree=new kc.widget.collection.CollectionTree({showRoot:false,label:this._mycollections,model:_a91,openOnClick:true});this._tree.startup();this.addConnection(_a6d.after(this._tree,"onOperation",lang.hitch(this,"_itemChange"),true));_a6e.add(this._tree.domNode,"collectionTree");_a71.place(this._tree.domNode,this._treePlaceholder,"replace");}else{this._tree.model.store=_a90;this._tree.refresh();}_a78.compactTree(this._tree);},_setDirtyAttr:function(_a92){this.dirty=(_a92===true);},_checkDirtyForSave:function(){if(_a76.CONTENT_COLLECTION===_a79.active&&this._collectionModel){if(this.dirty){var _a93=new _a6c();_a7c.showYesNoCancelDialog(this.getString("MYDOCUMENTSAVECOLLECTIONTITLE"),this.getString("COLLECTION_DIRTY_SAVE_MESSAGE"),lang.hitch(this,function(){var args=[_a76.CONTENT_COLLECTION,_a76.ACTION_COLLECTION_SAVE,{"deferred":_a93},this._collectionModel];_a74.publish(_a75.KC_ACTION,args);}),lang.hitch(this,function(){this.__toReadOnly();_a93.resolve(_a76.MESSAGING_CONTINUE_PROPAGATION);}),lang.hitch(this,function(){_a93.resolve(_a76.MESSAGING_STOP_PROPAGATION);}),true,false);return _a93;}}return true;},_checkDirtyForDiscard:function(){if(_a76.CONTENT_COLLECTION===_a79.active&&this._collectionModel){if(this.dirty){var _a94=new _a6c();_a7c.showYesNoDialog(this.getString("confirmation"),this.getString("COLLECTION_DIRTY_DISCARD_MESSAGE"),lang.hitch(this,function(){_a94.resolve(_a76.MESSAGING_CONTINUE_PROPAGATION);}),lang.hitch(this,function(){_a94.resolve(_a76.MESSAGING_STOP_PROPAGATION);}),true,true);return _a94;}}return true;},_onAction:function(_a95,_a96,_a97,_a98){if(_a76.CONTENT_COLLECTION===_a95){switch(_a96){case _a76.ACTION_COLLECTION_EDIT:this._showEditArea();break;case _a76.ACTION_COLLECTION_SAVE:if(this._collectionModel){if(!this._title.validate()&&!_a98.mobile){_a7c.showWarningDialog(this.getString("MYDOCUMENTSAVECOLLECTIONTITLE"),this.getString("COLLECTION_TITLE_REQUIRED"));return _a76.MESSAGING_STOP_PROPAGATION;}var _a99=new kc.model.Collection();_a77.setObject(_a76.COLLECTION_ID,_a77.getObject(_a76.COLLECTION_ID,this._collectionModel),_a99);_a99.title=this._title.get("displayedValue");_a99.desc=this._description.get("displayedValue");_a99.operations=this._collectionOperations;_a99.checksum=this._collectionModel.checksum;_a97["newModel"]=_a99;}else{return _a76.MESSAGING_STOP_PROPAGATION;}break;case _a76.ACTION_COLLECTION_DISCARD_CHANGES:var d=this._checkDirtyForDiscard();_a6c.when(d,lang.hitch(this,function(_a9a){if(_a9a===true||_a9a===_a76.MESSAGING_CONTINUE_PROPAGATION){this.__toReadOnly();}}));return d;case _a76.ACTION_COLLECTION_MARK_DIRTY:this.set("dirty",_a97);break;case _a76.ACTION_COLLECTION_EXPORT_PDF:if(this._collectionModel&&_a77.isEmpty(this._topics)){_a7c.showWarningDialog(this.getString("COLLECTION_EXPORT_PDF"),this.getString("COLLECTION_EXPORT_PDF_EMPTY"));return _a76.MESSAGING_STOP_PROPAGATION;}else{if(_a76.getServerProperty(_a76.SERVER_PROPERTY_KEY_JOB_MAX_JOBS_PER_USER,"1")=="1"&&!_a77.isEmpty(_a7b.getPdfJobs())){var _a9b=new _a6c();_a7c.showYesNoDialog(this.getString("confirmation"),this.getString("COLLECTION_EXPORT_PDF_OVERWRITE_EXISTING"),lang.hitch(this,function(){_a9b.resolve(_a76.MESSAGING_CONTINUE_PROPAGATION);}),lang.hitch(this,function(){_a9b.resolve(_a76.MESSAGING_STOP_PROPAGATION);}));return _a9b;}}break;}}},_onNotification:function(_a9c,_a9d,_a9e){if((_a76.ACTION_COLLECTION_DELETE===_a9d||_a76.ACTION_COLLECTION_SAVE===_a9d)&&this._collectionModel&&_a9e&&_a77.getObject(_a76.COLLECTION_ID,this._collectionModel)===_a77.getObject(_a76.COLLECTION_ID,_a9e)){this.__toReadOnly();}else{if(_a76.NOTIFICATION_PDF_JOB_CHECK===_a9d&&this._collectionModel&&_a9e&&_a77.isFunction(_a9e.isComplete)&&_a77.getObject(_a76.COLLECTION_ID,this._collectionModel)===_a77.getObject("id",_a9e)){this.__setEditActionEnablement(_a9e);}else{if(_a76.ACTION_COLLECTION_MOVE_TOPIC_TO_EXISTING===_a9d||_a9d===_a76.ACTION_COLLECTION_MOVE_TOPIC_TO_NEW){this.setInitialModel(null,this._collectionModel);}}}},__setEditActionEnablement:function(_a9f){if(_a9f){_a77.setWidgetEnabled(this._clickEditWidget,_a9f.isComplete());_a77.setWidgetTooltip(this._clickEditWidget,_a9f.isComplete()?this.getString("ACTION_EDIT"):this.getString("COLLECTION_EXPORT_PDF_CANNOT_MODIFY"));}else{_a77.setWidgetEnabled(this._clickEditWidget,true);_a77.setWidgetTooltip(this._clickEditWidget,this.getString("ACTION_EDIT"));}},__toReadOnly:function(){this._showReadOnlyArea();this.__publishMarkDirty(false);},__publishMarkDirty:function(_aa0){var args=[_a76.CONTENT_COLLECTION,_a76.ACTION_COLLECTION_MARK_DIRTY,_aa0,this._collectionModel];_a74.publish(_a75.KC_ACTION,args);}});});},"kc/widget/common/_SeparatorContextMenuMixin":function(){define("kc/widget/common/_SeparatorContextMenuMixin",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/aspect","kc/Utils","dijit/MenuSeparator"],function(_aa1,lang,_aa2,_aa3,_aa4){return _aa1("kc.widget.common._SeparatorContextMenuMixin",[],{_createContextMenuItems:function(menu){this.inherited(arguments);menu.addChild(new dijit.MenuSeparator());}});});},"dojox/json/query":function(){define("dojox/json/query",["dojo/_base/kernel","dojox","dojo/_base/array"],function(dojo,_aa5){dojo.getObject("json",true,_aa5);_aa5.json._slice=function(obj,_aa6,end,step){var len=obj.length,_aa7=[];end=end||len;_aa6=(_aa6<0)?Math.max(0,_aa6+len):Math.min(len,_aa6);end=(end<0)?Math.max(0,end+len):Math.min(len,end);for(var i=_aa6;i<end;i+=step){_aa7.push(obj[i]);}return _aa7;};_aa5.json._find=function e(obj,name){var _aa8=[];function walk(obj){if(name){if(name===true&&!(obj instanceof Array)){_aa8.push(obj);}else{if(obj[name]){_aa8.push(obj[name]);}}}for(var i in obj){var val=obj[i];if(!name){_aa8.push(val);}else{if(val&&typeof val=="object"){walk(val);}}}};if(name instanceof Array){if(name.length==1){return obj[name[0]];}for(var i=0;i<name.length;i++){_aa8.push(obj[name[i]]);}}else{walk(obj);}return _aa8;};_aa5.json._distinctFilter=function(_aa9,_aaa){var _aab=[];var _aac={};for(var i=0,l=_aa9.length;i<l;++i){var _aad=_aa9[i];if(_aaa(_aad,i,_aa9)){if((typeof _aad=="object")&&_aad){if(!_aad.__included){_aad.__included=true;_aab.push(_aad);}}else{if(!_aac[_aad+typeof _aad]){_aac[_aad+typeof _aad]=true;_aab.push(_aad);}}}}for(i=0,l=_aab.length;i<l;++i){if(_aab[i]){delete _aab[i].__included;}}return _aab;};return _aa5.json.query=function(_aae,obj){var _aaf=0;var str=[];_aae=_aae.replace(/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'|[\[\]]/g,function(t){_aaf+=t=="["?1:t=="]"?-1:0;return (t=="]"&&_aaf>0)?"`]":(t.charAt(0)=="\""||t.charAt(0)=="'")?"`"+(str.push(t)-1):t;});var _ab0="";function call(name){_ab0=name+"("+_ab0;};function _ab1(t,a,b,c,d,e,f,g){return str[g].match(/[\*\?]/)||f=="~"?"/^"+str[g].substring(1,str[g].length-1).replace(/\\([btnfr\\"'])|([^\w\*\?])/g,"\\$1$2").replace(/([\*\?])/g,"[\\w\\W]$1")+(f=="~"?"$/i":"$/")+".test("+a+")":t;};_aae.replace(/(\]|\)|push|pop|shift|splice|sort|reverse)\s*\(/,function(){throw new Error("Unsafe function call");});_aae=_aae.replace(/([^<>=]=)([^=])/g,"$1=$2").replace(/@|(\.\s*)?[a-zA-Z\$_]+(\s*:)?/g,function(t){return t.charAt(0)=="."?t:t=="@"?"$obj":(t.match(/:|^(\$|Math|true|false|null)$/)?"":"$obj.")+t;}).replace(/\.?\.?\[(`\]|[^\]])*\]|\?.*|\.\.([\w\$_]+)|\.\*/g,function(t,a,b){var oper=t.match(/^\.?\.?(\[\s*\^?\?|\^?\?|\[\s*==)(.*?)\]?$/);if(oper){var _ab2="";if(t.match(/^\./)){call("dojox.json._find");_ab2=",true)";}call(oper[1].match(/\=/)?"dojo.map":oper[1].match(/\^/)?"dojox.json._distinctFilter":"dojo.filter");return _ab2+",function($obj){return "+oper[2]+"})";}oper=t.match(/^\[\s*([\/\\].*)\]/);if(oper){return ".concat().sort(function(a,b){"+oper[1].replace(/\s*,?\s*([\/\\])\s*([^,\\\/]+)/g,function(t,a,b){return "var av= "+b.replace(/\$obj/,"a")+",bv= "+b.replace(/\$obj/,"b")+";if(av>bv||bv==null){return "+(a=="/"?1:-1)+";}\n"+"if(bv>av||av==null){return "+(a=="/"?-1:1)+";}\n";})+"return 0;})";}oper=t.match(/^\[(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)\]/);if(oper){call("dojox.json._slice");return ","+(oper[1]||0)+","+(oper[2]||0)+","+(oper[3]||1)+")";}if(t.match(/^\.\.|\.\*|\[\s*\*\s*\]|,/)){call("dojox.json._find");return (t.charAt(1)=="."?",'"+b+"'":t.match(/,/)?","+t:"")+")";}return t;}).replace(/(\$obj\s*((\.\s*[\w_$]+\s*)|(\[\s*`([0-9]+)\s*`\]))*)(==|~)\s*`([0-9]+)/g,_ab1).replace(/`([0-9]+)\s*(==|~)\s*(\$obj\s*((\.\s*[\w_$]+)|(\[\s*`([0-9]+)\s*`\]))*)/g,function(t,a,b,c,d,e,f,g){return _ab1(t,c,d,e,f,g,b,a);});_aae=_ab0+(_aae.charAt(0)=="$"?"":"$")+_aae.replace(/`([0-9]+|\])/g,function(t,a){return a=="]"?"]":str[a];});var _ab3=eval("1&&function($,$1,$2,$3,$4,$5,$6,$7,$8,$9){var $obj=$;return "+_aae+"}");for(var i=0;i<arguments.length-1;i++){arguments[i]=arguments[i+1];}return obj?_ab3.apply(this,arguments):_ab3;};});},"url:kc/frame/templates/Footer.html":"<div>\n\t<div class=\"footerFrameContent\">\t\n\t\t<div class=\"footerContent\">\n\t\t  <ul>\n\t\t    <li><a href='javascript:void(0);' title=\"${contact}\" class=\"contact ibm-intercept-exit-survey\" data-dojo-attach-point=\"_contactLink\">${contact}</a></li>\n\t\t    <li><a href='javascript:void(0);' title=\"${privacy}\" class=\"privacy ibm-intercept-exit-survey\" data-dojo-attach-point=\"_privacyLink\">${privacy}</a></li>\n\t\t    <li><a href='javascript:void(0);' title=\"${termsOfUse}\" class=\"termsOfUse ibm-intercept-exit-survey\" data-dojo-attach-point=\"_termsOfUseLink\">${termsOfUse}</a></li>\n\t\t    <li><a href='javascript:void(0);' title=\"${accessibility}\" class=\"accessibility ibm-intercept-exit-survey\" data-dojo-attach-point=\"_accessibilityLink\">${accessibility}</a></li>\n\t\t    <li><a href='javascript:void(0);' title=\"${help}\" class=\"help ibm-intercept-exit-survey\" data-dojo-attach-point=\"_helpLink\">${help}</a></li>\n\t\t    <li><a href='javascript:void(0);' title=\"${feedback}\" class=\"feedback feedbackIcon\" data-dojo-attach-point=\"_feedbackLink\">${feedback}</a></li>\n\t\t    <li><a href='javascript:void(0);' title=\"${mobileSite}\" class=\"mobileSite\" data-dojo-attach-point=\"_mobileSiteLink\">${mobileSite}</a></li>\n\t\t  </ul>\n\t\t</div>\n\t\t<div data-dojo-attach-point=\"_languageChooserContainer\" class=\"languageChooserContainer separator\">\n\t\t\t<div id=\"languageChooser\" class=\"languageChooser\" data-dojo-type=\"idx.oneui.form.Select\" data-dojo-attach-point=\"_languageChooser\" title=\"${languageLabel}\" label=\"${languageLabel}\"></div>\n\t\t</div>\n\t</div>\n</div>","idx/oneui/form/CheckBox":function(){require({cache:{"url:idx/oneui/form/templates/CheckBox.html":"<div id=\"widget_${id}\" class=\"dijitReset dijitInline idxComposite\"\n\t><div class=\"dijit dijitReset dijitInline\" role=\"presentation\" dojoAttachPoint=\"stateNode,oneuiBaseNode\"\n\t\t><input\n\t\t\t${!nameAttrSetting} type=\"${type}\" ${checkedAttrSetting}\n\t\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\t\tdojoAttachPoint=\"focusNode\"\n\t\t\tdojoAttachEvent=\"onclick:_onClick\"\n\t/></div\n\t><div class=\"idxLabel dijitInline dijitHidden\"\n\t\t><label for=\"${id}\" dojoAttachPoint=\"compLabelNode\"></label\n\t></div\n\t><div class='dijitReset dijitInline dijitValidationContainer' dojoAttachPoint=\"iconNode\"\n\t\t><div class=\"dijitValidationIcon\"><input class=\"dijitReset dijitInputField dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"/\n\t></div></div\n></div>"}});define("idx/oneui/form/CheckBox",["dojo/_base/declare","dijit/form/CheckBox","../_CssStateMixin","./_CompositeMixin","./_ValidationMixin","dojo/text!./templates/CheckBox.html"],function(_ab4,_ab5,_ab6,_ab7,_ab8,_ab9){return _ab4("idx.oneui.form.CheckBox",[_ab5,_ab6,_ab7,_ab8],{instantValidate:true,baseClass:"idxCheckBoxWrap",oneuiBaseClass:"dijitCheckBox",labelAlignment:"horizontal",templateString:_ab9,postCreate:function(){this.extension={"input":"onChange","blur":"_onBlur","focus":"_onFocus"};if(this.instantValidate){this.connect(this.focusNode,"onfocus",function(){if(this.message==""){return;}this.displayMessage(this.message);});}this.inherited(arguments);},_isEmpty:function(){return !this.get("checked");},_onBlur:function(evt){this.mouseFocus=false;this.inherited(arguments);},_setLabelAlignmentAttr:null,_setFieldWidthAttr:null,_setLabelWidthAttr:null});});},"kc/widget/search/SearchBox":function(){require({cache:{"url:kc/widget/search/templates/SearchBox.html":"<div data-dojo-attach-point=\"containerNode\">\n\t<div id=\"searchNode\" class=\"searchNode\" data-dojo-attach-point=\"searchNode\">\n\t\t<div class=\"searchNodeInner\" data-dojo-attach-point=\"searchNodeInner\">\n\t\t    <div data-dojo-type=\"kc.widget.search.SearchInput\" data-dojo-attach-point=\"_searchInput\" id=\"searchInput\" class=\"searchKeywordContainer displayInline\"></div>\n\t\t    <div data-dojo-type=\"kc.widget.search.SaveSearchQuery\" class=\"saveSearchQueryContainer\"  data-dojo-attach-point=\"saveSearchQueryContainer\"></div>\n\t\t</div>\t\t    \n    </div>\n</div>"}});define("kc/widget/search/SearchBox",["dojo/_base/declare","dojo/string","dojo/keys","dojo/dom-geometry","kc/widget/common/KCWidget","dojo/text!kc/widget/search/templates/SearchBox.html","kc/state/KCState","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","kc/model/Search","kc/widget/search/SearchInput","kc/widget/search/SaveSearchQuery"],function(_aba,_abb,keys,_abc,_abd,_abe,_abf,_ac0,_ac1,_ac2,_ac3){return _aba("kc.widget.search.SearchBox",[_abd],{templateString:_abe,_searchBtnTitle:"",_searchWidgetTitle:"",postCreate:function(){this.inherited(arguments);},_initializeStrings:function(){this._searchBtnTitle=this.getString("SEARCH_BTNTITLE");},_initializeConnections:function(){this.addConnection(window,"resize",this,"_resizeSearchInput");},_initializeSubscriptions:function(){},_resizeSearchInput:function(){var _ac4=_abc.getContentBox(this.searchNodeInner).w-_abc.getMarginBox(this.saveSearchQueryContainer.domNode).w;_abc.setMarginBox(this._searchInput.domNode,{w:(_ac4-2<0?0:_ac4-2)});this._searchInput.resizeSearchInputBox();},startup:function(){this.inherited(arguments);this._resizeSearchInput();}});});},"kc/widget/navigation/TopicTOCSynchronizer":function(){define("kc/widget/navigation/TopicTOCSynchronizer",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","kc/widget/common/_KCConnectionMixin","kc/Constants","kc/Topics","kc/Messaging","kc/state/KCState","kc/Cache","kc/Utils","kc/widget/common/KCTreeUtils","kc/widget/topic/TopicUtils","kc/controller/NavigationController","kc/model/TOCContent","kc/model/Topic"],function(_ac5,_ac6,lang,_ac7,_ac8,_ac9,_aca,_acb,_acc,_acd,_ace,_acf,_ad0,_ad1){return _ac5("kc.widget.navigation.TopicTOCSynchronizer",[_ac8],{_initializeSubscriptions:function(){this.addSubscription(_aca.KC_TOPIC,this,"_synchronize",_ac9.MESSAGING_PRIORITY_EARLY);this.addSubscription(_aca.CONSOLE_NAVIGATION_FIND_TOPIC,this,"_fetchTopicParents",_ac9.MESSAGING_PRIORITY_EARLY);},_synchronize:function(_ad2,_ad3){_acb.publish(_aca.CONSOLE_NAVIGATION_FIND_TOPIC,[_ad2,_ad3],true);},_lastSynchronizedTopic:undefined,_fetchTopicParents:function(_ad4,_ad5){if(_ad5){if(this._lastSynchronizedTopic===_ad5){return;}var href=_ace.getObject(_ac9.TOC_HREF,_ad5);if(_ac9.debugMode){}if(_ace.isEmpty(href)){return;}var _ad6=new _ac7();_acb.publish(_aca.CONSOLE_NAVIGATION_EXPANSION_DEFERRED_LOADER,[_ad5,_ad6]);this._lastSynchronizedTopic=_ad5;_ad1.loadParents(_ad5,lang.hitch(this,"_topicParentsReceived",_ad5,_ad4,_ad6),lang.hitch(this,"_topicParentsReceived",_ad5,_ad4,_ad6));}},_topicParentsReceived:function(_ad7,_ad8,_ad9,data){_acb.publish(_aca.CONSOLE_NAVIGATION_EXPANSION_DEFERRED_LOADER,[_ada]);if(!_ace.isEmpty(_acc.getActiveContentName())&&_acc.getActiveContentName()!==_ac9.CONTENT_TOPIC){return;}var _adb=_acc.getLatestContentModel(_ac9.CONTENT_TOPIC);if(!_ace.isEmpty(_adb)&&_ad7!==_adb){return;}var _adc=new kc.model.Topic(_ad7);var _ada=new kc.model.Topic();_ada.id=_ace.getObject(_ac9.TOPIC_CONTAINMENT_FOR_ID,data);if(_ac9.STATUS_ERROR===_ace.getObject(_ac9.STATUS,data)){console.error("Unable to load containment info for topic");_ad9.reject({log:false});return;}if(!_ace.isEmpty(_ada.id)){_adc.id=_ada.id;}var _add=false;var _ade=_ace.getObject(_ac9.TOC_PARENTS,data);if(_ace.isArray(_ade)&&_ade.length>0){var _adf=[];_ac6.forEach(_ade,function(_ae0){_adf.push(_ae0.id);});_acb.publish(_aca.CONSOLE_NAVIGATION_EXPANSION,[_ac9.TAXONOMY_TREE_TOC_CONTENT_ID,_adf[0]]);_acb.publish(_aca.CONSOLE_TOC,[]);var _ae1=new kc.model.TOCContent();var pp=_ade.pop();_ace.copyProperties(pp,_ae1);_ace.setObject("loadOnAdd",true,_ae1);_ac6.forEach(_ade,lang.hitch(this,function(_ae2,i){var _ae3=new kc.model.TOCContent();_ace.copyProperties(_ae2,_ae3);_acb.publish(_aca.CONSOLE_NAVIGATION_EXPANSION,[_ae3.id,_adf[i+1]]);_acb.publish(_aca.KC_TOC,[_ad8,_ae3]);if((!_ace.isEmpty(_ada.id)&&(_ada.id===_ae3.id||_ace.stripAfter(_ada.id,_ac9.RANDOM_ID_DELIMITER)===_ae3.id))||(!_ace.isEmpty(_adc.href)&&_adc.href===_ae3.href)){_ace.copyProperties(_ae2,_adc);_ace.setObject(_ac9.TOPIC_NEW_TREE,true,_adc);_adc._hasChildren=true;_add=true;}}));if((!_ace.isEmpty(_ada.id)&&(_ada.id===_ae1.id||_ace.stripAfter(_ada.id,_ac9.RANDOM_ID_DELIMITER)===_ae1.id))||(!_ace.isEmpty(_adc.href)&&_adc.href===_ae1.href)){_ace.copyProperties(pp,_adc);_ace.setObject(_ac9.TOPIC_NEW_TREE,true,_adc);_adc._hasChildren=true;_add=true;}var _ae4={identifier:"",label:""};_ace.copyProperties(data,_ae4);_ace.setObject(_ac9.TOC_ITEMS,_ace.clone(_ace.getObject(_ac9.TOC_ITEMS,data,[])),_ae4);_acd.put(_ac9.CACHE_TOC_ID_TO_TOC_DATA,_ae1.id,_ae4);}else{try{console.error("Unable to parse containment info for topic ** "+error);}catch(e){}_ad9.reject({log:false});return;}var _ae5=new kc.widget.navigation.KCTOCStore({data:data});var _ae6=lang.hitch(this,function(_ae7,_ae8){var _ae9=[];if(!_ace.isEmpty(_ada.id)){var item=_ae5.getItemById(_ada.id);if(item){var _aea=[];var _aeb=_ad0.decodeHref(_ace.getObject(_ac9.TOC_HREF,_adc));if(_aeb){_aea.push(_aeb);var cp=_ace.stripAfter(_ace.getObject(_ac9.TOPIC_CONTEXT_PATH,_adc),"/");if(cp){_aeb=cp+"/"+_ace.stripBefore(_aeb,"/");_aea.push(_aeb);}}_ace.copyProperties(item,_adc,_ae5);var _aec=_ace.getObject(_ac9.TOC_HREF,_adc);var _aed=_ad0.decodeHref(_aec);var _aee=lang.hitch(this,function(h){if(_add){return;}if(h&&_aec&&_ace.stripAfter(h,"#")===_aec){_add=true;_ace.setObject(_ac9.TOC_HREF,_ad0.encodeHref(h),_adc);}else{if(_ace.stripAfter(h,"#")===_ace.stripAfter(_aed,"#")){_add=true;}}});_ac6.forEach(_aea,_aee);if(!_add){var _aef=_ace.stripAfterLast(_ace.stripBefore(_ace.getFirstElementOfArray(_aea),"/"),".");var _af0=_ace.stripAfterLast(_ace.stripBefore(_aed,"/"),".");if(!_ace.isEmpty(_aef)&&_aef===_af0){_add=true;}}if(_add){_adc._hasChildren=!_acf.isLeaf(item,_ae5)||_ad0.isParent(item,_ae5);_ae9=_acf.getParentChain(item,_ae5);_ae9=_ac6.map(_ae9,function(item){var _af1=new kc.model.Topic();_ace.copyProperties(item,_af1,_ae5);return _af1;});}}}_acb.publish(_aca.CONSOLE_NAVIGATION_EXPANSION,[_ae1,_ae9]);_acb.publish(_aca.KC_TOC,[_ad8,_ae1]);_ad9.resolve(_ae9);deferredResolved=true;if(_ace.isEmpty(_acc.getActiveContentName())||_acc.getActiveContentName()===_ac9.CONTENT_TOPIC){var _af2=_acc.getLatestContentModel(_ac9.CONTENT_TOPIC);if(_ace.isEmpty(_af2)||_ad7===_af2){if(_add){_ace.copyProperties(_adc,_ad7);this._lastSynchronizedTopic=_adc;_acb.publish(_aca.KC_TOPIC,[_ad8,_adc]);}else{this._lastSynchronizedTopic=_ad7;_acb.publish(_aca.KC_TOPIC,[_ad8,_ad7]);}}}});var _af3=lang.hitch(this,function(_af4,_af5){console.error("Unable to parse containment info for topic ** "+_af4);_ad9.reject({log:false});});_ae5.fetch({onComplete:_ae6,onError:_af3});}});});},"url:kc/widget/common/templates/SignIn.html":"<div class=\"idxDialog\">\n\t\t<div class=\"dijitDialogTitle\">\n\t\t\t<span id=\"idx_oneui_Dialog_0_title\" dojoattachpoint=\"titleNode\" tabindex=\"-1\">${titleLabel}</span>\n\t\t</div>\n\n\n\t\t<div dojoattachpoint=\"contentWrapper\" class=\"dijitDialogPaneContentWrapper compact signInDialogPaneContentWrapper\">\n\t\t<div data-dojo-attach-point=\"_form\" data-dojo-type=\"dijit.form.Form\">\n\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" data-dojo-attach-point=\"signInGroup\" class=\"signInDialogContent\">\n\t\t\t<div class=\"floatLeading\" style=\"width: 50%\">\n\t\t\t\t<input class=\"signintext\" data-dojo-type=\"kc.widget.common.TextBoxWithoutPopup\" data-dojo-props=\"required: true\" data-dojo-attach-point=\"_username\"\n\t\t\t\t\t\ttype=\"text\" name=\"username\" id=\"username\" value=\"\" label=\"${usernameLabel}\" tabIndex=\"1\"/>\n            \t<a data-dojo-attach-point=\"_reghelp\" class=\"helpLink\" href=\"${forgotIDUrl}\" target=\"_blank\" tabIndex=\"5\">${forgotIBMIDLabel}</a>\t\t\t\t\n\t\t\t</div>\n\n\t\t\t<div class=\"floatTrailing\" style=\"width: 50%\">\n\t\t\t\t<input class=\"signintext\" data-dojo-type=\"kc.widget.common.TextBoxWithoutPopup\" data-dojo-props=\"required: true\" data-dojo-attach-point=\"_password\" autocomplete=\"off\"\n\t\t\t\t\t\ttype=\"password\" name=\"password\" id=\"password\" maxlength=\"31\" value=\"\" label=\"${passwordLabel}\" tabIndex=\"2\"/>\n\t\t\t\t<input type=\"hidden\" value=\"pwd\" name=\"login-form-type\"/>\n            \t<a data-dojo-attach-point=\"_forgot\" class=\"helpLink\" href=\"${forgotPasswordUrl}\" target=\"_blank\" tabIndex=\"6\">${forgotPasswordLabel}</a>\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"clearBoth\"></div>\n\t\t\t<a class=\"signInMsg displayBlock\" id=\"signInMsg\" dojoAttachPoint='statusNode' href='javascript:void(0);'>&nbsp;</a>\t\t\t\t\n\t\t</div>\n\t\t\n\t\t\n\t\t<div class=\"dijitDialogPaneActionBar dialogPaneActionBar\">\n\t\t\t<span class=\"idxDialogActionBarLead\">\n\t\t\t\t<a data-dojo-attach-point=\"_registerURL\" class=\"helpLink\" href=\"${registerUrl}\" target=\"_blank\" tabIndex=\"7\">${registerLabel}</a>\n\t\t\t</span>\n\n\t\t\t<span class=\"idxDialogActionBarEnd\">\t\t\t\t\n\t\t\t<div data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"_signInButton\" data-dojo-props=\"label: '${submitLabel}'\" tabIndex=\"3\">\n\t\t\t</div>\n\t\t\t<div data-dojo-type=\"dijit.form.Button\" class=\"idxSecondaryButton\" \tdata-dojo-attach-point=\"_cancelButton\" data-dojo-props=\"label: '${cancelLabel}'\" tabIndex=\"8\">\n\t\t\t</div>\n\t\t\t</span>\n\t\t</div>\n\t\t</div>\n\t\t</div>\n\t\t\n</div>","idx/form/DatePicker":function(){(function(){var _af6=function(_af7,_af8,_af9,_afa){return _af7("idx.form.DatePicker",[_af9,_afa],{formatType:"dateFormat",iconClass:"idxCalendarIcon",forceWidth:false,postMixInProperties:function(){this.inherited(arguments);this.iconAlt=this.res.idxDatePicker_iconTitle;this.iconTitle=this.res.idxDatePicker_iconTitle;},buildRendering:function(){this.inherited(arguments);_af8.addClass(this.domNode,"idxDatePicker");},startup:function(){this.inherited(arguments);this.constraints.formatLength="short";this.constraints.fullYear=true;}});};var _afb=(window["dojo"]&&dojo.version);if(_afb&&_afb.major==1&&_afb.minor==6){dojo.provide("idx.form.DatePicker");dojo.require("dijit.form.DateTextBox");dojo.require("idx.form._IconPickerMixin");_af6(dojo.declare,dojo,dijit.form.DateTextBox,idx.form._IconPickerMixin);}else{define("idx/form/DatePicker",["dojo/_base/declare","dojo/_base/html","dijit/form/DateTextBox","idx/form/_IconPickerMixin"],_af6);}})();},"kc/widget/collection/CollectionsTreeSynchronizer":function(){define("kc/widget/collection/CollectionsTreeSynchronizer",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","kc/widget/common/_KCConnectionMixin","kc/Constants","kc/Topics","kc/Messaging","kc/Cache","kc/Utils","kc/widget/common/KCTreeUtils","kc/widget/topic/TopicUtils","kc/state/KCState","kc/model/Topic","kc/model/CollectionTopic"],function(_afc,_afd,lang,_afe,_aff,_b00,_b01,_b02,_b03,_b04,_b05,_b06,_b07){return _afc("kc.widget.collection.CollectionsTreeSynchronizer",[_aff],{_tree:undefined,_collectionModel:undefined,_topicModel:undefined,_initializeSubscriptions:function(){this.addSubscription(_b01.KC_CONTENT,this,"_synchronize",_b00.MESSAGING_PRIORITY_EARLY);this.addSubscription(_b01.KC_NOTIFICATION,this,"_expandCollection");this.addSubscription(_b01.KC_ACTION,this,"_onAction");},_synchronize:function(_b08,_b09,_b0a){this._collectionModel=undefined;this._topicModel=undefined;if(_b00.CONTENT_COLLECTION===_b09&&_b0a){this._collectionModel=_b0a;}else{if(_b00.CONTENT_TOPIC===_b09&&_b0a&&_b07.getCollectionContext()){this._collectionModel=_b07.getCollectionContext();this._topicModel=_b0a;}}this.__synchronize();},__synchronize:function(){var _b0b=_b04.getObject(_b00.COLLECTION_ID,this._collectionModel);if(this._tree){if(this._topicModel&&_b0b){var _b0c=_b05.getSelectedItem(this._tree);if(_b0c){var _b0d=this._tree.model.store;var cId=_b05.getIdentity(_b0c,_b0d);var tId=_b0d.getValue(_b0c,_b00.TOPIC_ID);var _b0e=false;var _b0f=undefined;if(_b04.instanceOf(this._topicModel,kc.model.CollectionTopic)){_b0f={};var _b10=_b04.getObject(_b00.COLLECTION_ID,this._topicModel);if(_b04.isEmpty(_b10)){_b10=_b04.getObject(_b00.TOPIC_ID,this._topicModel);if(_b04.isString(_b10)&&_b10.indexOf(_b00.RANDOM_ID_DELIMITER)>-1){_b10=_b04.stripAfter(_b10,_b00.RANDOM_ID_DELIMITER)+_b00.RANDOM_ID_DELIMITER;}_b0f[_b00.TOPIC_ID]=_b10+"*";_b0e=(tId===_b10);}else{_b0f[_b00.COLLECTION_ID]=_b10;_b0e=(cId===_b10);}}else{if(_b04.instanceOf(this._topicModel,kc.model.Topic)){var _b11=lang.clone(this._topicModel);_afc.safeMixin(this._topicModel,kc.model.CollectionTopic.prototype);_b04.copyProperties(_b11,this._topicModel);_b0f={};var _b10=_b04.getObject(_b00.TOPIC_ID,this._topicModel);if(_b04.isString(_b10)&&_b10.indexOf(_b00.RANDOM_ID_DELIMITER)>-1){_b10=_b04.stripAfter(_b10,_b00.RANDOM_ID_DELIMITER)+_b00.RANDOM_ID_DELIMITER;}_b0f[_b00.TOPIC_ID]=_b10+"*";_b0e=(tId===_b10);}}if(!_b0e&&!_b04.isEmpty(_b0f)){var _b12=lang.hitch(this,function(_b13,_b14,_b15){var _b16=false;if(!_b04.isEmpty(_b14)){_b14=_afd.filter(_b14,lang.hitch(this,function(i){var _b17=_b04.getFirstElementOfArray(_b05.getParentChain(i,_b0d));var _b18=_b05.getIdentity(_b17,_b0d);return _b18===_b13;}));var item=_b04.getFirstElementOfArray(_b14);if(item){_b16=true;var path=_b05.getParentChain(item,_b0d);path=_afd.map(path,function(p){return _b05.getIdentity(p,_b0d);});path.unshift(this._tree.model.rootId);_b05.expandToPath(this._tree,[path]);}}if(!_b16){_b07.setCollectionContext(undefined);var _b19=new kc.model.Topic();_b04.copyProperties(this._topicModel,_b19);_b02.publish(_b01.KC_TOPIC,[_b00.SOURCE_NAVIGATION_COLLECTION,_b19]);}},_b0b);_b0d.fetch({query:_b0f,queryOptions:{deep:true},onComplete:_b12});}}}else{if(_b0b){var path=[[this._tree.model.rootId,_b0b]];_b05.expandToPath(this._tree,path);}else{this._tree.dndController.selectNone();}}}},_expandCollection:function(_b1a,_b1b,_b1c){if(_b1b===_b00.ACTION_COLLECTION_SAVE_TOPIC_TO_NEW||_b1b===_b00.ACTION_COLLECTION_SAVE_TOPIC_TO_EXISTING){}},_onAction:function(_b1d,_b1e,_b1f,_b20){if(_b00.CONTENT_COLLECTION===_b1d){switch(_b1e){case _b00.ACTION_COLLECTION_EDIT:break;case _b00.ACTION_COLLECTION_SAVE:case _b00.ACTION_COLLECTION_DISCARD_CHANGES:break;}}},setTree:function(tree){this._tree=tree;this.__synchronize();},destroy:function(){}});});},"kc/widget/topic/_MoveTopicContextMenuMixin":function(){define("kc/widget/topic/_MoveTopicContextMenuMixin",["dojo/_base/declare","dojo/_base/lang","kc/widget/common/_KCi18nMixin","kc/Messaging","kc/Constants","kc/Topics","dijit/MenuItem"],function(_b21,lang,_b22,_b23,_b24,_b25,_b26){return _b21("kc.widget.topic._MoveTopicContextMenuMixin",[_b22],{_createContextMenuItems:function(menu){this.inherited(arguments);menu.addChild(this._createMoveToExistingCollection());menu.addChild(this._createMoveToNewCollection());},_createMoveToExistingCollection:function(){var self=this;return new _b26({label:this.getString("COLLECTION_MOVE_TOPIC_TO_EXISTING"),onClick:function(e){lang.hitch(self,self._moveToExistingCollection)(this.getData());},onDataChange:function(){this.set("disabled",!self._canMove(this.getData()));}});},_createMoveToNewCollection:function(){var self=this;return new _b26({label:this.getString("COLLECTION_MOVE_TOPIC_TO_NEW"),onClick:function(e){lang.hitch(self,self._moveToNewCollection)(this.getData());},onDataChange:function(){this.set("disabled",!self._canMove(this.getData()));}});},_moveToExistingCollection:function(_b27){var args=[_b24.CONTENT_COLLECTION,_b24.ACTION_COLLECTION_MOVE_TOPIC_TO_EXISTING,null,_b27];_b23.publish(_b25.KC_ACTION,args);},_moveToNewCollection:function(_b28){var args=[_b24.CONTENT_COLLECTION,_b24.ACTION_COLLECTION_MOVE_TOPIC_TO_NEW,null,_b28];_b23.publish(_b25.KC_ACTION,args);},_canMove:function(data){return !!(data&&data.cId&&data.cId.indexOf("/temp/")===-1);}});});},"kc/widget/common/ToggleContainer":function(){define("kc/widget/common/ToggleContainer",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/aspect","dojo/query","dojo/keys","dojo/dom-class","dojo/dom-attr","dojo/dom-construct","dijit/registry","dijit/layout/BorderContainer","dijit/layout/ContentPane","dijit/_Widget","idx/oneui/layout/ToggleSplitter","kc/Messaging","kc/Topics"],function(_b29,_b2a,lang,_b2b,_b2c,keys,_b2d,_b2e,_b2f,_b30,_b31,_b32,_b33,_b34,_b35,_b36){return _b29("kc.widget.common.ToggleContainer",[_b31],{gutters:false,_connections:null,header:null,postMixInProperties:function(){this.inherited(arguments);this._connections=[];},buildRendering:function(){this.inherited(arguments);if(this.header){var _b37=_b30.byId(this.header);if(_b37){_b2f.place(_b37.domNode,this.domNode,"first");}}},_setupChild:function(_b38){var _b39=_b38.region;if(_b39){dijit.layout._LayoutWidget.prototype._setupChild.apply(this,arguments);_b2d.add(_b38.domNode,this.baseClass+"Pane");var ltr=this.isLeftToRight();if(_b39=="leading"){_b39=ltr?"left":"right";}if(_b39=="trailing"){_b39=ltr?"right":"left";}if((_b38.splitter||_b38.gutter||this.gutters)&&!_b38._splitterWidget){var _b3a=lang.getObject(_b38.splitter?(_b38.splitter=="toggle"?"idx.oneui.layout.ToggleSplitter":"dijit.layout._Splitter"):"dijit.layout._Gutter");var _b3b=new _b3a({id:_b38.id+"_splitter",container:this,child:_b38,region:_b39,live:this.liveSplitters});_b3b.isSplitter=true;_b3b.splitterTag=_b38.splitterTag;_b38._splitterWidget=_b3b;_b2f.place(_b3b.domNode,_b38.domNode,"after");if(_b38.splitter=="toggle"){this._attachToggleMoveListeners(_b3b);}_b3b.startup();_b2e.set(_b3b.domNode,"role","separator");}_b38.region=_b39;}},_attachToggleMoveListeners:function(_b3c){_b29.safeMixin(_b3c,{move:function(){var st=_b3c.splitterTag?_b3c.splitterTag:"";_b35.publish(_b36.TOGGLE_SPLITTER_MOVE,[st]);}});this._connections.push(_b2b.after(_b3c,"_stopDrag",function(){_b3c.move();}));this._connections.push(_b2b.after(_b3c,"_toggle",function(){_b3c.move();}));this._connections.push(_b2b.after(_b3c,"_onKeyPress",function(args){var _b3d=args.keyCode;if(_b3d==keys.LEFT_ARROW||_b3d==keys.LEFT_DPAD||_b3d==keys.RIGHT_ARROW||_b3d==keys.RIGHT_DPAD){_b3c.move();}},true));},getToggleSplitters:function(_b3e){var _b3f=_b2a.map(_b2c("[dojoattachpoint='toggleNode']",this.domNode),function(node){return dijit.getEnclosingWidget(node);});if(_b3e){return _b2a.filter(_b3f,function(_b40){return _b3e==_b40.splitterTag;});}return _b3f;},uninitialize:function(){_b2a.forEach(this._connections,function(_b41){_b41.remove();});this._connections=[];}});lang.extend(_b33,{gutter:false});});},"url:kc/widget/collection/templates/Collection.html":"<div class=\"collection\" data-dojo-attach-point=\"_collectionContainer\">\n\t<div data-dojo-attach-point=\"_messageArea\" class=\"messageArea\">\n\t\t<span data-dojo-attach-point=\"_loadingMessage\" class=\"message dojoxGridLoading\">${_loading}</span>\n\t\t<span data-dojo-attach-point=\"_needSignIn\" class=\"message\"><span>${_needSignInMessage}</span>&nbsp;<span data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_signIn\" label=\"${_signInMessage}\"></span></span>\n\t\t<span data-dojo-attach-point=\"_errorMessage\" class=\"message\">${_errorMessage}</span>\n\t</div>\n\t\n\t<div data-dojo-attach-point=\"_contentArea\">\t\n\t\t<div class=\"hidden readOnlyArea\" data-dojo-attach-point=\"_readOnlyArea\">\n\t\t\t\t<div class=\"title displayBlock\" data-dojo-attach-point=\"_titleLabel\"></div>\n\t\t\t\t<div class=\"description displayBlock\" data-dojo-attach-point=\"_descriptionLabel\"></div>\n\t\t\t\t<div class=\"editGuide\" data-dojo-attach-point=\"_editGuide\"></div>\n\t\t</div>\n\t\t<div class=\"hidden editArea\" data-dojo-attach-point=\"_editArea\">\n\t\t\t<div data-dojo-attach-point=\"_editTitleDescriptionArea\">\t\n\t\t\t\t<h1>${_editCollectionHeader}</h1>\n\t\t\t\t<div class=\"clearBoth marginBottom5\"></div>\n\t\t\t\t<div class=\"title editableField displayInlineBlock\" title=\"${_editTitleTooltip}\" data-dojo-type=\"idx.oneui.form.TextBox\" data-dojo-attach-point=\"_title\" label=\"${_hintTitle}\" hint=\"${_hintTitle}\"\n\t\t\t\t\t\tdata-dojo-props=\"trim: true, required: true, maxlength:128, hintPosition: 'inside', labelAlignment: 'horizontal'\"></div>\n\t\t\t\t<div class=\"clearBoth marginBottom5\"></div>\n\t\t\t\t<div class=\"description editableField multilineText displayInlineBlock\" title=\"${_editDescriptionTooltip}\" data-dojo-type=\"idx.oneui.form.Textarea\" data-dojo-attach-point=\"_description\" label=\"${_hintDescription}\" hint=\"${_hintDescription}\"\n\t\t\t\t\t\tdata-dojo-props=\"trim: true, maxlength:254, hintPosition: 'inside', labelAlignment: 'horizontal'\"></div>\t\t\t\t\n\t\t\t</div>\n\t\t\t<h2>${_topicsHeader}</h2>\n\t\t\t<div data-dojo-attach-point=\"_treePlaceholder\"></div>\n\t\t</div>\n\t</div>\n</div>","kc/state/BrowserState":function(){define("kc/state/BrowserState",["dojo/_base/declare","kc/model/KCModel","kc/Constants","kc/Utils"],function(_b42,_b43,_b44,_b45){return _b42("kc.state.BrowserState",[],{language:undefined,model:undefined,contentType:undefined,title:undefined,urlBase:undefined,parameters:undefined});});},"kc/widget/topic/TopicNav":function(){require({cache:{"url:kc/widget/topic/templates/TopicNav.html":"<div>\n\t<h1 data-dojo-attach-point=\"title\"></h1>\n\t<h3>${listTitle}</h3>\n\t<ul data-dojo-attach-point=\"list\"></ul>\n</div>\n"}});define("kc/widget/topic/TopicNav",["dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/_base/array","kc/widget/common/KCWidget","dojo/text!kc/widget/topic/templates/TopicNav.html","kc/Topics","kc/Messaging","kc/Constants","kc/widget/topic/TopicUtils","idx/form/Link"],function(_b46,_b47,lang,_b48,_b49,_b4a,_b4b,_b4c,_b4d,_b4e){return _b46("kc.widget.topic.TopicNav",[_b49],{templateString:_b4a,postCreate:function(){this.inherited(arguments);this.linkArr=[];this.linkConnectionsArr=[];},_initializeStrings:function(){this.listTitle=this.getString("TOPIC_NAV_LABEL");},setup:function(data){this.cleanup();if(data){this.title.innerHTML=data.title;_b48.forEach(data.items,lang.hitch(this,function(item){var li=_b47.create("li",null,this.list);if(_b4e.canOpenTopicModel(item)){var link=new idx.form.Link({id:"nav_"+item.id,label:item.title});this.linkConnectionsArr.push(this.addConnection(link,"onClick",this,lang.hitch(this,this._showTopic,item)));this.linkArr.push(link);_b47.place(link.domNode,li);}else{li.innerHTML=item.title;}}));}},_showTopic:function(_b4f){_b4c.publish(_b4b.KC_TOPIC,[_b4d.SOURCE_CONTENT_TOPIC_GENERATED_NAVIGATION,_b4f]);},uninitialize:function(){this.inherited(arguments);this.cleanup();},cleanup:function(){_b48.forEach(this.linkConnectionsArr,lang.hitch(this,this.removeConnection));_b48.forEach(this.linkArr,function(link){link.destroy();});this.linkArr=[];this.linkConnectionsArr=[];}});});},"kc/widget/collection/SelectCollectionDialog":function(){require({cache:{"url:kc/widget/collection/templates/SelectCollectionDialog.html":"<div class=\"selectCollectionDialog\">\n\t<!-- TODO add accessibility, tab cycles -->\n\t<div>\n\t\t<label>${selectCollectionLabel}</label>\n\t\t<div class=\"collectionSelect\" data-dojo-attach-point=\"_collectionSelect\" data-dojo-type=\"idx.oneui.form.Select\" maxHeight=\"300\">\n\t\t</div>\n\n\t</div>\n</div>\n"}});define("kc/widget/collection/SelectCollectionDialog",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","kc/widget/common/KCWidget","dojo/text!kc/widget/collection/templates/SelectCollectionDialog.html","kc/DialogManager","kc/Messaging","kc/Topics","kc/Constants","kc/Utils","idx/html","kc/controller/CollectionsController","dojox/mobile/sniff","dojo/touch","dojo/on","dojo/data/ItemFileReadStore","idx/oneui/form/Select","kc/model/Collection"],function(_b50,lang,_b51,_b52,_b53,_b54,_b55,_b56,_b57,_b58,_b59,_b5a,has,_b5b,on){return _b50("kc.widget.collection.SelectCollectionDialog",[_b52],{templateString:_b53,_initializeStrings:function(){this.selectCollectionLabel=this.getString("COLLECTION_TITLE");},show:function(_b5c,_b5d,_b5e,_b5f,_b60){var _b61=this.getString(_b60?"TBR_MOVETOMYCOLLECTIONSLBL":"TBR_ADDCOLLECTIONTOMYCOLLECTIONSLBL");_b5a.getCollections(true,lang.hitch(this,function(_b62){_b51.forEach(_b58.findByProperty(_b62,_b57.COLLECTION_TITLE),function(c){c[_b57.COLLECTION_TITLE]=_b59.escapeHTML(c[_b57.COLLECTION_TITLE]);});_b51.some(_b62.items,function(_b63,_b64){if(_b63.mobile){_b62.items.splice(_b64,1);return true;}});_b51.forEach(_b62.items,function(i){if(i.title){i.title=unescape(i.title);}});var _b65=new dojo.data.ItemFileReadStore({data:_b62});this._collectionSelect.setStore(_b65);if(has("touch")){this._connections.push(on.once(this._collectionSelect.domNode,_b5b.press,lang.hitch(this,function(){_b51.forEach(this._collectionSelect._getChildren(),lang.hitch(this,function(_b66){this._connections.push(_b5b.release(_b66.domNode,function(){on.emit(_b66.domNode,"click",{cancelable:true,bubbles:true});}));}));})));}_b65.fetch({onComplete:lang.hitch(this,function(_b67,_b68){if(_b67.length==0){_b54.showInfoDialog(_b61,this.getString("TBR_NOEXISTINGERROR"),lang.hitch(this,function(){if(_b5d){var args=[_b57.CONTENT_COLLECTION,_b57.ACTION_COLLECTION_SAVE_TOPIC_TO_NEW,{alsoSaveChildren:_b5e},_b5d];_b55.publish(_b56.KC_ACTION,args);}}));}else{_b54.showOkCancelDialog(_b61,undefined,lang.hitch(this,function(){if(_b58.isFunction(_b5c)){var _b69=this._collectionSelect.getValue();var item=_b65._itemsByIdentity[_b69];var _b6a;if(item){_b6a=new kc.model.Collection();_b58.copyProperties(item,_b6a,_b65);_b6a[_b57.COLLECTION_TITLE]=_b59.unescapeHTML(_b6a[_b57.COLLECTION_TITLE]);delete _b6a.items;}else{_b6a=new kc.model.Collection({id:_b69});}_b5c(_b6a);}}),undefined,false,false,this.domNode);}})});}),lang.hitch(this,function(_b6b){_b54.showWarningDialog(_b61,this.getString("COLLECTION_ERROR_LOADING"));}),_b5f);}});});},"url:idx/oneui/form/templates/_RadioButtonSetItem.html":"<div class=\"dijitReset ${baseClass}\"\n\t><input id=\"${_inputId}\" dojoType=\"dijit.form.RadioButton\" dojoAttachPoint=\"focusNode\" name=\"${name}\"\n\t/><label for=\"${_inputId}\" dojoAttachPoint=\"labelNode\"></label\n></div>","url:kc/widget/search/templates/FilterRow.html":"<div class=\"filterRow\" role=\"toolbar\" id=\"filterRow\" data-dojo-attach-point=\"_filterRow\" aria-labelledby=\"filterRowLabel filterRowMsg\">\n\t<span class=\"filterRowLabel\" id=\"filterRowLabel\" data-dojo-attach-point=\"_filterLabel\">${_productCollection}</span>\n\t<div class=\"filterRowMsg displayInlineBlock\" id=\"filterRowMsg\" data-dojo-attach-point=\"_msg\">${_productCollectionTip}</div>\n\t<div class=\"filterProduct displayInlineBlock\">\n\t\t<span class=\"displayInlineBlock\" data-dojo-attach-point=\"_product\"></span>\n\t</div>\n\t<div class=\"displayInlineBlock hidden\" data-dojo-attach-point=\"_suffixHint\">...</div>\n    <input class=\"displayInlineBlock delimiter\" data-dojo-type=\"idx.oneui.form.CheckBox\" \n       \tdata-dojo-attach-point=\"_autoContextOption\"\n\t\tdata-dojo-props=\"name:'autoContextOption',\n\t\t\t\t\t\tlabel:'${_autoContextOptionLabel}'\n\t\"></input>\n\t<div class=\"filterRowActionLink hidden delimiter\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_clearFilter\" label=\"${_productCollectionClear}\"></div>\n\t<div class=\"filterRowActionLink\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_addFilter\" label=\"${_productCollectionAdd}\"></div>\n</div>\t\n","kc/widget/collection/Collections":function(){require({cache:{"url:kc/widget/collection/templates/Collections.html":"<div class=\"collections\">\n\t<div data-dojo-attach-point=\"_treePlaceholder\">\n\t\t<div class=\"initialMessage\" role=\"log\" aria-live=\"polite\" aria-label=\"${_myCollectionsLabel}\" tabindex=\"0\">${_initialMessage}</div>\n\t</div>\n</div>\t\n\n"}});define("kc/widget/collection/Collections",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/aspect","dojo/dom-class","dojo/dom-construct","kc/widget/common/KCWidget","dojo/text!kc/widget/collection/templates/Collections.html","kc/Constants","kc/Messaging","kc/Topics","kc/Utils","kc/state/KCState","kc/widget/common/KCTreeUtils","kc/controller/CollectionsController","dojox/uuid/generateRandomUuid","kc/widget/navigation/KCTOCStore","kc/widget/navigation/KCTOCStoreModel","dojo/data/ItemFileWriteStore","dijit/tree/ForestStoreModel","kc/widget/collection/CollectionsTree","kc/widget/collection/CollectionsTreeSynchronizer"],function(_b6c,lang,_b6d,_b6e,_b6f,_b70,_b71,_b72,_b73,_b74,_b75,_b76,_b77,_b78,_b79,uuid){return _b6c("kc.widget.collection.Collections",[_b71],{templateString:_b72,_initialMessage:"",_tree:undefined,_collectionSynchronizer:null,postMixInProperties:function(){this.inherited(arguments);this._collectionSynchronizer=new kc.widget.collection.CollectionsTreeSynchronizer();},_initializeStrings:function(){if(_b77.user){this._initialMessage=this.getString("LOADINGMSG");}else{this._initialMessage=this.getString("COLLECTION_NEED_SIGN_IN");}this._myCollectionsLabel=this.getString("NAVIGATION_MY_COLLECTIONS");},postCreate:function(){this.inherited(arguments);},_initializeSubscriptions:function(){this.addSubscription(_b75.KC_DATA_COLLECTIONS,this,"_collectionsReceived");this.addSubscription(_b75.KC_COLLECTION,this,"_loadCollectionsIfNecessary",_b73.MESSAGING_PRIORITY_EARLY,true);},startup:function(){this.inherited(arguments);},_loadCollectionsIfNecessary:function(){if(_b77.user){_b79.getCollections();this._collectionSynchronizer.startup();}},_collectionsReceived:function(_b7a){if(_b73.STATUS_ERROR===_b76.getObject(_b73.STATUS,_b7a)){console.error("Unable to load collections data: "+_b76.getObject(_b73.STATUS_ERROR,_b7a));var div=_b70.create("div",{"class":"initialMessage",innerHTML:this.getString("COLLECTION_ERROR_LOADING")});_b70.place(div,this._treePlaceholder,"only");return;}_b6d.forEach(_b7a.items,function(i){if(i.title){i.title=unescape(i.title);}});var _b7b=_b76.getObject(_b73.COLLECTION_ITEMS,_b7a);if(_b76.isEmpty(_b7b)){var div=_b70.create("div",{"class":"initialMessage",innerHTML:this.getString("COLLECTION_NO_COLLECTIONS")});_b70.place(div,this._treePlaceholder,"only");return;}else{_b6d.some(_b7b,function(_b7c,_b7d){if(_b7c.mobile){var _b7e=_b7b.splice(_b7d,1)[0];_b7b.unshift(_b7e);return true;}});}var _b7f=new kc.widget.navigation.KCTOCStore({data:_b7a});this.addConnection(_b6e.after(_b7f,"_processNewItemToParse",lang.hitch(this,this._processLazyLoadedTopic),true));if(this._tree===undefined){var _b80=new kc.widget.navigation.KCTOCStoreModel({rootId:"",store:_b7f,deferItemLoadingUntilExpand:true,childrenAttrs:[_b73.COLLECTION_ITEMS]});this._tree=new kc.widget.collection.CollectionsTree({showRoot:false,model:_b80,openOnClick:true,label:this._myCollectionsLabel});this._tree.startup();_b6f.add(this._tree.domNode,"collectionsTree");this._collectionSynchronizer.setTree(this._tree);}else{this._tree.model.store=_b7f;this._tree.refresh();}if(this._tree.domNode.parentNode!==this._treePlaceholder){_b70.place(this._tree.domNode,this._treePlaceholder,"only");}_b78.compactTree(this._tree);},_processLazyLoadedTopic:function(_b81,_b82){var _b83=this._tree.model.store;if(_b83){var _b84=_b78.getParentChain(_b82,_b83).shift();var _b85=_b78.getIdentity(_b84,_b83);_b76.setObject(_b73.COLLECTION_TOPIC_INTERNAL_COLLECTION_ID,[_b85+"/temp/"+uuid()],_b81);var _b86=_b83.getValue(_b82,_b73.MODEL_CONTENT_LANGUAGE);if(_b86){_b76.setObject(_b73.MODEL_CONTENT_LANGUAGE,[_b86],_b81);}}},uninitialize:function(){this._collectionSynchronizer.destroy();this.inherited(arguments);}});});},"kc/widget/topic/TopicActionBar2":function(){require({cache:{"url:kc/widget/topic/templates/TopicActionBar2.html":"{% extends actionBarTemplate %}\n\n{% block actionPlaceholderEnd %}\n\t<div class=\"toolBarAction otherVersions\" data-dojo-type=\"idx.form.DropDownLink\"  data-dojo-attach-point=\"_otherVersionMenu\" label=\"{{OtherVersionsLabel}}\">\n\t  <div dojoType=\"dijit.Menu\"></div>\n\t</div>\n{% endblock %}\n"}});define("kc/widget/topic/TopicActionBar2",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/keys","dojo/query","dijit/focus","dojo/dom-attr","dojo/dom-class","dojo/html","kc/Utils","kc/widget/topic/TopicUtils","kc/widget/common/ActionBar","dojo/text!kc/widget/topic/templates/TopicActionBar2.html","kc/Messaging","kc/Constants","kc/Topics","kc/controller/TopicController","kc/state/KCState","kc/DialogManager","idx/form/Link"],function(_b87,lang,_b88,keys,_b89,_b8a,_b8b,_b8c,html,_b8d,_b8e,_b8f,_b90,_b91,_b92,_b93,_b94,_b95,_b96){return _b87("kc.widget.topic.TopicActionBar2",[_b8f],{templateString:_b90,contentType:_b92.CONTENT_TOPIC,_lastLanguage:undefined,actionBarClass:"topicActionBar2",_hasLanguageAction:true,_hasShareAction:false,_initLanguageMenu:true,_outdatearray:undefined,constructor:function(){this._lastLanguage=_b92.KC_LANGUAGE;},_initializeStrings:function(){this.inherited(arguments);this.OtherVersionsLabel=this.getString("KC_OTHERVERSIONS");this.NoOtherVersionsLabel=this.getString("KC_NOOTHERVERSIONS");},startup:function(){this.inherited(arguments);if(this._languageMenu){this._languageMenu.loadDropDown=lang.hitch(this,"_loadLanguageMenu");_b8b.set(this._languageMenu.focusNode,{"aria-live":"assertive",tabindex:"-1"});}if(this._otherVersionMenu){this._otherVersionMenu.isLoaded=function(){return this._isLoaded;};this._otherVersionMenu.loadDropDown=lang.hitch(this,"_loadOtherVersionMenu");this._otherVersionMenu._setStateClass=function(){this.inherited("_setStateClass",arguments);_b8b.set(this.domNode,"tabindex",0);};_b8b.set(this._otherVersionMenu.domNode,{role:"listbox","aria-live":"assertive"});}},_loadOtherVersionMenu:function(_b97){var _b98=this._otherVersionMenu.get("topicModel");_b94.getOtherVersions(_b98,lang.hitch(this,"otherVersionsLoad",_b98,_b97),lang.hitch(this,"otherVersionsFail",_b98,_b97));},_resetOtherVersionMenu:function(_b99){this._otherVersionMenu._isLoaded=false;html.set(this._otherVersionMenu.linkNode,this.OtherVersionsLabel);this._otherVersionMenu.set("disabled",false);this._otherVersionMenu.setAttribute("topicModel",_b99);},_loadLanguageMenu:function(_b9a){var _b9b=this._languageMenu.get("topicModel");_b94.getLanguages(_b9b,lang.hitch(this,"topicLanguageLoad",_b9b,_b9a),lang.hitch(this,"topicLanguageFail",_b9b));},setData:function(_b9c){this.inherited(arguments);this._initLanguageMenu=true;if(this._outdatearray){this._outdatearray.length=0;}else{this._outdatearray=new Array();}if(_b8d.isUndefined(_b9c)){var _b9d={label:"name",identifier:"tl",items:[]};var _b9e=new dojo.data.ItemFileReadStore({data:_b9d});this._languageMenu.setStore(_b9e);_b88.forEach(this._otherVersionMenu.dropDown.getChildren(),function(_b9f){_b9f.destroyRecursive();});return;}else{this._resetLanguageMenu(_b9c);if(this._lastLanguage!=="en"){_b94.isEnTopicNewer(_b9c,lang.hitch(this,"isEnTopicNewerLoad",_b9c,null),lang.hitch(this,"isEnTopicNewerFail"));}_b8d.setWidgetShow(this._otherVersionMenu,!_b8e.isProductLanding(_b9c));this._resetOtherVersionMenu(_b9c);}},_resetLanguageMenu:function(_ba0){this._languageMenu._isLoaded=false;this._languageMenu.removeOption(this._languageMenu.getOptions());this._enableLanguageMenu();this._languageMenu.setAttribute("topicModel",_ba0);_b8b.set(this._languageMenu.focusNode,"tabindex",-1);},topicLanguageLoad:function(_ba1,_ba2,_ba3){if(this.getData()!=_ba1){return;}this.domNode.style.display="";this._normalizeTopicLanguageResultItems(_ba3);this._fillTopicLanguageMenu(_ba3);this._languageMenu._loadChildren(true);this._languageMenu._isLoaded=true;if(_ba2){if(_ba3.items.length>1){_ba2();this._languageMenu.dropDown.focus();}else{_b8a.focus(_b89(".idxSelectWrapLabel",this._languageMenu.containerNode)[0]);}}},otherVersionsLoad:function(_ba4,_ba5,_ba6){if(this.getData()!=_ba4){return;}this.domNode.style.display="";if(_ba6&&_ba6.items.length>0){this._otherVersionMenu.set("disabled",false);_b88.forEach(this._otherVersionMenu.dropDown.getChildren(),function(_ba7){this.removeChild(_ba7);_ba7.destroyRecursive();this.set("focusedChild",null);},this._otherVersionMenu.dropDown);_b88.forEach(_ba6.items,lang.hitch(this,function(item){if(item&&item.title){this._otherVersionMenu.dropDown.addChild(new dijit.MenuItem({label:item.title,onClick:function(){if(item.href){var _ba8=new kc.model.Topic();_ba8.href=item.href;_ba8.title=item.title;_ba8.id=item.id;_b91.publish(_b93.KC_TOPIC,[_b92.SOURCE_CONTENT_TOPIC_TOOLBAR,_ba8]);}}}));}}));if(_ba5){_ba5();this._otherVersionMenu.dropDown.focus();}}else{html.set(this._otherVersionMenu.linkNode,this.NoOtherVersionsLabel);this._otherVersionMenu.set("disabled",true);}this._otherVersionMenu._isLoaded=true;},isEnTopicNewerLoad:function(_ba9,_baa,_bab){if(_bab.isEnTopicNewer){_b91.publish(_b93.KC_OUTDATE_LOCALES,["en"]);}},isEnTopicNewerFail:function(){console.error("request isEnTopicNewer failed");},topicLanguageFail:function(_bac,_bad,_bae){if(this.getData()!=_bac){return;}if(_bad.status=="401"){this.domNode.style.display="none";}else{this.domNode.style.display="";}},otherVersionsFail:function(_baf,_bb0,_bb1){if(this.getData()!=_baf){return;}if(_bb0.status=="401"){this.domNode.style.display="none";}else{this.domNode.style.display="";}},_fillTopicLanguageMenu:function(_bb2){var _bb3="";var _bb4=this._getSelectedLanguage(_bb2);if(_bb2.items.length<2){this._disableLanguageMenu();}else{this._enableLanguageMenu();}var _bb5=new dojo.data.ItemFileReadStore({data:_bb2});_b8d.alphabeticSort(_bb5,"name");this._onLanguageChangeListener.pause();this._languageMenu.setStore(_bb5,_bb4);this.defer(lang.hitch(this,this._onLanguageChangeListener.resume));},_normalizeTopicLanguageResultItems:function(_bb6){var _bb7=new Array();if(_b8d.isEmpty(_bb6)){_bb6={};}if(_b8d.isEmpty(_bb6.items)){_bb6.items=[];}_b88.forEach(_bb6.items,lang.hitch(this,function(item){item.tl=_b8d.getSupportedLanguage(item.tl);item.name=_b8d.getSupportedLanguageName(item.tl);if(item.memo=="Y"||item.memo=="N"){if(item.memo=="Y"&&_b8d.indexOfByProperty(this._outdatearray,"tl",item.tl,true)==-1){this._outdatearray.push(item);}if(_b8d.indexOfByProperty(_bb7,"tl",item.tl,true)==-1){_bb7.push(item);}}}));_bb6.items=_bb7;},_getSelectedLanguage:function(_bb8){var _bb9="en";if(_b8d.indexOfByProperty(_bb8.items,"tl",this._lastLanguage,true)>-1){_bb9=this._lastLanguage;}else{var _bba=this._lastLanguage.indexOf("-");if(_bba>-1){var _bbb=this._lastLanguage.substring(0,_bba);if(_b8d.indexOfByProperty(_bb8.items,"tl",_bbb,true)>-1){_bb9=_bbb;}else{for(var i=0;i<_bb8.items.length;i++){var tl=_bb8.items[i].tl;if(tl.indexOf(_bbb)==0){_bb9=tl;break;}}}}else{for(var i=0;i<_bb8.items.length;i++){var tl=_bb8.items[i].tl;if(tl.indexOf(this._lastLanguage)==0){_bb9=tl;break;}}}}return _bb9;}});});},"kc/model/Tag":function(){define("kc/model/Tag",["dojo/_base/declare","kc/model/KCModel","kc/Constants","kc/Utils"],function(_bbc,_bbd,_bbe,_bbf){return _bbc("kc.model.Tag",[_bbd],{product:undefined,task:undefined,os:undefined,type:undefined,fromDate:undefined,toDate:undefined,constructor:function(){}});});},"kc/widget/search/SaveSearchQueryDialog":function(){require({cache:{"url:kc/widget/search/templates/SaveSearchQueryDialog.html":"<div class=\"saveSearchQueryDialogContainer\">\n\t<div data-dojo-attach-point=\"_loading\" class=\"loading\"></div>\n\t<table data-dojo-attach-point=\"_dialog\" class=\"saveSearchQueryDialog\" style=\"display:none\" role=\"presentation\">\n\t\t<tbody>\n\t\t\t<tr class=\"headOverride\">\n\t\t\t\t<td class=\"idxSignIcon idxWarnIcon\"></td>\n\t\t\t\t<td colspan=\"2\">${_saveSearchQueryDialogWarningMessage}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td></td>\n\t\t\t\t<td class=\"searchNameLabel\">${_saveSearchQueryDialogSearchNameLabel}</td>\n\t\t\t\t<td>\n\t\t\t\t\t<input maxlength=\"60\" data-dojo-attach-point=\"_searchNameTextBox\" data-dojo-type=\"idx.oneui.form.TextBox\" data-dojo-props=\"trim: true, required: true\" label=\"${_saveSearchQueryDialogSearchNameLabel}\"/>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr class=\"bottomNormal\">\n\t\t\t\t<td></td>\n\t\t\t\t<td></td>\n\t\t\t\t<td>\n\t\t\t\t\t<p class=\"saveSearchQueryDialogNormalMessage\" data-dojo-attach-point=\"_saveSearchQueryDialogNormalMessage\"></p>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr class=\"bottomOverride\">\n\t\t\t\t<td></td>\n\t\t\t\t<td colspan=\"2\" data-dojo-attach-point=\"_saveSearchQueryDialogOverrideSearchQueryField\" class=\"saveSearchQueryDialogOverrideSearchQueryField\"></td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</div>"}});define("kc/widget/search/SaveSearchQueryDialog",["dojo/_base/declare","dojo/_base/lang","dojo/query","dojox/lang/functional/array","idx/util","kc/Utils","dojo/DeferredList","dijit/registry","kc/widget/common/KCWidget","dojo/text!kc/widget/search/templates/SaveSearchQueryDialog.html","kc/DialogManager","dojo/dom-construct","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/dom-prop","dojo/date/locale","dojo/window","dojo/_base/window","dojo/keys","kc/controller/SearchController","kc/state/KCState","kc/Constants","idx/oneui/form/TextBox","dojo/data/ItemFileReadStore"],function(_bc0,lang,_bc1,_bc2,_bc3,_bc4,_bc5,_bc6,_bc7,_bc8,_bc9,_bca,_bcb,_bcc,_bcd,_bce,_bcf,_bd0,_bd1,keys,_bd2,_bd3,_bd4){return _bc0("kc.widget.search.SaveSearchQueryDialog",[_bc7],{templateString:_bc8,amount:parseInt(_bd4.getServerProperty(_bd4.SERVER_PROPERTY_KEY_SAVEDSEARCH_AMOUNT,"10")),_initializeStrings:function(){this._saveSearchQueryDialogNameYourSavedSearchLabel=this.getString("SAVE_SEARCH_QUERY_DIALOG_NAME_YOUR_SAVED_SEARCH_LABEL");this._saveSearchQueryDialogWarningMessage=this.getString("SAVE_SEARCH_QUERY_DIALOG_WARNING_MESSAGE",[this.amount]);this._saveSearchQueryDialogSearchNameLabel=this.getString("SAVE_SEARCH_QUERY_DIALOG_SEARCH_NAME_LABEL");},startup:function(){this.inherited(arguments);new _bc5([_bd2.getProductCollections(),_bd2.getSavedSearchQueries(undefined,undefined,_bd4.ACTION_SAVE_SEARCH),_bd2.getSearchResultFacets()]).then(lang.hitch(this,function(_bd5){if(_bd5[0][0]&&_bd5[1][0]&&_bd5[2][0]&&_bd5[0][1]&&_bd5[1][1]&&_bd5[2][1]){var _bd6=new dojo.data.ItemFileReadStore({data:_bd5[0][1]});_bd6.fetch();var _bd7=new dojo.data.ItemFileReadStore({data:_bd5[2][1].os});_bd7.fetch();var _bd8=new dojo.data.ItemFileReadStore({data:_bd5[2][1].task});_bd8.fetch();var _bd9=new dojo.data.ItemFileReadStore({data:_bd5[2][1].type});_bd9.fetch();_bca.destroy(this._loading);if(_bc4.isArray(_bd5[1][1].items)){if(_bd5[1][1].items.length>=this.amount){_bcb.add(this._dialog,"saveSearchQueryDialogOverride");var _bda=_bca.create("div",{innerHTML:this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_KEYWORD")+"&nbsp;<i dir='"+(_bcb.contains(_bc3.getParentWidget(this).domNode,"dijitRtl")?"rtl":"ltr")+"'></i>"},this._saveSearchQueryDialogOverrideSearchQueryField);_bc1("i",_bda)[0].appendChild(_bd1.doc.createTextNode(_bc4.isString(_bc4.getObject("term",_bd3.getLatestContentModel(_bd4.CONTENT_SEARCH),""))&&_bc4.getObject("term",_bd3.getLatestContentModel(_bd4.CONTENT_SEARCH),"")?decodeURIComponent(_bc4.getObject("term",_bd3.getLatestContentModel(_bd4.CONTENT_SEARCH),"")):this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_NONE")));_bca.create("div",{innerHTML:this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_FILTERS")+"&nbsp;<i dir='"+(_bcb.contains(_bc3.getParentWidget(this).domNode,"dijitRtl")?"rtl":"ltr")+"'>"+(_bc4.isArray(_bc4.getObject("scope",_bd3.getLatestContentModel(_bd4.CONTENT_SEARCH),[]))&&_bc2.filter(_bc4.getObject("scope",_bd3.getLatestContentModel(_bd4.CONTENT_SEARCH),[]),function(_bdb){return _bdb&&_bc4.isString(_bdb);}).length?_bc2.map(_bc2.filter(_bc4.getObject("scope",_bd3.getLatestContentModel(_bd4.CONTENT_SEARCH),[]),function(_bdc){return _bdc&&_bc4.isString(_bdc);}),function(_bdd){return _bd6._itemsByIdentity&&_bd6._itemsByIdentity[_bdd]&&_bc4.isArray(_bd6._itemsByIdentity[_bdd].title)&&_bc4.isString(_bd6._itemsByIdentity[_bdd].title[0])?_bd6._itemsByIdentity[_bdd].title[0]:_bdd;}).join(",&nbsp;"):this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_NONE"))+"</i>"},this._saveSearchQueryDialogOverrideSearchQueryField);var tags=[];_bc2.forEach(_bc4.getObject("tag",_bd3.getLatestContentModel(_bd4.CONTENT_SEARCH),{}),lang.hitch(this,function(_bde,_bdf){switch(_bdf){case "os":if(_bd7._itemsByIdentity&&_bc4.isArray(_bde)){_bc2.forEach(_bde,function(_be0){tags.push(_bc4.isString(_be0)&&_bd7._itemsByIdentity[_be0]&&_bd7._itemsByIdentity[_be0].title&&_bc4.isString(_bd7._itemsByIdentity[_be0].title[0])?_bd7._itemsByIdentity[_be0].title[0]:_be0);});}break;case "task":if(_bd8._itemsByIdentity&&_bc4.isArray(_bde)){_bc2.forEach(_bde,function(_be1){tags.push(_bc4.isString(_be1)&&_bd8._itemsByIdentity[_be1]&&_bd8._itemsByIdentity[_be1].title&&_bc4.isString(_bd8._itemsByIdentity[_be1].title[0])?_bd8._itemsByIdentity[_be1].title[0]:_be1);});}break;case "type":if(_bd9._itemsByIdentity&&_bc4.isArray(_bde)){_bc2.forEach(_bde,function(_be2){tags.push(_bc4.isString(_be2)&&_bd9._itemsByIdentity[_be2]&&_bd9._itemsByIdentity[_be2].title&&_bc4.isString(_bd9._itemsByIdentity[_be2].title[0])?_bd9._itemsByIdentity[_be2].title[0]:_be2);});}break;case "fromDate":if(_bc4.isString(_bde)&&_bcf.parse(_bde,{selector:"date",datePattern:"yyyyMMdd"})){tags.push(this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_FROM")+": "+_bcf.format(_bcf.parse(_bde,{selector:"date",datePattern:"yyyyMMdd"}),{datePattern:"MM/dd/yy",selector:"date"}));}break;case "toDate":if(_bc4.isString(_bde)&&_bcf.parse(_bde,{selector:"date",datePattern:"yyyyMMdd"})){tags.push(this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_TO")+": "+_bcf.format(_bcf.parse(_bde,{selector:"date",datePattern:"yyyyMMdd"}),{datePattern:"MM/dd/yy",selector:"date"}));}break;}}));_bca.create("div",{innerHTML:this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_TAGS")+"&nbsp;<i dir='"+(_bcb.contains(_bc3.getParentWidget(this).domNode,"dijitRtl")?"rtl":"ltr")+"'>"+(tags.length?tags.join(",&nbsp;"):this.getString("MANAGED_SAVED_SEARCH_QUERIES_DLG_NONE"))+"</i>"},this._saveSearchQueryDialogOverrideSearchQueryField);}else{_bcb.add(this._dialog,"saveSearchQueryDialogNormal");_bce.set(this._saveSearchQueryDialogNormalMessage,"innerHTML",this.getString("SAVE_SEARCH_QUERY_DIALOG_NORMAL_MESSAGE",[this.amount,this.amount-_bd5[1][1].items.length]));}_bcd.set(this._dialog,"display","");this._searchNameTextBox.textbox.focus();}_bcd.set(this.domNode.parentNode.parentNode.parentNode.parentNode,"top",_bd0.getBox().h/2-_bcc.getMarginBox(this.domNode.parentNode.parentNode.parentNode.parentNode).h/2+"px");_bcd.set(this.domNode.parentNode.parentNode.parentNode.parentNode,"left",_bd0.getBox().w/2-_bcc.getMarginBox(this.domNode.parentNode.parentNode.parentNode.parentNode).w/2+"px");}}));},_initializeConnections:function(){},show:function(_be3){this._searchNameTextBox.set("displayedValue",decodeURIComponent(_bc4.getObject("term",_bd3.getLatestContentModel(_bd4.CONTENT_SEARCH),"")).substr(0,60));var _be4=_bc9.__showConfirmationDialog(this._saveSearchQueryDialogNameYourSavedSearchLabel,undefined,{callback:lang.hitch(this,function(){if(!this._searchNameTextBox.validate()){return false;}else{if(_bc4.isFunction(_be3)){_be3(_bc1("input",this._searchNameTextBox.domNode)[0].value);}}}),label:this.getString("ACTION_SAVE")},{callback:undefined,label:this.getString("ACTION_CANCEL")},undefined,false,false,this.domNode);_bcb.add(_bc1(".dijitDialogPaneContent",_be4.domNode)[0],"dialogPaneContentSaveSearchQueryDialog");_bc2.forEach(_bc1(".dijitButton",_bc3.getParentWidget(this).domNode),function(_be5,_be6){_bc6.getEnclosingWidget(_be5).scrollOnFocus=false;});}});});},"kc/KCExtensions":function(){define("kc/KCExtensions",["dojo/_base/declare","dojo/_base/lang","dojo/_base/config","dojo/has","dojo/dom","dojo/_base/array","dojo/query","dojo/_base/event","dojo/aspect","dojo/keys","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","idx/string","dijit/a11y","idx/util","dojo/cldr/supplemental","dojox/mobile/sniff","dojo/string","kc/Utils","kc/widget/common/_KCi18nMixin","dijit/MenuItem","idx/oneui/Dialog","idx/widget/SimpleIconDialog","idx/oneui/HoverCard","idx/oneui/form/Select","idx/form/DatePicker","idx/layout/TitlePane","dijit/form/DropDownButton","idx/form/DropDownLink","dijit/layout/StackContainer","dijit/layout/ContentPane","dijit/Tree","idx/oneui/_CheckBoxTreeNode","idx/oneui/CheckBoxTree","idx/oneui/form/TextBox","idx/oneui/form/Textarea","idx/oneui/HoverHelpTooltip","idx/oneui/form/RadioButtonSet","dijit/form/CheckBox","dijit/CheckedMenuItem","kc/widget/common/_DataHolderMixin","kc/widget/common/_IFrameMixin","idx/widget/DeferredIFrame","dijit/CalendarLite","dijit/form/ComboButton","dijit/_HasDropDown"],function(_be7,lang,_be8,has,dom,_be9,_bea,_beb,_bec,keys,_bed,_bee,_bef,_bf0,a11y,_bf1,_bf2,_bf3,_bf4,_bf5,_bf6){_be7("kc.KCExtensions",null,{_initialized:false,initialize:function(){if(this._initialized){return;}this._extendIDXDefferedIFrame();this._extendDijitMenuItem();this._extendIDXDialog();this._extendSimpleIconDialog();this._fixIDXStringEndsWith();this._extendPerformanceNow();this._fixHoverCard();this._fixIDXDialog();this._fixIDXSelect();this._fixIDXDatePicker();this._fixIDXTitlePane();this._fixDijitDropDownButton();this._fixIdxComboButtons();this._fixIdxDropDownButtons();this._fixIDXDropDownLink();this._fixDijitStackContainer();this._fixDijitContentPane();this._fixDijitTree();this._fixIDXCheckBoxTree();this._fixIDXTextBox();this._fixIDXTextarea();this._fixIDXHoverHelpTooltip();this._fixIDXRadioButtonSet();this._fixDijitCheckBox();this._fixIDXSimpleIconDialog();this._fixDijitCheckedMenuItem();this._fixDijitCalendarAccessibility();this._extendDojoHas();this._fixDojoExcessiveErrorLogging();this._initialized=true;},_extendIDXDefferedIFrame:function(){idx.widget.DeferredIFrame.extend(kc.widget.common._IFrameMixin.prototype);},_extendDijitMenuItem:function(){dijit.MenuItem.extend(kc.widget.common._DataHolderMixin.prototype);},_extendIDXDialog:function(){lang.extend(idx.oneui.Dialog,{addButton:function(_bf7){if(_bf7.declaredClass=="dijit.form.Button"){if(!_bee.contains(this.closeButton.domNode,"idxSecondaryButton")){_bee.add(this.closeButton.domNode,"idxSecondaryButton");}_bef.place(_bf7.domNode,this.closeButton.domNode,"before");}},_onKey:function(evt){dijit._DialogBase.prototype._onKey.apply(this,arguments);var node=evt.target;if(_bed.has(node,"href")){return;}if(node==this.closeButton.focusNode){return;}while(node){if(node==this.domNode||_bee.contains(node,"dijitPopup")){if(evt.keyCode==keys.ENTER){this.onEnter();_beb.stop(evt);}else{return;}}else{if(node==this.closeButton.focusNode){_beb.stop(evt);return;}}node=node.parentNode;}_beb.stop(evt);},onEnter:function(){this.onExecute();},_getFocusItems:function(){this._lastFocusItem=this.closeButton.focusNode;if(this._firstFocusItem){var _bf8=a11y._getTabNavigable(this.containerNode);this._firstFocusItem=_bf8.lowest||_bf8.first||this.closeButton.focusNode||this.domNode;return;}this._firstFocusItem=this.closeButton.focusNode;}});},_extendSimpleIconDialog:function(){_bec.after(idx.widget.SimpleIconDialog.prototype,"show",function(_bf9){if(this.focusOnCancel&&this.cancelButton&&_bf9){_bf9.then(lang.hitch(this,function(){this.cancelButton.focus();}));}});},_fixIDXStringEndsWith:function(){_bf0.endsWith=function(all,part){return (lang.isString(all)&&lang.isString(part)&&all.lastIndexOf(part)===all.length-part.length);};},_extendPerformanceNow:function(){window.performance=window.performance||{};performance.now=(function(){return performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return new Date().getTime();};})();},_fixHoverCard:function(){_bec.after(idx.oneui.HoverCard.prototype,"postCreate",function(){_bee.add(this.domNode,"dijitHidden");_bed.remove(this.focusNode,"tabindex");_bed.set(this.domNode,"role","alert");_be9.forEach(_bea("[role=document]",this.domNode),function(node){_bed.remove(node,"role");});});_bec.after(idx.oneui.HoverCard.prototype,"hide",function(){_bed.remove(this.focusNode,"tabindex");});_bec.before(idx.oneui.HoverCard.prototype,"show",function(){_bed.set(this.focusNode,"tabindex","0");});},_fixIDXDialog:function(){_bec.after(idx.oneui.Dialog.prototype,"postCreate",function(){_bed.remove(this.instructionNode,"role");});},_fixIDXSelect:function(){_bec.after(idx.oneui.form.Select.prototype,"_setValueAttr",function(){_bed.remove(this.focusNode,"aria-valuetext");_bed.set(this.focusNode,"role","listbox");_bed.set(this.focusNode,"tabindex","-1");_be9.forEach(_bea(".idxSelectWrapLabel",this.containerNode),function(node){_bed.set(node,"role","option");_bed.set(node,"tabindex","0");});if(this.focusNode===document.activeElement&&document.activeElement!=null){var _bfa=_bea("[tabindex]",this.containerNode)[0];if(_bfa){_bfa.focus();}}});_bec.after(dijit.form.Select.prototype,"_getMenuItemForOption",function(item){if(_bf5.instanceOf(item,dijit.MenuItem)){_bed.set(item.focusNode,"role","option");}return item;});_bec.after(dijit.form.Select.prototype,"_fillContent",function(){_bed.set(this.dropDown.menuTableNode,"aria-labelledby",this.id);});},_fixIDXDatePicker:function(){_bec.after(idx.form.DatePicker.prototype,"_setValueAttr",function(){_bed.remove(this.focusNode,"aria-valuenow");});},_fixIDXTitlePane:function(){_bec.after(idx.layout.TitlePane.prototype,"startup",function(){var _bfb=_bed.get(this.domNode,"id");if(_bee.contains(this.domNode,"navigationPane")){_bed.set(this.domNode,"role","presentation");_bed.set(this.focusNode,"role","tab");_bed.set(this.containerNode,"role","tabpanel");_bed.set(this.containerNode,"aria-labelledby",_bfb);}else{if(!_bed.has(this.containerNode,"aria-labelledby")){_bed.set(this.domNode,"role","presentation");if(_bed.get(this.containerNode,"role")=="region"){_bed.set(this.containerNode,"aria-labelledby",_bfb);}}}});_bec.after(idx.layout.TitlePane.prototype,"_setOpenAttr",function(){_bed.remove(this.focusNode,"aria-pressed");});},_fixDijitDropDownButton:function(){_bec.after(dijit.form.DropDownButton.prototype,"startup",function(){_bed.set(this.dropDown._popupWrapper,"role","region");_bed.set(this.dropDown._popupWrapper,"aria-label",this.label);_bed.set(this.dropDown.domNode,"aria-label",this.label);});},_fixIdxComboButtons:function(){var _bfc=dijit._HasDropDown.prototype;var _bfd=dijit.form.ComboButton.prototype;var _bfe=_bfc.openDropDown;var _bff=_bfc.closeDropDown;if(_bfe){_bfd.openDropDown=function(){var _c00=_bfe.apply(this,arguments);if(this._opened){_bee.add(this.domNode,"idxDropDownOpen");}return _c00;};}if(_bff){_bfd.closeDropDown=function(_c01){var _c02=_bff.apply(this,arguments);_bee.remove(this.domNode,"idxDropDownOpen");return _c02;};}},_fixIdxDropDownButtons:function(){var _c03=dijit._HasDropDown.prototype;var _c04=dijit.form.DropDownButton.prototype;var _c05=_c03.openDropDown;var _c06=_c03.closeDropDown;if(_c05){_c04.openDropDown=function(){var _c07=_c05.apply(this,arguments);if(this._opened){_bee.add(this.domNode,"idxDropDownOpen");}return _c07;};}if(_c06){_c04.closeDropDown=function(_c08){var _c09=_c06.apply(this,arguments);_bee.remove(this.domNode,"idxDropDownOpen");return _c09;};}},_fixIDXDropDownLink:function(){_bec.after(idx.form.DropDownLink.prototype,"startup",function(){_bed.set(this.dropDown._popupWrapper,"role","region");_bed.set(this.dropDown._popupWrapper,"aria-label",this.label);_bed.set(this.dropDown.domNode,"aria-label",this.label);if(this.dropDown.containerNode.children.length==0){_bed.set(this.dropDown.domNode,"role","presentation");}});},_fixDijitStackContainer:function(){_bec.after(dijit.layout.StackContainer.prototype,"postCreate",function(){if(_bee.contains(this.domNode,"relatedContentContainer")){_bed.remove(this.domNode,"role");}else{if(!_bed.get(this.domNode,"role")||_bed.get(this.domNode,"role")=="tabpanel"){_bed.set(this.domNode,"role","presentation");}}});},_fixDijitContentPane:function(){_bec.after(dijit.layout.ContentPane.prototype,"postCreate",function(){if(!_bee.contains(this.domNode,"idxDialog")&&!_bee.contains(this.domNode,"idxTitlePane")&&!_bee.contains(this.domNode,"idxSimpleIconDialog")&&!_bee.contains(this.domNode,"navigationFrame")&&!_bee.contains(this.domNode,"contentToolbarFrame")){_bed.set(this.domNode,"role","presentation");}});},_fixDijitTree:function(){_bec.after(dijit._TreeNode.prototype,"postCreate",function(){if(this.label){_bed.set(this.containerNode,"aria-label",this.label);}});_bec.after(dijit._TreeNode.prototype,"setSelected",function(){if(_bed.get(this.labelNode,"role")=="presentation"){_bed.remove(this.labelNode,"aria-expanded");_bed.remove(this.labelNode,"aria-selected");}});_bec.after(dijit.Tree.prototype,"postCreate",function(){_bed.remove(this.domNode,"aria-expanded");_bed.remove(this.domNode,"aria-multiselect");if(this.rootNode){_bed.remove(this.rootNode.labelNode,"aria-expanded");_bed.remove(this.rootNode.labelNode,"aria-selected");}});_bec.after(dijit.Tree.prototype,"_load",function(){if(this.rootNode&&this.rootNode.containerNode.children.length==0){_bed.set(this.rootNode.containerNode,"role","presentation");}});},_fixIDXCheckBoxTree:function(){idx.oneui._CheckBoxTreeNode.prototype._onSetCheckedAttr=function(_c0a){if(this.checkboxNode.get("disabled")!=true){this.labelNode.setAttribute("aria-checked",_c0a);}},_bec.after(idx.oneui._CheckBoxTreeNode.prototype,"postCreate",function(){_bed.set(this.containerNode,"aria-label",this.label);this.checkboxNode.set("label",this.label);_be9.forEach(_bea(".idxLabel",this.checkboxNode.domNode),function(node){_bee.add(node,"hidden");});this.connect(this.checkboxNode,"_setCheckedAttr",function(){this._onSetCheckedAttr(this.checkboxNode.get("checked"));});});_bec.after(idx.oneui._CheckBoxTreeNode.prototype,"setSelected",function(){if(_bed.get(this.labelNode,"role")=="presentation"){_bed.remove(this.labelNode,"aria-selected");}});},_fixIDXTextBox:function(){_bec.after(idx.oneui.form.TextBox.prototype,"postCreate",function(){if(!_bee.contains(this.domNode,"signintext")){var _c0b=_bed.get(this.focusNode,"aria-describedby");_bed.set(this.focusNode,"aria-labelledby",_c0b);_be9.forEach(_bea(".idxLabel",this.domNode),function(node){_bee.add(node,"hidden");});}});},_fixIDXTextarea:function(){_bec.after(idx.oneui.form.Textarea.prototype,"postCreate",function(){var _c0c=_bed.get(this.focusNode,"aria-describedby");_bed.set(this.focusNode,"aria-labelledby",_c0c);_be9.forEach(_bea(".idxLabel",this.domNode),function(node){_bee.add(node,"hidden");});});},_fixIDXHoverHelpTooltip:function(){var _c0d=new _bf6();var _c0e=idx.oneui.HoverHelpTooltip;_bec.after(_c0e._MasterHoverHelpTooltip.prototype,"postCreate",function(){_bed.set(this.domNode,"role","alert");_bed.set(this.closeButtonNode,"aria-label",_c0d.getString("ACTION_CLOSE"));_bef.create("span",{"class":"hidden",innerHTML:"x"},this.closeButtonNode);_be9.forEach(_bea("[role=document]",this.domNode),function(node){_bed.remove(node,"role");});});_bec.after(_c0e._MasterHoverHelpTooltip.prototype,"_setTextDirAttr",function(){if(_bed.get(this.containerNode,"dir")==""){_bed.remove(this.containerNode,"dir");}});_bec.after(dijit._MasterTooltip.prototype,"show",function(){if(_bed.get(this.containerNode,"dir")==""){_bed.remove(this.containerNode,"dir");}});var _c0f=idx.oneui._MasterHoverHelpTooltip.prototype.show;lang.extend(idx.oneui._MasterHoverHelpTooltip,{show:function(_c10,_c11,_c12,rtl,_c13,_c14,_c15,_c16,_c17,role){_c0f.apply(this,arguments);if(_c17){this.focus();}else{this._focus=false;}_bed.set(this.domNode,"role",role||"alert");_bed.set(this.containerNode,"role",role?"":"alert");}});_c0e.show=idx.oneui.showHoverHelpTooltip=function(_c18,_c19,_c1a,rtl,_c1b,_c1c,_c1d,_c1e,_c1f,role){if(!_c0e._masterTT){idx.oneui._masterTT=_c0e._masterTT=new _c0e._MasterHoverHelpTooltip();}return _c0e._masterTT.show(_c18,_c19,_c1a,rtl,_c1b,_c1c,_c1d,_c1e,_c1f,role);};},_fixIDXRadioButtonSet:function(){_bec.after(idx.oneui.form.RadioButtonSet.prototype,"postCreate",function(){_bed.remove(this.compLabelNode,"for");_bed.set(this.stateNode,"role","radiogroup");_bed.set(this.stateNode,"aria-label",this.label);});_bec.after(idx.oneui.form.RadioButtonSet.prototype,"_updateSelection",function(){_be9.forEach(_bea(".idxRadioButtonSetItem",this.containerNode),function(node){_bed.remove(node,"aria-selected");});});},_fixDijitCheckBox:function(){_bec.after(dijit.form.CheckBox.prototype,"postCreate",function(){_bed.set(this.focusNode,"role",_bed.get(this.focusNode,"type"));});},_fixIDXSimpleIconDialog:function(){_bec.after(idx.widget.SimpleIconDialog.prototype,"postCreate",function(){_be9.forEach(_bea(".idxSimpleIconContainer",this.containerNode),function(node){_bed.set(node,"role","presentation");});});},_fixDijitCheckedMenuItem:function(){_bec.after(dijit.CheckedMenuItem.prototype,"postCreate",function(){_bed.set(this.domNode,"aria-checked",this.checked?"true":"false");});},_fixDijitCalendarAccessibility:function(){lang.extend(dijit.CalendarLite,{dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" headers=\"${id}_header_month\" id=\"${id}_header_day_${cId}\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\" headers=\"${id}_header_month ${id}_header_day_${cId}\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",postCreate:function(){this.inherited("postCreate",arguments);_bed.set(this.decrementMonth,"scope","row");_bed.set(this.incrementMonth,"scope","row");var _c20=_bea("thead > tr.dijitCalendarMonthContainer > th",this.domNode)[1];if(_c20){_bed.set(_c20,"id",this.id+"_header_month");}var _c21=_bea("tfoot > tr > td",this.domNode)[0];if(_c21){_bed.set(_c21,"headers",this.id+"_header_year");}var _c22=_bea("thead > tr",this.domNode)[1];if(_c22){_bed.set(_c22,"role","row");}var _c23=_bea("thead > tr.dijitCalendarMonthContainer",this.domNode)[0];if(_c23){_bef.place("<th class='hidden' id="+this.id+"_header_year></th>",_c23,"first");}},buildRendering:function(){var d=this.dowTemplateString,_c24=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_c25=_bf2.getFirstDayOfWeek(this.lang);var _c26=0;this.dayCellsHtml=_bf4.substitute([d,d,d,d,d,d,d].join(""),{id:this.id,d:"",cId:""},function(_c27,key){switch(key){case "cId":return _c26++;case "d":return _c24[_c25++%7];default:return _c27;}});_c26=0;var r=_bf4.substitute(this.weekTemplateString,{d:this.dateTemplateString});r=_bf4.substitute(r,{id:this.id,cId:""},function(_c28,key){return key==="cId"?_c26++:_c28;});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited("buildRendering",arguments);dom.setSelectable(this.domNode,false);var _c29=new this.dateClassObj(this.currentFocus);this._supportingWidgets.push(this.monthWidget=this._createMonthWidget());this.set("currentFocus",_c29,false);var _c2a=lang.hitch(this,function(_c2b,part,_c2c){this.connect(this[_c2b],"onclick",function(){this._setCurrentFocusAttr(this.dateFuncObj.add(this.currentFocus,part,_c2c));});});_c2a("incrementMonth","month",1);_c2a("decrementMonth","month",-1);_c2a("nextYearLabelNode","year",1);_c2a("previousYearLabelNode","year",-1);}});},_extendDojoHas:function(){has.add("mobile",function(){var ua=navigator.userAgent;var _c2d=has("bb");if(!_c2d){has.add("bb",(ua.indexOf("PlayBook")>=0||ua.indexOf("BB10")>=0)&&parseFloat(ua.split("Version/")[1])||undefined);}has.add("windowsmobile",ua.indexOf("Windows Phone")>=0,true,true);has.add("operamobile",(ua.indexOf("Opera Mobi")>=0)&&parseFloat(ua.split("Version/")[1])||undefined);has.add("ffmobile",(ua.match(/(Tablet|Mobile);.*Firefox/))&&parseFloat(ua.split("Firefox/")[1])||undefined);return has("android")||has("iphone")||has("ffmobile")||has("bb")||has("windowsmobile")||has("operamobile");},true);},_fixDojoExcessiveErrorLogging:function(){_be8.deferredOnError=function(){};}});kc.KCExtensions.instance=null;kc.KCExtensions.getInstance=function(){if(kc.KCExtensions.instance===null){kc.KCExtensions.instance=new kc.KCExtensions();kc.KCExtensions.instance.initialize();}return kc.KCExtensions.instance;};return kc.KCExtensions.getInstance();});},"kc/state/BrowserStateController":function(){define("kc/state/BrowserStateController",["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/json","dojo/io-query","idx/string","kc/state/StateUtils","kc/state/KCState","kc/Topics","kc/Messaging","kc/Constants","kc/Utils","kc/Cache","kc/controller/NavigationController","kc/widget/navigation/KCTOCStore","kc/widget/navigation/KCTOCStoreModel","kc/model/Topic","kc/model/Search","kc/model/Collection","kc/state/_Hash","kc/state/_HTML5History"],function(_c2e,_c2f,lang,_c30,json,_c31,_c32,_c33,_c34,_c35,_c36,_c37,_c38,_c39,_c3a){_c2e("kc.state.BrowserStateController",null,{_initialized:false,_setBrowserStateFilters:[],initialize:function(){if(this._initialized){return;}if(_c37.STATE_MANAGEMENT===_c37.SM_HASH){_c2e.safeMixin(this,kc.state._Hash.prototype);}else{if(_c37.STATE_MANAGEMENT===_c37.SM_HTML5){_c2e.safeMixin(this,kc.state._HTML5History.prototype);}}_c36.subscribe(_c35.KC_READY,this,"__startup",_c37.MESSAGING_PRIORITY_EARLY);_c36.subscribe(_c35.BROWSER_URL_CHANGE,this,"_browserUrlChanged");_c36.subscribe(_c35.KC_WELCOME,this,lang.hitch(this,this._setBrowserState,_c37.CONTENT_WELCOME));_c36.subscribe(_c35.KC_TOPIC,this,lang.hitch(this,this._setBrowserState,_c37.CONTENT_TOPIC));_c36.subscribe(_c35.KC_SEARCH,this,lang.hitch(this,this._setBrowserState,_c37.CONTENT_SEARCH));_c36.subscribe(_c35.KC_COLLECTION,this,lang.hitch(this,this._setBrowserState,_c37.CONTENT_COLLECTION));_c36.subscribe(_c35.KC_LANGUAGE_CHANGE,this,"_onLanguageChange");_c36.subscribe(_c35.EXTERNAL_OPEN_IN_NEW_WINDOW,this,"_openInNewWindow");this._initializeSubscriptions();this._initialized=true;},__startup:function(){this._startup();},_browserUrlChanged:function(_c3b){var _c3c=_c34.browserState;if(!_c33.equalStates(_c3c,_c3b)){_c36.publish(_c35.BROWSER_STATE_CHANGE,[_c3b]);var _c3d=_c33.getTopic(_c3b.contentType);if(_c3b.model){_c36.publish(_c3d,[_c37.SOURCE_URL,_c3b.model]);}else{_c36.publish(_c3d,[_c37.SOURCE_URL]);}}},_setBrowserState:function(_c3e,_c3f,_c40){if(!_c30.every(this._setBrowserStateFilters,function(_c41){var _c42=_c41(_c3e,_c40);if(_c42===false){return false;}return true;})){return;}var _c43=_c34.browserState;var _c44=_c33.modelToBrowserState(_c3e,_c40);if(!_c33.equalStates(_c43,_c44)){_c36.publish(_c35.BROWSER_STATE_CHANGE,[_c44]);if(_c43&&_c44&&_c38.isEmpty(_c44.language)){_c44.language=_c43.language;}this._updateBrowserState(_c44);document.title=_c44.title;if(_c44.language){this._onLanguageChange(_c44.language);}}},_onLanguageChange:function(_c45){var _c46=_c37.KC_LANGUAGE;_c45=_c38.getSupportedLanguage(_c45);if(_c46===_c45){return;}var _c47=_c31.queryToObject(_c38.stripBeginning(window.location.search,"?"));_c47[_c37.BROWSER_STATE_PARAMETER_LANGUAGE]=_c45;window.location.search="?"+_c31.objectToQuery(_c47);},addSetBrowserStateFilter:function(_c48){this._setBrowserStateFilters.push(_c48);},_openInNewWindow:function(_c49,_c4a){var url=_c33.modelToExternalUrl(_c49,_c4a,_c38.getObject(_c37.MODEL_CONTENT_LANGUAGE,_c4a,_c37.KC_LANGUAGE),false);_c36.publish(_c35.EXTERNAL_LINK,[url]);},_initializeSubscriptions:function(){},_startup:function(){},_updateBrowserState:function(_c4b){}});kc.state.BrowserStateController.instance=null,kc.state.BrowserStateController.getInstance=function(){if(kc.state.BrowserStateController.instance===null){kc.state.BrowserStateController.instance=new kc.state.BrowserStateController();kc.state.BrowserStateController.instance.initialize();}return kc.state.BrowserStateController.instance;};return kc.state.BrowserStateController.getInstance();});},"kc/widget/search/SearchTypeAhead":function(){require({cache:{"url:kc/widget/search/templates/_SearchTypeAheadPopup.html":"<div class='searchTypeAhead'>\n    <div id=\"searchTypeAheadMenu\" data-dojo-type=\"idx.oneui.Menu\" class=\"searchTypeAheadMenu\" data-dojo-attach-point=\"_searchTypeAheadMenu\" \n    \trole=\"listbox\" title=\"${_searchSuggestions}\"  label=\"${_searchSuggestions}\" aria-label=\"${_searchSuggestions}\"></div>\n</div>","url:kc/widget/search/templates/_SearchTypeAheadMenuSeparator.html":"<tr>\n\t<td colspan=\"4\" class=\"menuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<span class=\"menuSeparatorLabel\" data-dojo-attach-point=\"_menuSeparatorLabel\"></span>\n\t</td>\n</tr>"}});define("kc/widget/search/SearchTypeAhead",["dojo/_base/declare","kc/widget/common/KCWidget","dojo/text!kc/widget/search/templates/_SearchTypeAheadPopup.html","dojo/text!kc/widget/search/templates/_SearchTypeAheadMenuSeparator.html","kc/Messaging","kc/Topics","kc/Constants","kc/controller/SearchController","dojo/_base/html","dojo/dom-class","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/window","dojo/_base/window","dojo/keys","dijit/popup","dojo/dom","kc/Utils","idx/util","idx/html","kc/state/KCState","dojo/string","dijit/registry","kc/widget/search/SearchUtils","kc/widget/common/KCTreeUtils","dojo/on","dojo/dom-style","dojo/dom-attr","idx/oneui/Menu","dijit/MenuItem","dijit/MenuSeparator","dijit/CheckedMenuItem","dojo/data/ItemFileReadStore","kc/model/Topic","kc/model/Tag","kc/model/Scope"],function(_c4c,_c4d,_c4e,_c4f,_c50,_c51,_c52,_c53,html,_c54,lang,_c55,_c56,_c57,_c58,keys,_c59,dom,_c5a,_c5b,_c5c,_c5d,_c5e,_c5f,_c60,_c61,on,_c62,_c63){_c4c("kc.widget.search._SearchTypeAheadMenuSeparator",[_c4d],{templateString:_c4f,label:null,postCreate:function(){this.inherited(arguments);this._menuSeparatorLabel.innerHTML=this.label;}});_c4c("kc.widget.search._SearchTypeAheadPopup",[_c4d],{templateString:_c4e,parent:null,postCreate:function(){this.inherited(arguments);this.addConnection(this.domNode,"onkeydown",this,"_onKey");_c63.set(this.domNode,"role","region");_c63.set(this.domNode,"aria-label",this._searchSuggestions);},_initializeStrings:function(){this._searchSuggestions=this.getString("SEARCHTYPEAHEAD_SUGGESTIONS");this._searchWidgetTitle=this.getString("SEARCH_WIDGETTITLE");this._noneResultLabel=this.getString("TYPEAHEAD_NONE_RESULT");this._keywordHintsSeparatorLabel=this.getString("SEARCH_KEYWORD_HINTS_SEPARATOR");this._productLabel=this.getString("SEARCH_PRODUCT_SEPARATOR");this._myCollectionLabel=this.getString("SEARCH_MYCOLLECTION_SEPARATOR");this._filterCollectionLabel=this.getString("SEARCH_FILTER_SEPARATOR");this._keywordsHintLabel=this.getString("SEARCHTYPEAHEAD_KEYWORDS_HINT");this._productPageLabel=this.getString("SEARCHTYPEAHEAD_PRODUCT_PAGE");this._myCollectionHintLabel=this.getString("SEARCHTYPEAHEAD_MY_COLLECTION");this._accessibleLabel={};this._accessibleLabel.suggestionsAvailable=this.getString("SEARCHTYPEAHEAD_SUGGESTION_AVAILABLE");this._accessibleLabel.noSuggestion=this.getString("SEARCHTYPEAHEAD_NO_SUGGESTION");this._accessibleLabel.suggestionsHints=this.getString("SEARCHTYPEAHEAD_SUGGESTION_HINTS");this._accessibleLabel.suggestionsProducts=this.getString("SEARCHTYPEAHEAD_SUGGESTION_PRODUCTS");this._accessibleLabel.suggestionsMyCollections=this.getString("SEARCHTYPEAHEAD_SUGGESTION_MY_COLLECTIONS");this._accessibleLabel.loadingProductPage=this.getString("LOADING_PRODUCT_PAGE");this._accessibleLabel.loadingMyCollection=this.getString("LOADING_MY_COLLECTION");},_onKey:function(evt){var node=evt.target;var key=evt.keyCode;while(node){if(node==this.domNode||_c54.contains(node,"dijitPopup")){if(key==keys.ESCAPE){this.hideResult();this.onClose();this.parent.focus();}else{return;}}node=node.parentNode;}},showResult:function(_c64){this._render(_c64);html.style(this.domNode,"display","");},_render:function(_c65){this._renderItems(_c65);},_renderItems:function(_c66){var _c67=0;var _c68=0;var _c69=0;if(_c52.searchTypeAhead.keywords){this._searchTypeAheadMenu.addChild(new kc.widget.search._SearchTypeAheadMenuSeparator({label:this._keywordHintsSeparatorLabel}));var _c6a=_c5a.getObject("hint",_c66,[]);this._renderKeywordItems(_c6a);_c67=_c6a.length;}if(_c52.searchTypeAhead.products){this._searchTypeAheadMenu.addChild(new kc.widget.search._SearchTypeAheadMenuSeparator({label:this._productLabel}));var _c6b=_c5a.getObject("product",_c66,[]);this._renderProductItems(_c6b);_c68=_c6b.length;}if(_c52.searchTypeAhead.collections&&_c5d.user){this._searchTypeAheadMenu.addChild(new kc.widget.search._SearchTypeAheadMenuSeparator({label:this._myCollectionLabel}));var _c6c=_c5a.getObject("collection",_c66,[]);this._renderCollectionItems(_c6c);_c69=_c6c.length;}var _c6d=this._accessibleLabel.noSuggestion;if(_c67||_c68||_c69){var _c6e=[];if(_c67){_c6e.push(_c5e.substitute(this._accessibleLabel.suggestionsHints,[_c67]));}if(_c68){_c6e.push(_c5e.substitute(this._accessibleLabel.suggestionsProducts,[_c68]));}if(_c69){_c6e.push(_c5e.substitute(this._accessibleLabel.suggestionsMyCollections,[_c69]));}_c6d=_c5e.substitute(this._accessibleLabel.suggestionsAvailable,[_c6e.join(", ")]);}this._setAccessibleStatus(_c6d);},_setAccessibleStatus:function(_c6f){var _c70=_c5b.getParentWidget(this.parent)._searchTypeAheadStatus;_c70.innerHTML=_c6f||"";},_highLightKeyword:function(str,_c71){if(str&&_c5a.isString(str)){str=_c5c.escapeHTML(str);}if(str&&_c71&&lang.isString(str)&&lang.isString(_c71)){var _c72=_c71.replace(/\//g,"\\/");if(eval("/\\b"+_c72+"/i").test(str)){return str.replace(eval("/(\\b"+_c72+")/ig"),"<span class=\"keywordMatch\">$1</span>");}}return str;},_createNoneMenuItem:function(){var _c73=new _c4d({templateString:"<tr>"+"<td></td>"+"<td colspan=\"3\" class=\"dijitReset dijitMenuItemLabel\"><div>"+this._noneResultLabel+"</div></td>"+"</tr>"});return _c73;},_renderKeywordItems:function(_c74){if(_c74.length==0){this._searchTypeAheadMenu.addChild(this._createNoneMenuItem());}else{var sb=this.parent;_c55.forEach(_c74,function(item){var _c75=item.title;var _c76=new dijit.MenuItem({role:"option",label:this._highLightKeyword(item.title,this.parent.value)+" - <i>"+this._keywordsHintLabel+"</i>",iconClass:"keywordHintIcon",focus:function(){if(this.domNode){_c55.forEach(_c5b.getParentWidget(this.domNode).getDescendants(),lang.hitch(this,function(item){if(item!=this&&_c54.contains(item.domNode,"dijitMenuItemHover")){_c54.remove(item.domNode,"dijitMenuItemHover");}}));_c54.add(this.domNode,"dijitMenuItemHover");_c63.set(sb,"aria-activedescendant",_c63.get(this.domNode,"id"));}}});_c63.set(_c76.containerNode,"aria-label",_c75+" "+this._keywordsHintLabel);this.addConnection(_c76,"onclick",this,function(){this.hideResult();this.parent.focus();this.parent.value=_c75;var term=encodeURIComponent(_c75);var _c77=_c60.getSearchScope();var tag=_c60.getSearchTag();var _c78=_c60.getSearchModel(term,_c77,tag);_c50.publish(_c51.KC_SEARCH,[_c52.SOURCE_SEARCH_TYPEAHEAD,_c78]);});this._searchTypeAheadMenu.addChild(_c76);},this);}},_renderProductItems:function(_c79){if(_c79.length==0){this._searchTypeAheadMenu.addChild(this._createNoneMenuItem());}else{var sb=this.parent;_c55.forEach(_c79,function(item){var id=item.id;var _c7a=item.title;var href=item.href;var _c7b=item.isProductLanding;var _c7c=new dijit.MenuItem({role:"option",label:this._highLightKeyword(item.title,this.parent.value)+" - <i>"+this._productPageLabel+"</i>",iconClass:"productIcon",focus:function(){if(this.domNode){_c55.forEach(_c5b.getParentWidget(this.domNode).getDescendants(),lang.hitch(this,function(item){if(item!=this&&_c54.contains(item.domNode,"dijitMenuItemHover")){_c54.remove(item.domNode,"dijitMenuItemHover");}}));_c54.add(this.domNode,"dijitMenuItemHover");_c63.set(sb,"aria-activedescendant",_c63.get(this.domNode,"id"));}}});_c63.set(_c7c.containerNode,"aria-label",_c7a+" "+this._productPageLabel);this.addConnection(_c7c,"onclick",this,function(){this.hideResult();this.parent.focus();var _c7d=new kc.model.Topic({id:id,title:_c7a,href:href,isProductLanding:_c7b});_c50.publish(_c51.KC_TOPIC,[_c52.SOURCE_SEARCH_TYPEAHEAD,_c7d]);this._setAccessibleStatus(this._accessibleLabel.loadingProductPage);_c5a.defer(lang.hitch(this,this._setAccessibleStatus),5000);});this._searchTypeAheadMenu.addChild(_c7c);},this);}},_renderCollectionItems:function(_c7e){if(_c7e.length==0){this._searchTypeAheadMenu.addChild(this._createNoneMenuItem());}else{var sb=this.parent;_c55.forEach(_c7e,function(item){var id=item.id;var _c7f=item.title;var _c80=new dijit.MenuItem({role:"option",label:this._highLightKeyword(item.title,this.parent.value)+" - <i>"+this._myCollectionHintLabel+"</i>",iconClass:"myCollectionIcon",focus:function(){if(this.domNode){_c55.forEach(_c5b.getParentWidget(this.domNode).getDescendants(),lang.hitch(this,function(item){if(item!=this&&_c54.contains(item.domNode,"dijitMenuItemHover")){_c54.remove(item.domNode,"dijitMenuItemHover");}}));_c54.add(this.domNode,"dijitMenuItemHover");_c63.set(sb,"aria-activedescendant",_c63.get(this.domNode,"id"));}}});_c63.set(_c80.containerNode,"aria-label",_c7f+" - "+this._myCollectionHintLabel);this.addConnection(_c80,"onclick",this,function(){this.hideResult();this.parent.focus();_c50.publish(_c51.KC_COLLECTION,[_c52.SOURCE_SEARCH_TYPEAHEAD,new kc.model.Collection({cId:id,title:_c7f})]);this._setAccessibleStatus(this._accessibleLabel.loadingMyCollection);_c5a.defer(lang.hitch(this,this._setAccessibleStatus),5000);});this._searchTypeAheadMenu.addChild(_c80);},this);}},focus:function(){var node=this._searchTypeAheadMenu.getChildren()[0];if(node){node.focus();}},hideResult:function(){html.style(this.domNode,"display","none");},clearResult:function(){this._searchTypeAheadMenu.destroyDescendants(false);this._searchTypeAheadMenu.focusedChild=null;},setWidth:function(_c81){html.marginBox(this.domNode,{w:_c81});},onClick:function(e){},onClose:function(e){_c63.remove(this.parent,"aria-activedescendant");this._setAccessibleStatus(undefined);}});return _c4c("kc.widget.search.SearchTypeAhead",[_c4d],{connectedNode:"",isShowing:false,encode:true,_lastValue:"",_popupWidget:null,_blurTimer:null,blurInterval:100,_deferredLoader:undefined,postCreate:function(){this.inherited(arguments);var node=this.connectedNode=this.getNodeById(this.connectedNode);this.attachHandlers(node);_c63.remove(this._popupWidget._searchTypeAheadMenu.domNode,"tabindex");},_initializeSubscriptions:function(){this.addSubscription(_c51.KC_CONTENT,this,"_hideTypeAhead");},startup:function(){this.inherited(arguments);this._popupWidget.startup();},buildRendering:function(){this._popupWidget=new kc.widget.search._SearchTypeAheadPopup({parent:this.connectedNode,id:this.id+"_popup",dir:this.dir});this.addConnection(this._popupWidget,"onClick",this,"_onClick");this.addConnection(this._popupWidget,"onClose",this,"_onClose");this.addConnection(_c58.body(),"onClick",this,function(e){var _c82=e.target&&_c5f.getEnclosingWidget(e.target)?_c5f.getEnclosingWidget(e.target).domNode:null;while(_c82&&_c82!=this._popupWidget.domNode){_c82=_c5b.getParentWidget(_c82)?_c5b.getParentWidget(_c82).domNode:null;}if(_c82!=this._popupWidget.domNode){if(this.isShowing){this._blurTimer=setTimeout(lang.hitch(this,function(){this._blurTimer=null;this.hideResults();}),this.blurInterval);}}});this._popupWidget._searchTypeAheadMenu._keyNavCodes[keys.ENTER]=lang.hitch(this._popupWidget._searchTypeAheadMenu,function(){if(this.focusedChild&&this.focusedChild.domNode&&_c54.contains(this.focusedChild.domNode,"dijitMenuItemHover")){on.emit(this.focusedChild.domNode,"click",{cancelable:true,bubbles:true});}});this._popupWidget._searchTypeAheadMenu._onContainerKeypress=function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();}};},_onClick:function(e){},getNodeById:function(id){if(!id){return null;}return (id.nodeName&&(id.nodeType==1))?id:html.byId(id);},attachHandlers:function(node){if(node){this.addConnection(node,"onkeyup",this,"_onInputKeyup");this.addConnection(node,"onkeydown",this,"_onInputKeyDown");this.addConnection(node,"onresize",this,"hideResults");}},_onInputKeyup:function(e){var key=e.keyCode;var _c83=!((key==keys.ENTER)||(key==keys.UP_ARROW)||(key==keys.DOWN_ARROW)||(key==keys.LEFT_ARROW)||(key==keys.RIGHT_ARROW));var _c84=e.target.value;if(_c83&&(_c84!=this._lastValue)){this.loadSuggestions(_c84);}else{if(_c62.get(this._popupWidget.domNode,"display")!="none"&&key==keys.ENTER){e.charOrCode=e.keyCode;this._popupWidget._searchTypeAheadMenu._onContainerKeypress(e);}}if(key==keys.ENTER){if(this._deferredLoader){this._deferredLoader.remove();}this._cancelPreviousLoadRequest();this.clearResults();}},_onInputKeyDown:function(e){if(e.keyCode==keys.ESCAPE){this.hideResults();}else{if(_c62.get(this._popupWidget.domNode,"display")!="none"&&e.keyCode!=keys.ENTER){e.charOrCode=e.keyCode;this._popupWidget._searchTypeAheadMenu._onContainerKeypress(e);}}},_onClose:function(){this.hideResults();},loadSuggestions:function(_c85){var _c86=lang.trim(_c85);this._lastValue=_c86;if(this._deferredLoader){this._deferredLoader.remove();}if(_c86.length<3){this.clearResults();}else{this._deferredLoader=_c5a.defer(lang.hitch(this,function(){this.remoteLoadSuggestions(_c86);}),this._deferredLoader?500:0);}},_loadRequest:undefined,remoteLoadSuggestions:function(_c87){if(this.encode){_c87=encodeURIComponent(_c87);}var _c88=_c87;var _c89=lang.hitch(this,function(_c8a,data){if(this._lastValue){this.renderResults(data);}},_c88);var _c8b=lang.hitch(this,function(_c8c,e){if(e.dojoType==="cancel"){return;}},_c88);this._cancelPreviousLoadRequest();this._loadRequest=_c53.getTypeAhead(_c88,_c89,_c8b);},_cancelPreviousLoadRequest:function(){if(this._loadRequest){this._loadRequest.cancel();this._loadRequest=undefined;}},getContentParam:function(_c8d){return {"prefix":_c8d};},hideResults:function(){_c59.close(this._popupWidget);this.isShowing=false;this._popupWidget.hideResult();},clearResults:function(){this.hideResults();this._popupWidget.clearResult();},showResults:function(data){if(this._popupWidget.domNode.firstChild){_c59.open({popup:this._popupWidget,around:this.connectedNode});this.isShowing=true;this._popupWidget.showResult(data);this._popupWidget.setWidth(html.marginBox(this.connectedNode).w);_c63.set(this.connectedNode,"aria-owns",_c63.get(this._popupWidget._searchTypeAheadMenu.domNode,"id"));}},renderResults:function(data){this.clearResults();this.showResults(data);},_hideTypeAhead:function(){this._cancelPreviousLoadRequest();this.hideResults();}});});},"url:idx/oneui/form/templates/RadioButtonSet.html":"<div class=\"dijit dijitReset dijitInline dijitLeft idxComposite idxNoOutline\" id=\"widget_${id}\"\n\t><div class=\"idxLabel\"><span class=\"idxRequiredIcon\">*&nbsp;</span><label for=\"${id}\" dojoAttachPoint=\"compLabelNode\"></label></div\n\t><div dojoAttachPoint=\"stateNode, oneuiBaseNode\" role=\"group\" class=\"idxCompContainer idxNoOutline\"\n\t\t><input type=\"hidden\" dojoAttachPoint=\"focusNode, valueNode\" class=\"dijitReset\"></input\n\t\t><div dojoAttachPoint=\"containerNode\"></div\n\t\t><div class=\"dijitReset dijitValidationContainer dijitInline\" dojoAttachPoint=\"iconNode\"\n\t\t\t><div class=\"dijitValidationIcon\"><input class=\"dijitReset dijitInputField dijitValidationInner\"\n\t\t\t\tvalue=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/></div></div\n\t></div\n></div>","url:kc/widget/navigation/templates/TOCContent.html":"<div class=\"tocContent\" data-dojo-attach-point=\"_tocContentRoot\">\n\t<div data-dojo-attach-point=\"_treePlaceholder\" tabindex=\"-1\" role=\"log\" aria-live=\"polite\" aria-label=\"${_productsMessage}\">${_loadingIndicator}</div>\n</div>\t\n","url:kc/widget/common/templates/SignInDialog.html":"<div>\n\t<div data-dojo-type=\"idx.oneui.Dialog\" data-dojo-attach-point=\"_dialog\" class=\"signInDialog\" data-dojo-props=\"\n\t\t\ttitle: '${titleLabel}', \n\t\t\tcloseButtonLabel: '${cancelLabel}',\n\t\t\treference: {\n\t\t\t\tname: '${registerLabel}',\n\t\t\t\tlink: '${registerUrl}'\n\t\t\t}\n\t\t\">\n\t\t<div data-dojo-attach-point=\"_form\" data-dojo-type=\"dijit.form.Form\">\n\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" class=\"signInDialogContent\">\n\t\t\t<div class=\"floatLeading\" style=\"width: 50%\">\n\t\t\t\t<input class=\"signintext\" data-dojo-type=\"kc.widget.common.TextBoxWithoutPopup\" data-dojo-props=\"required: true\" data-dojo-attach-point=\"_username\"\n\t\t\t\t\t\ttype=\"text\" name=\"username\" id=\"username\" value=\"\" label=\"${usernameLabel}\" tabIndex=\"1\"/>\n            \t<a data-dojo-attach-point=\"_reghelp\" class=\"helpLink\" href=\"${forgotIDUrl}\" target=\"_blank\" tabIndex=\"5\">${forgotIBMIDLabel}</a>\t\t\t\t\n\t\t\t</div>\n\n\t\t\t<div class=\"floatTrailing\" style=\"width: 50%\">\n\t\t\t\t<input class=\"signintext\" data-dojo-type=\"kc.widget.common.TextBoxWithoutPopup\" data-dojo-props=\"required: true\" data-dojo-attach-point=\"_password\" autocomplete=\"off\"\n\t\t\t\t\t\ttype=\"password\" name=\"password\" id=\"password\" maxlength=\"31\" value=\"\" label=\"${passwordLabel}\" tabIndex=\"2\"/>\n\t\t\t\t<input type=\"hidden\" value=\"pwd\" name=\"login-form-type\"/>\n            \t<a data-dojo-attach-point=\"_forgot\" class=\"helpLink\" href=\"${forgotPasswordUrl}\" target=\"_blank\" tabIndex=\"6\">${forgotPasswordLabel}</a>\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"clearBoth\"></div>\n\t\t\t<a class=\"signInMsg displayBlock\" id=\"signInMsg\" dojoAttachPoint='statusNode' href='javascript:void(0);'>&nbsp;</a>\t\t\t\t\n\t\t</div>\n\t\t\n\t\t<div data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"_signInButton\" data-dojo-props=\"label: '${submitLabel}'\" tabIndex=\"3\">\n\t\t</div>\n\t\t</div>\n\t</div>\n\n</div>","kc/MobileRedirectOverlay":function(){require({cache:{"url:kc/frame/templates/MobileRedirect.html":"<div class=\"mobileRedirectContainer\">\n\t<div class=\"mobileRedirectMessageContainer\">\n\t\t<div class=\"mobile-redirect-dialog-header\">{MOBILE_REDIRECT_OPTION_TEXT}</div>\n\t\t<div class=\"mobile-redirect-dialog-link-desktop\" id=\"mobile-redirect-dialog-link-desktop\">\n\t\t\t{MOBILE_REDIRECT_OPTION_DESKTOP}\n\t\t</div>\n\t\t<div class=\"mobile-redirect-dialog-link-mobile\" id=\"mobile-redirect-dialog-link-mobile\">\n\t\t\t{MOBILE_REDIRECT_OPTION_MOBILE}\n\t\t</div>\n\n\t\t<div class=\"watermark\">\n\t\t\t<div></div>\n\t\t</div>\n\n\t</div>\n\t\n</div>"}});define("kc/MobileRedirectOverlay",["dojo/_base/declare","kc/widget/common/_KCi18nMixin","dojo/html","dojo/text!kc/frame/templates/MobileRedirect.html","dijit/Dialog","dojo/i18n!kc/nls/kc","dojo/on","dojo/string","dojo/dom","dojo/cookie","kc/Constants","dojo/_base/lang","dojo/io-query","dojo/has","dojo/dom-attr","kc/Utils","kc/LinkManager","kc/KCExtensions"],function(_c8e,I18n,html,_c8f,_c90,_c91,on,_c92,dom,_c93,_c94,lang,_c95,has,_c96,_c97){_c8e("kc.MobileRedirectOverlay",null,{displayOverlay:function(){var i18n=new I18n();var _c98=document.querySelector("meta[name=viewport]");_c98.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no");var _c99=dom.byId("kcMobileRedirectOverlay");_c96.set(_c99,"role","main");html.set(_c99,lang.replace(_c8f,{MOBILE_REDIRECT_OPTION_TEXT:i18n.getString("MOBILE_REDIRECT_OPTION_TEXT"),MOBILE_REDIRECT_OPTION_DESKTOP:i18n.getString("MOBILE_REDIRECT_OPTION_DESKTOP"),MOBILE_REDIRECT_OPTION_MOBILE:i18n.getString("MOBILE_REDIRECT_OPTION_MOBILE")}));on(dom.byId("mobile-redirect-dialog-link-desktop"),"click",lang.hitch(this,"_processDesktopClick"));on(dom.byId("mobile-redirect-dialog-link-mobile"),"click",lang.hitch(this,"_processMobileClick"));},shouldRedirectToMobile:function(){if(!_c97.existsLocalStorage()){return false;}var _c9a=localStorage.getItem(_c94.MOBILE_REDIRECT_CHOICE);var _c9b=document.referrer;var _c9c=_c94.KC_ROOT+"/mobile";if(_c9b.indexOf(_c9c)>-1){localStorage.setItem(_c94.MOBILE_REDIRECT_CHOICE,"desktop");return false;}return _c9a==="mobile";},shouldDisplayOverlay:function(){if(!_c97.existsLocalStorage()){return false;}var _c9d=localStorage.getItem(_c94.MOBILE_REDIRECT_CHOICE);return _c9d==null&&has("mobile");},openMobileSite:function(){window.location.href=_c97.getExternalMobileSite();},_processDesktopClick:function(){localStorage.setItem(_c94.MOBILE_REDIRECT_CHOICE,"desktop");window.location.reload();},_processMobileClick:function(){localStorage.setItem(_c94.MOBILE_REDIRECT_CHOICE,"mobile");this.openMobileSite();}});kc.MobileRedirectOverlay.instance=null,kc.MobileRedirectOverlay.getInstance=function(){if(kc.MobileRedirectOverlay.instance===null){kc.MobileRedirectOverlay.instance=new kc.MobileRedirectOverlay();}return kc.MobileRedirectOverlay.instance;};return kc.MobileRedirectOverlay.getInstance();});},"url:kc/widget/search/templates/SaveSearchQuery.html":"<div data-dojo-attach-point=\"saveSearchQueryContainerNode\">\n\t<!-- TODO add accessibility, tab cycles -->\n\t<div class=\"displayInlineBlock\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_saveSearchQueryLabelButton\" label=\"${_saveSearchQueryBtnTitle}\"></div>\n\t<div data-dojo-type=\"dijit.form.DropDownButton\" data-dojo-attach-point=\"_saveSearchQueryButton\" class=\"saveSearchQueryButton\" label=\"${_saveSearchQueryBtnTitle}\" data-dojo-props=\"showLabel: false\">\n\t    <span></span>\n\t\t<div data-dojo-type=\"dijit.DropDownMenu\" data-dojo-attach-point=\"_saveSearchQueryMenu\" class=\"saveSearchQueryMenu\" aria-label=\"${_saveSearchQueryBtnTitle}\">\n\t\t    <div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_saveThisSearchQueryMenuItem\">${_saveThisSearchQueryLabel}</div>\n\t\t    <div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_managedSavedSearchQueriesMenuItem\">${_managedSavedSearchQueriesLabel}</div>\n\t\t\t<div data-dojo-type=\"dijit.MenuSeparator\" data-dojo-attach-point=\"_separatorMenuItem\"></div>\n\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_loadingMenuItem\" data-dojo-props=\"'label':'<div class=\\'loading\\'/>', 'style':'display:none'\"></div>\n\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_savedSearchesMenuItem\">${_savedSearchesLabel}</div>\n\t\t</div>\n\t</div>\n</div>","kc/state/_Hash":function(){define("kc/state/_Hash",["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/topic","dojo/hash","dojo/json","dojo/io-query","dojo/_base/url","idx/string","kc/Topics","kc/Messaging","kc/Constants","kc/Utils","idx/util","kc/state/StateUtils","kc/Cache","kc/controller/NavigationController","kc/widget/navigation/KCTOCStore","kc/widget/navigation/KCTOCStoreModel","kc/model/Topic","kc/model/Search","kc/model/Collection"],function(_c9e,_c9f,lang,_ca0,_ca1,hash,json,_ca2,dUrl,_ca3,_ca4,_ca5,_ca6,_ca7,_ca8,_ca9,_caa,_cab){return _c9e("kc.state._Hash",null,{_initializeSubscriptions:function(){_ca1.subscribe("/dojo/hashchange",lang.hitch(this,"_hashChanged"));},_startup:function(){_ca5.publish(_ca4.CONSOLE_TOC,[]);var hash=this.getHashString();if(_ca3.startsWith(hash,_ca6.HASH_PREFIX)){hash=hash.substr(_ca6.HASH_PREFIX.length);}var _cac=_ca9.stringToBrowserState(hash);var url=location.href;var _cad=new dUrl(url);var q=_cad.query;if(q&&q.length>0){_cac.language=_ca7.getObject(_ca6.BROWSER_STATE_PARAMETER_LANGUAGE,_ca2.queryToObject(q));}_ca5.publish(_ca4.BROWSER_URL_CHANGE,[_cac]);},_hashChanged:function(hash){if(_ca3.startsWith(hash,_ca6.HASH_PREFIX)){hash=hash.substr(_ca6.HASH_PREFIX.length);}var _cae=_ca9.stringToBrowserState(hash);_ca5.publish(_ca4.BROWSER_URL_CHANGE,[_cae]);},_updateBrowserState:function(_caf){var s=_ca6.HASH_PREFIX+_ca9.browserStateToString(_caf,false);this.setHashString(s);},getHashString:function(){return hash();},setHashString:function(hs){if(!!_ca8.isWebKit){setTimeout(function(){hash(hs);},1);}else{hash(hs);}}});});},"url:kc/widget/navigation/templates/TOC.html":"<div class=\"\">\n\t<div data-dojo-type=\"kc.widget.navigation.BreadcrumbController\" class=\"tocBreadcrumb\" data-dojo-attach-point=\"_tocBreadcrumb\" data-dojo-props=\"containerId:'tocContentContainer'\" aria-label=\"${_productsMessage}\"></div>\n\n\t<div class=\"currentProductLabel\"  id=\"currentProductLabel\" data-dojo-attach-point=\"_currentProductLabel\">${_productsMessage}</div>\n\t\t\n\t<div data-dojo-type=\"dijit.layout.StackContainer\" class=\"tocContentContainer\" id=\"tocContentContainer\" data-dojo-attach-point=\"_tocContentContainer\" doLayout=\"true\" style=\"width: 100%; height: 100%;\"></div>\n</div>\t\n","url:kc/widget/search/templates/_SearchTypeAheadMenuSeparator.html":"<tr>\n\t<td colspan=\"4\" class=\"menuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<span class=\"menuSeparatorLabel\" data-dojo-attach-point=\"_menuSeparatorLabel\"></span>\n\t</td>\n</tr>","kc/widget/topic/TopicActionBar":function(){require({cache:{"url:kc/widget/topic/templates/TopicActionBar.html":"{% extends actionBarTemplate %}\n\n{% block actionPlaceholderBeginning %}\n\t<div class=\"toolBarAction printIcon imageLink\" role=\"button\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_print\" title=\"{{printLabel}}\" label=\"&nbsp;\" accesskey=\"{{ACCESS_KEY_PRINT}}\"></div>\n{% endblock %}\n\t\n{% block actionPlaceholderEnd %}\n \t <div class=\"toolBarAction\" data-dojo-type=\"idx.form.DropDownLink\" data-dojo-attach-point=\"_saveToCollectionMenuLink\" label=\"{{saveToCollectionLabel}}\">\n\t \t<div data-dojo-type=\"dijit.Menu\" data-dojo-attach-point=\"_saveToCollectionMenu\">\t\t\t\t\t\t\n\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_saveToExistingCollection\" label=\"{{saveToExistingCollectionLabel}}\"></div>\n\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_saveToNewCollection\" label=\"{{saveToNewCollectionLabel}}\"></div>\n\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_saveTreeToExistingCollection\" label=\"{{saveTreeToExistingCollectionLabel}}\"></div>\n\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_saveTreeToNewCollection\" label=\"{{saveTreeToNewCollectionLabel}}\"></div>\t\t\t\t\n\t\t</div>\n\t </div>\n\n\t{% if feedbackEnabled %}\n\t\t<div class=\"toolBarAction\" data-dojo-type=\"kc.widget.topic.Rating\" data-dojo-attach-point=\"_rating\" data-dojo-props=\"mode: 'editable', hideZeroBadge: true\"></div>\n\t{% endif %}\n{% endblock %}\n"}});define("kc/widget/topic/TopicActionBar",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/keys","dojo/dom-class","kc/Utils","kc/widget/common/ActionBar","dojo/text!kc/widget/topic/templates/TopicActionBar.html","kc/Messaging","kc/Constants","kc/Topics","kc/controller/TopicController","kc/widget/topic/TopicUtils","kc/state/KCState","kc/DialogManager","kc/widget/common/KCTreeUtils","idx/form/DropDownLink","dijit/Menu","dijit/MenuItem","idx/form/Link","kc/widget/topic/Rating","kc/model/Topic"],function(_cb0,lang,_cb1,keys,_cb2,_cb3,_cb4,_cb5,_cb6,_cb7,_cb8,_cb9,_cba,_cbb,_cbc,_cbd){return _cb0("kc.widget.topic.TopicActionBar",[_cb4],{templateString:_cb5,contentType:_cb7.CONTENT_TOPIC,ACCESS_KEY_PRINT:_cb7.ACCESS_KEY_PRINT,_lastLanguage:_cb7.KC_LANGUAGE,actionBarClass:"topicActionBar",_hasLanguageAction:false,_hasShareAction:true,printLabel:"",saveToCollectionLabel:"",saveToExistCollectionLabel:"",saveToNewCollectionLabel:"",saveTreeToExistingCollectionLabel:"",saveTreeToNewCollectionLabel:"",saveProductToExistingCollectionLabel:"",saveProductToNewCollectionLabel:"",feedbackEnabled:(_cb7.getServerProperty(_cb7.SERVER_PROPERTY_KEY_FEEDBACK,_cb7.KC_FEEDBACK_DISABLED)!==_cb7.KC_FEEDBACK_DISABLED),_initializeStrings:function(){this.inherited(arguments);this.printLabel=this.getString("KC_PRINT");this.saveToCollectionLabel=this.getString("SAVE_TO_COLLECTION");this.saveToExistingCollectionLabel=this.getString("COLLECTION_ADD_TOPIC_TO_EXISTING");this.saveToNewCollectionLabel=this.getString("COLLECTION_ADD_TOPIC_TO_NEW");this.saveTreeToExistingCollectionLabel=this.getString("COLLECTION_ADD_TOPIC_TREE_TO_EXISTING");this.saveTreeToNewCollectionLabel=this.getString("COLLECTION_ADD_TOPIC_TREE_TO_NEW");this.saveProductToExistingCollectionLabel=this.getString("COLLECTION_ADD_PRODUCT_TO_EXISTING");this.saveProductToNewCollectionLabel=this.getString("COLLECTION_ADD_PRODUCT_TO_NEW");},_initializeConnections:function(){this.inherited(arguments);this._registerPublishActionEvent(this._print,_cb7.ACTION_PRINT);this.addConnection(this._saveToCollectionMenu,"onOpen",this,lang.hitch(this,this._onSaveToCollectionMenuOpen));this.addConnection(this._saveToExistingCollection,"onClick",this,lang.hitch(this,this._onSaveToExistingCollection,false));this.addConnection(this._saveToNewCollection,"onClick",this,lang.hitch(this,this._onSaveToNewCollection,false));this.addConnection(this._saveTreeToExistingCollection,"onClick",this,lang.hitch(this,this._onSaveToExistingCollection,true));this.addConnection(this._saveTreeToNewCollection,"onClick",this,lang.hitch(this,this._onSaveToNewCollection,true));},setData:function(_cbe){this.inherited(arguments);if(this.feedbackEnabled){this._rating.setup(_cbe);}},_onSaveToCollectionMenuOpen:function(){var _cbf=this.getData();if(_cb3.instanceOf(_cbf,kc.model.Topic)){var lp=_cb3.getObject(_cb7.TOPIC_LANDING_PAGE,_cbf);_cb3.setWidgetEnabled(this._saveToExistingCollection,!lp);_cb3.setWidgetEnabled(this._saveToNewCollection,!lp);_cb3.setWidgetEnabled(this._saveTreeToExistingCollection,!lp);_cb3.setWidgetEnabled(this._saveTreeToNewCollection,!lp);var _cc0=_cb3.getObject("_hasChildren",_cbf);var _cc1=_cba.isParent(_cbf);_cb3.setWidgetShow(this._saveTreeToExistingCollection,_cc0||_cc1);_cb3.setWidgetShow(this._saveTreeToNewCollection,_cc0||_cc1);_cb3.setWidgetShow(this._saveToExistingCollection,!_cc1);_cb3.setWidgetShow(this._saveToNewCollection,!_cc1);this._saveTreeToExistingCollection.set("label",_cc1?this.saveProductToExistingCollectionLabel:this.saveTreeToExistingCollectionLabel);this._saveTreeToNewCollection.set("label",_cc1?this.saveProductToNewCollectionLabel:this.saveTreeToNewCollectionLabel);}},_onSaveToExistingCollection:function(_cc2){var args=[_cb7.CONTENT_COLLECTION,_cb7.ACTION_COLLECTION_SAVE_TOPIC_TO_EXISTING,{alsoSaveChildren:_cc2},this.getData()];_cb6.publish(_cb8.KC_ACTION,args);},_onSaveToNewCollection:function(_cc3){var args=[_cb7.CONTENT_COLLECTION,_cb7.ACTION_COLLECTION_SAVE_TOPIC_TO_NEW,{alsoSaveChildren:_cc3},this.getData()];_cb6.publish(_cb8.KC_ACTION,args);}});});},"kc/HealthCheckManager":function(){define("kc/HealthCheckManager",["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/json","dojo/string","kc/widget/common/_KCi18nMixin","kc/Utils","kc/Topics","kc/Messaging","kc/Constants","kc/controller/Handler","kc/DialogManager"],function(_cc4,lang,_cc5,json,_cc6,_cc7,_cc8,_cc9,_cca,_ccb,_ccc,_ccd){var _cce=_cc4(null,{status:{KC_OK:0,PROBLEM_DETECTED:1},_lastKnownStatus:undefined,initialize:function(){this._reCheck({frequency:2500});},getAlertURL:function(){},getMessageURL:function(){},checkAlert:function(){var _ccf=new _cc5();_ccc.checkReachable(this.getAlertURL(),lang.hitch(this,function(_cd0){if(_cd0){_ccf.resolve({alsoShowDialog:_cc8.isUndefined(this._lastKnownStatus)});}else{_ccf.reject(false);}}));return _ccf;},checkMessage:function(_cd1){var _cd2=new _cc5();var _cd3={};_cd3.url=this.getMessageURL();_cd3.preventCache=false;_cd3.kcCache=true;_cd3.timeout=_ccb.XHR_TIMEOUT;_cd3.handleAs="text";_cd3.load=lang.hitch(this,function(r){r=this._parseMessage(r,_cd1);var _cd4={"default":"undefined"};if(_cc8.isObject(r)){_cd4=r;_cd2.resolve(_cd4);}else{if(!_cc8.isUndefined(r)&&!_cc8.isEmpty(""+r)){_cd4={"default":r};_cd2.resolve(_cd4);}else{_cd2.reject(false);}}});_cd3.error=lang.hitch(this,function(e){_cd2.reject(false);});_cd3.failOk=true;_ccc.doXhrGet(_cd3);return _cd2;},_reCheck:function(_cd5){var _cd6=function(){var _cd7=this.checkAlert();_cd7.then(lang.hitch(this,function(_cd8){this.checkMessage(_cd8).then(lang.hitch(this,function(ap,_cd9){this._displayMessage(ap,_cd9);this._lastKnownStatus=this.status.PROBLEM_DETECTED;this._reCheck(ap);},_cd8),lang.hitch(this,function(ap){this._cleanMessage(ap);this._lastKnownStatus=this.status.KC_OK;this._reCheck(ap);},_cd8));}),lang.hitch(this,function(){this._cleanMessage();this._lastKnownStatus=this.status.KC_OK;this._reCheck();}));};var _cda=_cc8.getObject("frequency",_cd5,_ccb.getServerProperty(_ccb.SERVER_PROPERTY_KEY_HEALTCHECK_FREQUENCY,300000));setTimeout(lang.hitch(this,_cd6),_cda);},_parseMessage:function(_cdb,_cdc){return _cdb;},_displayMessage:function(_cdd,_cde){var m=_cc8.getObject("default",_cde);m=_cc8.getObject(_ccb.KC_LANGUAGE,_cde,m);var _cdf="false";if(_cc8.existsLocalStorage()){_cdf=localStorage.getItem(_ccb.HEALTHCHECK_SEEN);}if(_cdd.alsoShowDialog&&_cdf!=="true"){if(_cc8.existsLocalStorage()){localStorage.setItem(_ccb.HEALTHCHECK_SEEN,"true");}_cdd.alsoShowDialog=false;_ccd.showWarningDialog(undefined,m,lang.hitch(this,function(){this._showAlert(m);}));}else{this._showAlert(m);}},_cleanMessage:function(_ce0){this._hideAlert();},_showAlert:function(_ce1){_cca.publish(_cc9.KC_HEALTH_CHECK_ALERT,[_ccb.ALERT_INFO,_ce1]);},_hideAlert:function(){_cca.publish(_cc9.KC_HEALTH_CHECK_ALERT,[_ccb.ALERT_SUCCESS,new _cc7().getString("HEALTH_CHECK_BACK_TO_NORMAL")]);}});var _ce2=_cc4([_cce],{getAlertURL:function(){return _ccb.KC_ROOT+_ccb.getServerProperty(_ccb.SERVER_PROPERTY_KEY_HEALTCHECK_MESSAGE_URL);},getMessageURL:function(){return _ccb.KC_ROOT+_ccb.getServerProperty(_ccb.SERVER_PROPERTY_KEY_HEALTCHECK_MESSAGE_URL);},_parseMessage:function(_ce3,_ce4){try{_ce3=_cc8.isEmpty(_ce3)?undefined:json.parse(_ce3);}catch(jpe){}return _ce3;}});var _ce5=_cc4([_cce],{getAlertURL:function(){return _ccb.KC_ROOT+_ccb.getServerProperty(_ccb.SERVER_PROPERTY_KEY_HEALTCHECK_ALERT_URL);},getMessageURL:function(){return _ccb.KC_ROOT+_ccb.getServerProperty(_ccb.SERVER_PROPERTY_KEY_HEALTCHECK_MESSAGE_URL);},checkAlert:function(){var _ce6=new _cc5();var _ce7={};_ce7.url=this.getAlertURL();_ce7.preventCache=true;_ce7.timeout=_ccb.XHR_TIMEOUT;_ce7.handleAs="text";_ce7.load=lang.hitch(this,function(r){try{r=_cc8.isEmpty(r)?undefined:json.parse(r);}catch(jpe){}if(_cc8.isUndefined(r)){_ce6.reject(false);}else{if(_cc8.isString(r)){_ce6.resolve({alsoShowDialog:_cc8.isUndefined(this._lastKnownStatus),alert:_cc6.trim(r)});}else{if(_cc8.isObject(r)){var _ce8={alsoShowDialog:_cc8.isUndefined(this._lastKnownStatus)};lang.mixin(_ce8,r);_ce6.resolve(_ce8);}else{_ce6.reject(false);}}}});_ce7.error=lang.hitch(this,function(e){_ce6.reject(false);});_ce7.failOk=true;_ccc.doXhrGet(_ce7);return _ce6;},_parseMessage:function(_ce9,_cea){try{_ce9=_cc8.isEmpty(_ce9)?undefined:json.parse(_ce9);}catch(jpe){}if(_cc8.isObject(_ce9)&&_cc8.getObject("alert",_cea)){return _cc8.getObject(_cc8.getObject("alert",_cea),_ce9,_ce9);}return _ce9;}});_cc4("kc.HealthCheckManager",null,{_initialized:false,_checker:undefined,_debug:_ccb.debugMode,initialize:function(){if(this._initialized){return;}var _ceb=_ccb.getServerProperty(_ccb.SERVER_PROPERTY_KEY_HEALTCHECK_DISABLED,"false")==="true";if(!_ceb){this._checker=new _ce5();this._checker.initialize();}else{if(_cc8.existsLocalStorage()){localStorage.setItem(_ccb.HEALTHCHECK_SEEN,"false");}}this._initialized=true;}});kc.HealthCheckManager.instance=null,kc.HealthCheckManager.getInstance=function(){if(kc.HealthCheckManager.instance===null){kc.HealthCheckManager.instance=new kc.HealthCheckManager();kc.HealthCheckManager.instance.initialize();}return kc.HealthCheckManager.instance;};return kc.HealthCheckManager.getInstance();});},"kc/controller/Handler":function(){define("kc/controller/Handler",["dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","kc/controller/_CloningDeferred","dojo/_base/xhr","dojo/json","kc/Messaging","kc/Constants","kc/Topics","kc/URIs","kc/Utils","kc/DialogManager","kc/Cache","kc/widget/common/_KCi18nMixin","kc/state/KCState","idx"],function(lang,_cec,_ced,_cee,xhr,json,_cef,_cf0,_cf1,URIs,_cf2,_cf3,_cf4,_cf5,_cf6,idx){return {_messages:new _cf5(),doXhrGet:function(_cf7,_cf8){_cf7=this._wrapXhrArgs(_cf7,"GET",_cf8);var _cf9=_cf2.getObject("kcCache",_cf7,false);var _cfa=_cf2.getObject("preventCache",_cf7);if(_cf9===true&&_cfa===false){var _cfb=_cf4.get(_cf0.CACHE_URL_TO_DATA,_cf7.url);if(!_cf2.isUndefined(_cfb)){var hit=lang.hitch(this,function(v){var _cfc=new _ced();_cfc.then(function(_cfd){return _cf7.load?_cf7.load.call(_cf7,_cfd):undefined;});_cfc.resolve(_cf2.clone(v));return _cfc;});var _cfe=lang.hitch(this,function(e){var _cff=new _ced();_cff.then(function(_d00){return _cf7.error?_cf7.error.call(_cf7,_d00):undefined;});_cff.resolve(e);return _cff;});if(_cfb instanceof _cee){return _cfb.then(hit,_cfe);}else{return hit(_cfb);}}else{var _d01=xhr("GET",_cf7);var _d02=new _cee();_d01.then(_d02.resolve,_d02.error,_d02.progress);_cf4.put(_cf0.CACHE_URL_TO_DATA,_cf7.url,_d02);return _d02;}}else{return xhr("GET",_cf7);}},doXhrPut:function(_d03,_d04){_d03=this._wrapXhrArgs(_d03,"PUT",_d04);return xhr("PUT",_d03);},doXhrPost:function(_d05,_d06){_d05=this._wrapXhrArgs(_d05,"POST",_d06);return xhr("POST",_d05);},doXhrDelete:function(_d07,_d08){_d07=this._wrapXhrArgs(_d07,"DELETE",_d08);return xhr("DELETE",_d07);},_wrapXhrArgs:function(_d09,_d0a,_d0b){var _d0c=lang.clone(_d09);_d0c.method=_d0a;if(!_cf2.isObject(_d0c.headers)){_d0c.headers={};}_d0c.headers[_cf0.HEADER_KC_LANGUAGE]=_cf0.KC_LANGUAGE;_d0c.headers[_cf0.HEADER_KC_REQUEST_ORIGIN]=_cf0.HEADER_KC_REQUEST_ORIGIN_VALUE;_d0c.load=lang.hitch(this,this._handlerLoad,_d0b,_d0c.load);var _d0d=_cf2.getObject("postSignInAction",_d0c);_d0c.error=lang.hitch(this,this._handlerError,_d0c.url,_d0b,_d0d,_d0c.error);return _d0c;},_handlerLoad:function(_d0e,_d0f,data,args){var _d10=_cf2.getObject("args.kcCache",args,false);if(_d10===true&&args.args.method==="GET"){_cf4.put(_cf0.CACHE_URL_TO_DATA,args.args.url,data);data=_cf2.clone(data);}if(_d0f){_d0f(data);}if(_d0e){_cef.publish(_d0e,[data]);}},_handlerError:function(url,_d11,_d12,_d13,_d14){var _d15={};_cf2.setObject(_cf0.STATUS,_cf0.STATUS_ERROR,_d15);_cf2.setObject(_cf0.STATUS_ERROR,_d14,_d15);_cf2.setObject("code",_cf2.getObject("xhr.status",_d14),_d15);_cf2.setObject("response",_cf2.getObject("xhr.responseText",_d14),_d15);_cf2.setObject("url",url,_d15);if(_d15.code===401){_cf6.user=undefined;var _d16=true;if(_cf2.isString(_d15.response)&&_d15.response.indexOf(_cf0.TOPIC_CONTENT_RESPONSE_ENTITLED)>-1){_d16=false;}if(_d16){_cf3.showWarningDialog(this._messages.getString("warning"),this._messages.getString("SESSION_TIME_OUT_DESCRIPTION"),lang.hitch(this,function(){_cef.subscribe(_cf1.KC_SIGN_IN,this,function(){location.reload();},_cf0.MESSAGING_PRIORITY_LATE);if(_d12){_cef.publish(_cf1.KC_SIGN_IN,[_d12]);}else{_cef.publish(_cf1.KC_SIGN_IN,[]);}}),this._messages.getString("ACTION_OK"));}}if(_d13){var _d17=_d13(_d14)===true;if(_d17){this._handleError(_d14);}}else{if(_d15.code!==401){this._handleError(_d14);}}if(_d11){_cef.publish(_d11,[_d15]);}},_handleError:function(_d18){if(_d18.dojoType==="cancel"){return;}var _d19=_cf2.getObject("xhr.status",_d18)?(_cf2.getObject("xhr.status",_d18)+" "+_cf2.getObject("xhr.statusText",_d18)):undefined;var _d1a=_d18.message;var _d1b=_cf2.getObject("xhr.responseText",_d18);try{var _d1c=_cf2.isEmpty(_d1b)?undefined:json.parse(_d1b);var key=_cf2.getObject("errorKey",_d1c,"");if(_cf2.isObject(_d1c)&&_cf2.isString(key)){if(this._messages.hasString(key)){var _d1d={};var _d1e=_cf2.getObject("error",_d1c,{});_cec.forEach(_cf2.getPropertiesOfObject(_d1e),lang.hitch(this,function(prop){var a=_cf2.stripBeginning(prop,"errorKeyArgument");if(!_cf2.isEmpty(a)){_d1d[a]=_d1e[prop];}}));if(_cf2.isEmpty(_d1d)){_d1d=undefined;}_d1b=this._messages.getString(key,_d1d);var _d1f=_cf2.getObject("error.exception",_d1c);if(_cf2.isString(_d1f)){_d1b+="<br><br>"+_d1f;}}else{if(_cf2.getObject("translatedMessage",_d1c)){_d1b=_cf2.getObject("translatedMessage",_d1c);var _d1f=_cf2.getObject("error.exception",_d1c);if(_cf2.isString(_d1f)){_d1b+="<br><br>"+_d1f;}}}}else{_d1b=_cf2.stringify(_cf2.getObject("xhr.responseText",_d18,this._messages.getString("USPECIFIED_ERROR")));}}catch(jpe){_d1b=_cf2.stringify(_cf2.getObject("xhr.responseText",_d18,this._messages.getString("USPECIFIED_ERROR")));}_cf3.showErrorDialog({messageId:_d19,summary:_d1b,detail:_d1a});},checkReachable:function(url,_d20){if(_cf2.isString(url)&&_cf2.isFunction(_d20)){var _d21={};_d21.url=url;_d21.preventCache=true;_d21.timeout=_cf0.XHR_TIMEOUT;_d21.load=function(data,_d22){var _d23=_d22.xhr.status;var _d24=(_d23>=200&&_d23<400);_d20(_d24,_d23,data);};_d21.error=function(data,_d25){var _d26=_d25.xhr.status;_d20(false,_d26,data);};_d21.failOk=true;xhr("HEAD",_d21);}},isCancelled:function(data){if(_cf0.STATUS_ERROR===_cf2.getObject(_cf0.STATUS,data)){var _d27=_cf2.getObject(_cf0.STATUS_ERROR,data);if(_d27&&_d27.dojoType==="cancel"){return true;}}return false;}};});},"kc/widget/collection/_CollectionContextMenuMixin":function(){define("kc/widget/collection/_CollectionContextMenuMixin",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/string","kc/widget/common/_KCi18nMixin","kc/Utils","kc/Messaging","kc/Constants","kc/Topics","kc/URIs","kc/state/KCState","kc/widget/topic/TopicUtils","dijit/Menu","dijit/MenuItem"],function(_d28,lang,_d29,_d2a,_d2b,_d2c,_d2d,_d2e,_d2f,URIs,_d30,_d31){return _d28("kc.widget.collection._CollectionContextMenuMixin",[_d2b],{_createContextMenuItems:function(menu){this.inherited(arguments);menu.addChild(this._createSaveToExistingCollectionMenuItem());menu.addChild(this._createSaveToNewCollectionMenuItem());},_createSaveToExistingCollectionMenuItem:function(){var self=this;var mi=new dijit.MenuItem({label:this.getString("COLLECTION_ADD_TOPIC_TO_EXISTING"),onClick:function(e){lang.hitch(self,self._saveToExistingCollectionMenuItemClicked)(this.getData());},onDataChange:function(_d32){var _d33=lang.hitch(self,self._canAddToCollection)(_d32);this.set("disabled",!_d33);var _d34=_d31.isParent(_d32);var _d35=lang.hitch(self,self._hasChildren)(_d32);this.set("label",_d34?self.getString("COLLECTION_ADD_PRODUCT_TO_EXISTING"):_d35?self.getString("COLLECTION_ADD_TOPIC_TREE_TO_EXISTING"):self.getString("COLLECTION_ADD_TOPIC_TO_EXISTING"));}});return mi;},_createSaveToNewCollectionMenuItem:function(){var self=this;var mi=new dijit.MenuItem({label:this.getString("COLLECTION_ADD_TOPIC_TO_NEW"),onClick:function(e){lang.hitch(self,self._saveToNewCollectionMenuItemClicked)(this.getData());},onDataChange:function(_d36){var _d37=(lang.hitch(self,self._canAddToCollection)(_d36));this.set("disabled",!_d37);var _d38=_d31.isParent(_d36);var _d39=lang.hitch(self,self._hasChildren)(_d36);this.set("label",_d38?self.getString("COLLECTION_ADD_PRODUCT_TO_NEW"):_d39?self.getString("COLLECTION_ADD_TOPIC_TREE_TO_NEW"):self.getString("COLLECTION_ADD_TOPIC_TO_NEW"));}});return mi;},_saveToExistingCollectionMenuItemClicked:function(_d3a){var _d3b=this._hasChildren(_d3a);var _d3c=_d31.isParent(_d3a);if(_d3c){_d3b=true;_d3a=lang.clone(_d3a);_d2c.setObject(_d2e.TOC_HREF,_d2c.getObject(_d2e.TOC_ID,_d3a),_d3a);}var args=[_d2e.CONTENT_COLLECTION,_d2e.ACTION_COLLECTION_SAVE_TOPIC_TO_EXISTING,{alsoSaveChildren:_d3b},_d3a];_d2d.publish(_d2f.KC_ACTION,args);},_saveToNewCollectionMenuItemClicked:function(_d3d){var _d3e=this._hasChildren(_d3d);var _d3f=_d31.isParent(_d3d);if(_d3f){_d3e=true;_d3d=lang.clone(_d3d);_d2c.setObject(_d2e.TOC_HREF,_d2c.getObject(_d2e.TOC_ID,_d3d),_d3d);}var args=[_d2e.CONTENT_COLLECTION,_d2e.ACTION_COLLECTION_SAVE_TOPIC_TO_NEW,{alsoSaveChildren:_d3e},_d3d];_d2d.publish(_d2f.KC_ACTION,args);},_canAddToCollection:function(_d40){if(_d31.isProductLanding(_d40)){return false;}else{if(_d31.isParent(_d40)){return true;}}return this._canOpenInNewWindow(_d40);},_canOpenInNewWindow:function(_d41){return _d31.hasHref(_d41);},_hasChildren:function(_d42){return _d2c.getObject("_hasChildren",_d42,false);}});});},"url:kc/frame/templates/Frame.html":"<div class=\"frameContent\">\n\t\n\t<div id=\"kcHeader\" data-dojo-type=\"kc.frame.Header\" data-dojo-props=\"'class':'headerFrame', region: 'top'\" data-dojo-attach-point=\"_kcHeader\" role=\"banner\"> </div>\n\t\n\t<div data-dojo-type=\"kc.widget.common.ToggleContainer\" data-dojo-props=\"style: 'width: 100%; height: 100%;', header: 'kcHeader'\" data-dojo-attach-point=\"_kcHLT\">\t\t\n\t\t<div data-dojo-type=\"kc.frame.Search\" data-dojo-props=\"'class':'searchFrame', region: 'top'\" data-dojo-attach-point=\"_kcSearch\" role=\"search\" aria-label=\"${_searchWidgetTitle}\"> </div>\n\t\t<div data-dojo-type=\"kc.frame.Console\" data-dojo-props=\"style: '', region: 'center'\" data-dojo-attach-point=\"_kcConsole\"> </div>\n\t\t<div data-dojo-type=\"kc.frame.Footer\" data-dojo-props=\"'class':'footerFrame', region: 'bottom'\" data-dojo-attach-point=\"_kcFooter\" role=\"contentinfo\"> </div>\t\n\t</div>\n\t\n</div>","url:kc/widget/search/templates/_SearchResultEntry.html":"<div class=\"searchEntryContainer\" data-dojo-attach-point=\"_containerNode\">\n\t<div class=\"searchResultTitle\">\n\t    <span data-dojo-attach-point=\"_searchResultTitleNode\"></span>\n\t</div>  \n\t<div class=\"searchResultDescription\">\n\t    <span data-dojo-attach-point=\"_searchResultDescNode\"></span>\n\t</div>\n\t<div>\n\t    <ul class=\"searchResultMeta\">\n\t        <li><div class=\"displayInlineBlock\">${_searchResultDateLabel}</div>\n\t        \t<div class=\"displayInlineBlock\" data-dojo-attach-point=\"_publishDate\"></div>\n\t        </li>\n\t        <!-- task 55802, Removing \"info type\" from KC 1. 5 search results , will enable this function in future version -->\n\t        <!--\n\t        <li class=\"seperator\">\n\t        \t<div class=\"displayInlineBlock\">${_searchResultInformationTypeLabel}</div>\n\t        \t<div class=\"displayInlineBlock\" data-dojo-attach-point=\"_informationType\"></div>\n\t        </li>\n\t         -->\n\t        <li class=\"seperator\">\n\t        \t<div class=\"displayInlineBlock\">${_searchResultFoundInLabel}</div>\n\t        \t<div class=\"displayInlineBlock\" data-dojo-attach-point=\"_foundIn\"></div>\n\t        </li>\n\t    </ul>\n\t</div>\n</div>","kc/widget/common/KCTree":function(){define("kc/widget/common/KCTree",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-class","dojo/_base/connect","kc/widget/common/_KCi18nMixin","kc/widget/common/_ContextMenuMixin","kc/Messaging","kc/Constants","kc/Utils","kc/widget/common/KCTreeUtils","kc/widget/common/_DataHolderMixin","dijit/Tree","dijit/Menu","dijit/MenuItem","dijit/MenuSeparator"],function(_d43,lang,_d44,_d45,_d46,_d47,_d48,_d49,_d4a,_d4b,_d4c){_d43("kc.widget.common.KCTreeNode",[dijit._TreeNode,_d47],{});return _d43("kc.widget.common.KCTree",[dijit.Tree,_d47,_d48],{_getMenuBindNode:function(){return this.domNode;},getRowClass:function(item,_d4d){return "kcTreeItem";},getIconClass:function(item,_d4e){return "";},getLabelClass:function(item,_d4f){return _d4f?"kcTreeItemExpanded":_d4c.isLeaf(item,this.model.store,this.model)?"oneUILink":"kcTreeItem";},_createTreeNode:function(args){return new kc.widget.common.KCTreeNode(args);},_onClick:function(_d50,e){var _d51=e.target;if(_d45.contains(_d51,"dijitTreeExpando")&&_d50.isExpandable){this._onExpandoClick({node:_d50,twistieClicked:true});}else{this.inherited(arguments);}},_onDblClick:function(_d52,e){},onClick:function(item,node,_d53){this._itemClicked(item);},_onExpandoClick:function(_d54){this._itemClicked(_d54.node.item);if(_d54.twistieClicked||!_d54.node.isExpanded){this.inherited(arguments);}},getTooltip:function(item){var _d55=this.model.store.getValue(item,this.model.store._labelAttr);return _d55;},refresh:function(){this.dndController.selectNone();this.model.store.clearOnClose=true;this.model.store.close();this._itemNodesMap={};this.rootNode.state="UNCHECKED";this.model.root.children=null;this.rootNode.destroyRecursive();this.model.constructor(this.model);this.postMixInProperties();this._load();},_itemClicked:function(item){return true;}});});},"kc/widget/collection/CollectionsWelcome":function(){require({cache:{"url:kc/widget/collection/templates/CollectionsWelcome.html":"<div class=\"collectionsWelcome\">\n\t<div class=\"welcome_box\">\n\t\t<div class=\"welcome_box_inner\">\n\t\t\t<h1 class=\"welcome_title\">${COLLECTION_WELCOME_TITLE}</h1>\n\t\n\t\t\t<p class=\"welcome_description\">${COLLECTION_WELCOME_HEADER}</p>\n\t\t\t\n\t\t\t<p class=\"group_header\">${COLLECTION_WELCOME_GROUP_HEADER}</p>\t\t\t\n\n\t\t\t<div class=\"contentWrapper\">\n\t\t\t<div class=\"contentWrapperInner\">\n\t\t\t\t<ol class=\"collection_box\">\n\t\t            <li class=\"navigate\">\n\t\t            \t<span class=\"icon\"></span>\n\t\t            \t<p>${COLLECTION_WELCOME_GROUP_SEARCHFILTER}</p>\n\t\t            </li>\n\t\t            <li class=\"custom\">\n\t\t            \t<span class=\"icon\"></span>\n\t\t            \t<p>${COLLECTION_WELCOME_GROUP_SELECTPAGES}</p>\n\t\t            </li>\n\t\t            <li class=\"interact\">\n\t\t            \t<span class=\"icon\"></span>\n\t\t\t\t\t\t<p>${COLLECTION_WELCOME_GROUP_ORGANIZE}</p>\n\t\t            </li>\n\t\t            <li class=\"build\">\n\t\t            \t<span class=\"icon\"></span>\n\t\t\t\t\t\t<p>${COLLECTION_WELCOME_GROUP_VIEWORPRINT}</p>\n\t\t            </li>\n\t\t\t\t</ol>\n\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p class=\"content_description\">${COLLECTION_WELCOME_FOOTER}</p>\n\t\t</div>\t\t\n\t</div>\t\n\n\n</div>"}});define("kc/widget/collection/CollectionsWelcome",["dojo/_base/declare","kc/widget/common/KCWidget","dojo/text!kc/widget/collection/templates/CollectionsWelcome.html","kc/Messaging","kc/Topics"],function(_d56,_d57,_d58,_d59,_d5a){return _d56("kc.widget.collection.CollectionsWelcome",[_d57],{templateString:_d58,_initializeStrings:function(){this.COLLECTION_WELCOME_TITLE=this.getString("COLLECTION_WELCOME_TITLE");this.COLLECTION_WELCOME_HEADER=this.getString("COLLECTION_WELCOME_HEADER");this.COLLECTION_WELCOME_GROUP_HEADER=this.getString("COLLECTION_WELCOME_GROUP_HEADER");this.COLLECTION_WELCOME_GROUP_SEARCHFILTER=this.getString("COLLECTION_WELCOME_GROUP_SEARCHFILTER");this.COLLECTION_WELCOME_GROUP_SELECTPAGES=this.getString("COLLECTION_WELCOME_GROUP_SELECTPAGES");this.COLLECTION_WELCOME_GROUP_ORGANIZE=this.getString("COLLECTION_WELCOME_GROUP_ORGANIZE");this.COLLECTION_WELCOME_GROUP_VIEWORPRINT=this.getString("COLLECTION_WELCOME_GROUP_VIEWORPRINT");this.COLLECTION_WELCOME_FOOTER=this.getString("COLLECTION_WELCOME_FOOTER");},postCreate:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);}});});},"kc/LinkManager":function(){define("kc/LinkManager",["dojo/_base/declare","dojo/_base/kernel","dojo/_base/window","dojo/has","dojo/dom-construct","kc/Topics","kc/Messaging","kc/Constants"],function(_d5b,_d5c,win,has,_d5d,_d5e,_d5f,_d60){_d5b("kc.LinkManager",null,{_initialized:false,_debug:_d60.debugMode,initialize:function(){if(this._initialized){return;}_d5f.subscribe(_d5e.EXTERNAL_LINK,this,"_openExternalLink");this._initialized=true;},_openExternalLink:function(url){if(this._debug){}if(url){if(!has("ff")&&url.indexOf("mailto:")==0){var ifr=_d5d.create("iframe");ifr.src=url;var _d61=win.body();_d61.appendChild(ifr);_d61.removeChild(ifr);_d5d.destroy(ifr);}else{_d5c.global.open(url,"_blank");}}}});kc.LinkManager.instance=null,kc.LinkManager.getInstance=function(){if(kc.LinkManager.instance===null){kc.LinkManager.instance=new kc.LinkManager();kc.LinkManager.instance.initialize();}return kc.LinkManager.instance;};return kc.LinkManager.getInstance();});},"dojo/io/iframe":function(){define("dojo/io/iframe",["../main","require"],function(dojo,_d62){dojo.getObject("io",true,dojo);dojo.io.iframe={create:function(_d63,_d64,uri){if(window[_d63]){return window[_d63];}if(window.frames[_d63]){return window.frames[_d63];}var turi=uri;if(!turi){if(dojo.config["useXDomain"]&&!dojo.config["dojoBlankHtmlUrl"]){console.warn("dojo.io.iframe.create: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}turi=(dojo.config["dojoBlankHtmlUrl"]||_d62.toUrl("../resources/blank.html"));}var _d65=dojo.place("<iframe id=\""+_d63+"\" name=\""+_d63+"\" src=\""+turi+"\" onload=\""+_d64+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",dojo.body());window[_d63]=_d65;return _d65;},setSrc:function(_d66,src,_d67){try{if(!_d67){if(dojo.isWebKit){_d66.location=src;}else{frames[_d66.name].location=src;}}else{var idoc;if(dojo.isIE||dojo.isWebKit){idoc=_d66.contentWindow.document;}else{idoc=_d66.contentWindow;}if(!idoc){_d66.location=src;}else{idoc.location.replace(src);}}}catch(e){}},doc:function(_d68){return _d68.contentDocument||(((_d68.name)&&(_d68.document)&&(dojo.doc.getElementsByTagName("iframe")[_d68.name].contentWindow)&&(dojo.doc.getElementsByTagName("iframe")[_d68.name].contentWindow.document)))||((_d68.name)&&(dojo.doc.frames[_d68.name])&&(dojo.doc.frames[_d68.name].document))||null;},send:function(args){if(!this["_frame"]){this._frame=this.create(this._iframeName,dojo._scopeName+".io.iframe._iframeOnload();");}var dfd=dojo._ioSetArgs(args,function(dfd){dfd.canceled=true;dfd.ioArgs._callNext();},function(dfd){var _d69=null;try{var _d6a=dfd.ioArgs;var dii=dojo.io.iframe;var ifd=dii.doc(dii._frame);var _d6b=_d6a.handleAs;_d69=ifd;if(_d6b!="html"){if(_d6b=="xml"){if(dojo.isIE<9||(dojo.isIE&&dojo.isQuirks)){dojo.query("a",dii._frame.contentWindow.document.documentElement).orphan();var _d6c=(dii._frame.contentWindow.document).documentElement.innerText;_d6c=_d6c.replace(/>\s+</g,"><");_d6c=dojo.trim(_d6c);var _d6d={responseText:_d6c};_d69=dojo._contentHandlers["xml"](_d6d);}}else{_d69=ifd.getElementsByTagName("textarea")[0].value;if(_d6b=="json"){_d69=dojo.fromJson(_d69);}else{if(_d6b=="javascript"){_d69=dojo.eval(_d69);}}}}}catch(e){_d69=e;}finally{_d6a._callNext();}return _d69;},function(_d6e,dfd){dfd.ioArgs._hasError=true;dfd.ioArgs._callNext();return _d6e;});dfd.ioArgs._callNext=function(){if(!this["_calledNext"]){this._calledNext=true;dojo.io.iframe._currentDfd=null;dojo.io.iframe._fireNextRequest();}};this._dfdQueue.push(dfd);this._fireNextRequest();dojo._ioWatch(dfd,function(dfd){return !dfd.ioArgs["_hasError"];},function(dfd){return (!!dfd.ioArgs["_finished"]);},function(dfd){if(dfd.ioArgs._finished){dfd.callback(dfd);}else{dfd.errback(new Error("Invalid dojo.io.iframe request state"));}});return dfd;},_currentDfd:null,_dfdQueue:[],_iframeName:dojo._scopeName+"IoIframe",_fireNextRequest:function(){try{if((this._currentDfd)||(this._dfdQueue.length==0)){return;}do{var dfd=this._currentDfd=this._dfdQueue.shift();}while(dfd&&dfd.canceled&&this._dfdQueue.length);if(!dfd||dfd.canceled){this._currentDfd=null;return;}var _d6f=dfd.ioArgs;var args=_d6f.args;_d6f._contentToClean=[];var fn=dojo.byId(args["form"]);var _d70=args["content"]||{};if(fn){if(_d70){var _d71=function(name,_d72){dojo.create("input",{type:"hidden",name:name,value:_d72},fn);_d6f._contentToClean.push(name);};for(var x in _d70){var val=_d70[x];if(dojo.isArray(val)&&val.length>1){var i;for(i=0;i<val.length;i++){_d71(x,val[i]);}}else{if(!fn[x]){_d71(x,val);}else{fn[x].value=val;}}}}var _d73=fn.getAttributeNode("action");var _d74=fn.getAttributeNode("method");var _d75=fn.getAttributeNode("target");if(args["url"]){_d6f._originalAction=_d73?_d73.value:null;if(_d73){_d73.value=args.url;}else{fn.setAttribute("action",args.url);}}if(!_d74||!_d74.value){if(_d74){_d74.value=(args["method"])?args["method"]:"post";}else{fn.setAttribute("method",(args["method"])?args["method"]:"post");}}_d6f._originalTarget=_d75?_d75.value:null;if(_d75){_d75.value=this._iframeName;}else{fn.setAttribute("target",this._iframeName);}fn.target=this._iframeName;dojo._ioNotifyStart(dfd);fn.submit();}else{var _d76=args.url+(args.url.indexOf("?")>-1?"&":"?")+_d6f.query;dojo._ioNotifyStart(dfd);this.setSrc(this._frame,_d76,true);}}catch(e){dfd.errback(e);}},_iframeOnload:function(){var dfd=this._currentDfd;if(!dfd){this._fireNextRequest();return;}var _d77=dfd.ioArgs;var args=_d77.args;var _d78=dojo.byId(args.form);if(_d78){var _d79=_d77._contentToClean;for(var i=0;i<_d79.length;i++){var key=_d79[i];for(var j=0;j<_d78.childNodes.length;j++){var _d7a=_d78.childNodes[j];if(_d7a.name==key){dojo.destroy(_d7a);break;}}}if(_d77["_originalAction"]){_d78.setAttribute("action",_d77._originalAction);}if(_d77["_originalTarget"]){_d78.setAttribute("target",_d77._originalTarget);_d78.target=_d77._originalTarget;}}_d77._finished=true;}};return dojo.io.iframe;});},"url:kc/widget/search/templates/SearchOptionsDialog.html":"<div class=\"searchOptionsDialog\" data-dojo-attach-point=\"_searchOptionsDialogContainer\">\n    <div class=\"autoContextOptionContainer\">\n        <input id=\"autoContextOption\" data-dojo-type=\"idx.oneui.form.CheckBox\" \n            data-dojo-attach-point=\"_autoContextOption\"\n\t\t\tdata-dojo-props=\"name:'autoContextOption'\n\t\t\">\n\t    </input>\n\t</div>\n\t<div class=\"scopeOptionContainer\">\n\t    <select id=\"scopeOption\" multiple=\"true\" data-dojo-type=\"idx.oneui.form.RadioButtonSet\" label=\"${_tocOptionLabel}\"\n\t        data-dojo-attach-point=\"_scopeOption\"\n\t        data-dojo-props=\"name: 'scopeOption',\n\t\t\t                 groupAlignment: 'vertical'\">\n\t\t\t<option value=\"toc\">${_tocOptionLabel}</option>\n\t\t\t<option value=\"tag\">${_tagOptionLabel}</option>\t\t\t\n\t\t</select>\n\t</div>\n\t<div class=\"tagOptionContainer\">\n\t    <select id=\"tagOption\" multiple=\"true\" data-dojo-type=\"idx.oneui.form.RadioButtonSet\" label=\"${_tagOptionLabel}\"\n\t        data-dojo-attach-point=\"_tagOption\"\n\t        data-dojo-props=\"name: 'tagOption',\n\t\t\t                 groupAlignment: 'vertical'\">\n\t\t\t<option value=\"tagAll\">${_tagAllOptionLabel}</option>\n\t\t    <option value=\"tagScope\">${_tagProductScopeOptionLabel}</option>\t\t\t\n\t\t</select>\n\t</div>\n\t<div class=\"productInfoContainer\" data-dojo-attach-point=\"_productInfo\"></div>\n</div>","url:kc/widget/collection/templates/Collections.html":"<div class=\"collections\">\n\t<div data-dojo-attach-point=\"_treePlaceholder\">\n\t\t<div class=\"initialMessage\" role=\"log\" aria-live=\"polite\" aria-label=\"${_myCollectionsLabel}\" tabindex=\"0\">${_initialMessage}</div>\n\t</div>\n</div>\t\n\n","kc/state/_HTML5History":function(){define("kc/state/_HTML5History",["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/json","dojo/io-query","dojo/_base/url","idx/string","kc/Topics","kc/Messaging","kc/Constants","kc/Utils","kc/state/StateUtils","kc/Cache","kc/controller/NavigationController","kc/widget/navigation/KCTOCStore","kc/widget/navigation/KCTOCStoreModel","kc/model/Topic","kc/model/Search","kc/model/Collection"],function(_d7b,_d7c,lang,_d7d,json,_d7e,dUrl,_d7f,_d80,_d81,_d82,_d83,_d84,_d85,_d86){return _d7b("kc.state._HTML5History",null,{_initializeSubscriptions:function(){window.addEventListener("popstate",lang.hitch(this,"_historyChanged"));},_startup:function(){_d81.publish(_d80.CONSOLE_TOC,[]);var url=location.href;var _d87=new dUrl(url);var s="";var path=_d87.path;if(_d7f.startsWith(path,_d82.KC_ROOT+"/")){s+=path.substr((_d82.KC_ROOT+"/").length);}var _d88=_d87.query;if(_d88&&_d88.length>0){s+="?"+_d88;}var _d89=_d84.stringToBrowserState(s);this._historyChanged({state:_d89});if(history.state===null){this._updateBrowserState(_d89);}},_historyChanged:function(_d8a){var _d8b=_d8a.state;if(_d8b&&_d8b.contentType){if(_d8b.model){var _d8c=_d84.inferContentType(_d8b.urlBase);var _d8d=_d84.getModelClass(_d8c);var _d8e=_d8d?lang.getObject(_d8d):undefined;_d8b.model=new _d8e(_d8b.model);}_d81.publish(_d80.BROWSER_URL_CHANGE,[_d8b]);}},_updateBrowserState:function(_d8f){if(!_d84.equalStates(history.state,_d8f)){var s=_d82.KC_ROOT+"/"+_d84.browserStateToString(_d8f,true);if(history.state===null){history.replaceState(_d8f,_d8f.title,s);}else{if(!_d84.equalBaseUrl(history.state,_d8f)){history.pushState(_d8f,_d8f.title,s);}}}}});});},"kc/widget/common/Editor":function(){define("kc/widget/common/Editor",["dojo/_base/declare","dijit/Editor","dojo/dom-style","dojo/dom-attr","dojo/_base/sniff","dojo/query"],function(_d90,_d91,_d92,_d93,has,_d94){return _d90("kc.widget.common.Editor",[_d91],{startup:function(){this.inherited(arguments);_d93.set(this.toolbar.domNode,"aria-label",this["aria-label"]);},_getIframeDocTxt:function(){var _d95=_d92.getComputedStyle(this.domNode);var html="";var _d96=true;if(has("ie")||has("webkit")||(!this.height&&!has("mozilla"))){html="<div id='dijitEditorBody'></div>";_d96=false;}else{if(has("mozilla")){this._cursorToStart=true;html="&#160;";}}var font=[_d95.fontWeight,_d95.fontSize,_d95.fontFamily].join(" ");var _d97=_d95.lineHeight;if(_d97.indexOf("px")>=0){_d97=parseFloat(_d97)/parseFloat(_d95.fontSize);}else{if(_d97.indexOf("em")>=0){_d97=parseFloat(_d97);}else{_d97="normal";}}var _d98="";var self=this;this.style.replace(/(^|;)\s*(line-|font-?)[^;]+/ig,function(_d99){_d99=_d99.replace(/^;/ig,"")+";";var s=_d99.split(":")[0];if(s){s=lang.trim(s);s=s.toLowerCase();var i;var sC="";for(i=0;i<s.length;i++){var c=s.charAt(i);switch(c){case "-":i++;c=s.charAt(i).toUpperCase();default:sC+=c;}}_d92.set(self.domNode,sC,"");}_d98+=_d99+";";});var _d9a=_d94("label[for=\""+this.id+"\"]");var _d9b="";if(_d9a.length){_d9b=_d9a[0].innerHTML;}else{if(this["aria-label"]){_d9b=this["aria-label"];}else{if(this["aria-labelledby"]){_d9b=dom.byId(this["aria-labelledby"]).innerHTML;}}}this.iframe.setAttribute("title",_d9b);return ["<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'>",this.isLeftToRight()?"<html lang='"+this.lang+"'>\n<head>\n":"<html dir='rtl' lang='"+this.lang+"'>\n<head>\n",_d9b?"<title>"+_d9b+"</title>":"","<meta http-equiv='Content-Type' content='text/html'>\n","<style>\n","\tbody,html {\n","\t\tbackground:transparent;\n","\t\tpadding: 1px 0 0 0;\n","\t\tmargin: -1px 0 0 0;\n","\t}\n","\tbody,html, #dijitEditorBody{ outline: none; }","html { height: 100%; width: 100%; overflow: hidden; }\n",this.height?"\tbody { height: 100%; width: 100%; overflow: auto; }\n":"\tbody { min-height: "+this.minHeight+"; width: 100%; overflow-x: auto; overflow-y: hidden; }\n","\tbody{\n","\t\ttop:0px;\n","\t\tleft:0px;\n","\t\tright:0px;\n","\t\tfont:",font,";\n",((this.height||has("opera"))?"":"\t\tposition: fixed;\n"),"\t\tline-height:",_d97,";\n","\t}\n","\tp{ margin: 1em 0; }\n","\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\n",(!has("ie")?"\tli{ min-height:1.2em; }\n":""),"</style>\n",this._applyEditingAreaStyleSheets(),"\n","</head>\n<body ",(_d96?"id='dijitEditorBody' ":""),"onload='frameElement && frameElement._loadFunc(window,document)' ","style='"+_d98+"'>",html,"</body>\n</html>"].join("");}});});},"kc/controller/CollectionsController":function(){define("kc/controller/CollectionsController",["dojo/_base/lang","dojo/string","dojo/json","dojo/io/iframe","kc/controller/Handler","kc/Constants","kc/Topics","kc/URIs","kc/Utils","kc/widget/collection/CollectionUtils","kc/widget/topic/TopicUtils","kc/state/KCState","kc/model/PDFJob"],function(lang,_d9c,json,_d9d,_d9e,_d9f,_da0,URIs,_da1,_da2,_da3,_da4){return {getCollections:function(_da5,_da6,_da7,_da8){var url=URIs.COLLECTIONS;var _da9={};_da9.url=url;_da9.preventCache=true;_da9.load=lang.hitch(this,function(_daa){_da3.encodeHref(_daa);_da2.mapToUISupportedLanguage(_daa);if(_da1.isFunction(_da6)){_da6(_daa);}});if(_da1.isFunction(_da7)){_da9.error=_da7;}else{_da9.error=function(){};}_da9.content={};if(_da5===true){_da9.content.list=true;}_da9.timeout=_d9f.XHR_TIMEOUT;_da9.handleAs="json";_da9.postSignInAction=_da8;if(_da1.isFunction(_da6)){return _d9e.doXhrGet(_da9);}else{return _d9e.doXhrGet(_da9,_da0.KC_DATA_COLLECTIONS);}},getCollection:function(_dab){var id=_da1.getObject(_d9f.COLLECTION_ID,_dab);var url;if(_d9f.useMockdata.collections){url=_d9c.substitute(URIs.mockdata.collection,[id]);}else{url=_d9c.substitute(URIs.COLLECTION,[id]);}var _dac={};_dac.url=url;_dac.preventCache=true;_dac.load=lang.hitch(this,function(_dad){_da3.encodeHref(_dad);_da2.mapToUISupportedLanguage(_dad);});_dac.error=function(){};_dac.timeout=_d9f.XHR_TIMEOUT;_dac.handleAs="json";return _d9e.doXhrGet(_dac,_da0.KC_DATA_COLLECTION);},createCollection:function(_dae,_daf){var url;if(_d9f.useMockdata.collections){url=URIs.mockdata.collections;}else{url=URIs.COLLECTIONS;}var _db0={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"}};_db0.url=url;_db0.content={"title":_dae};_db0.preventCache=true;_db0.timeout=_d9f.XHR_TIMEOUT;_db0.handleAs="json";_db0.postSignInAction=_daf;return _d9e.doXhrPost(_db0);},addContent:function(_db1,_db2,_db3){var id=_da1.getObject(_d9f.COLLECTION_ID,_db1);var url=_d9c.substitute(URIs.COLLECTION,[id]);var _db4={};_db4.url=url;var data=_da1.unClass(_db2);data.alsoSaveChildren=(_db3===true);data.contentLanguage=_d9f.KC_LANGUAGE;_db4.postData=json.stringify(data);_db4.headers={"Content-Type":"application/json; charset=utf-8",Accept:"application/json"};_db4.preventCache=true;_db4.timeout=_d9f.XHR_TIMEOUT;_db4.handleAs="json";return _d9e.doXhrPost(_db4);},saveCollection:function(_db5){var id=_da1.getObject(_d9f.COLLECTION_ID,_db5);var url;if(_d9f.useMockdata.collections){url=_d9c.substitute(URIs.mockdata.collection,[id]);}else{url=_d9c.substitute(URIs.COLLECTION,[id]);}var _db6={};_db6.url=url;_db6.putData=json.stringify(_da1.unClass(_db5));_db6.headers={"Content-Type":"application/json; charset=utf-8",Accept:"application/json"};_db6.preventCache=true;_db6.timeout=_d9f.XHR_TIMEOUT;_db6.handleAs="json";return _d9e.doXhrPut(_db6);},deleteCollection:function(_db7){var id=_da1.getObject(_d9f.COLLECTION_ID,_db7);var url;if(_d9f.useMockdata.collections){url=_d9c.substitute(URIs.mockdata.collection,[id]);}else{url=_d9c.substitute(URIs.COLLECTION,[id]);}var _db8={};_db8.url=url;_db8.preventCache=true;_db8.timeout=_d9f.XHR_TIMEOUT;_db8.handleAs="json";return _d9e.doXhrDelete(_db8);},exportPdf:function(_db9,_dba,_dbb){var id=_da1.getObject(_d9f.COLLECTION_ID,_db9);var url=_d9c.substitute(URIs.COLLECTION_EXPORT_PDF,[id]);var _dbc={};_dbc.url=url;_dbc.preventCache=true;_dbc.timeout=_d9f.XHR_TIMEOUT;_dbc.handleAs="json";_dbc.load=_dba;_dbc.error=_dbb;return _d9e.doXhrPost(_dbc);},checkPdfJobs:function(_dbd,_dbe){var url=URIs.JOBS_STATUS;var _dbf={};_dbf.url=url;_dbf.preventCache=true;_dbf.timeout=_d9f.XHR_TIMEOUT;_dbf.handleAs="json";_dbf.load=_dbd;_dbf.error=_dbe;return _d9e.doXhrGet(_dbf);},checkPdfJob:function(_dc0,_dc1,_dc2){var url=_d9c.substitute(URIs.JOB_STATUS,[_dc0]);var _dc3={};_dc3.url=url;_dc3.preventCache=true;_dc3.timeout=_d9f.XHR_TIMEOUT;_dc3.handleAs="json";_dc3.load=_dc1;_dc3.error=_dc2;return _d9e.doXhrGet(_dc3);},downloadPdf:function(_dc4,_dc5,_dc6){if(_da1.isUndefined(_dc4)){if(_da1.isFunction(_dc6)){_dc6(_dc4);}return;}if(_da1.instanceOf(_dc4,kc.model.PDFJob)){_dc4=_dc4.id;}return this.checkPdfJob(_dc4,lang.hitch(this,function(id,_dc7){if(_da1.isFunction(_dc5)){_dc5(_dc7);}var url=_d9c.substitute(URIs.JOB_DOWNLOAD,[id]);var ifr=_d9d.create("downloadPdfIframe");_d9d.setSrc(ifr,url,true);},_dc4),_dc6);}};});},"kc/widget/common/KCWidget":function(){(function(){var _dc8=function(lang){return {widgetsInTemplate:true,constructor:function(args){if(args){lang.mixin(this,args);}},postCreate:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);}};};var _dc9=function(_dca,lang,_dcb,_dcc,_dcd,_dce,_dcf){var _dd0=[_dcb,_dcc,_dcd,_dce,_dcf];return _dca("kc.widget.common.KCWidget",_dd0,_dc8(lang));};var _dd1=function(_dd2,lang,_dd3,_dd4,_dd5,_dd6){var _dd7=[_dd3,_dd4,_dd5,_dd6];return _dd2("kc.widget.common.KCWidgetDTL",_dd7,_dc8(lang));};define("kc/widget/common/KCWidget",["dojo/_base/declare","dojo/_base/lang","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","kc/widget/common/_KCConnectionMixin","kc/widget/common/_KCi18nMixin"],_dc9);define("kc/widget/common/KCWidgetDTL",["dojo/_base/declare","dojo/_base/lang","dijit/_Widget","dojox/dtl/_Templated","kc/widget/common/_KCConnectionMixin","kc/widget/common/_KCi18nMixin"],_dd1);})();},"kc/widget/welcome/WelcomeActionBar":function(){require({cache:{"url:kc/widget/welcome/templates/WelcomeActionBar.html":"{% extends actionBarTemplate %}\n"}});define("kc/widget/welcome/WelcomeActionBar",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","kc/widget/common/ActionBar","dojo/text!kc/widget/welcome/templates/WelcomeActionBar.html","kc/Messaging","kc/Constants","kc/Topics","kc/Utils","dojo/data/ItemFileReadStore"],function(_dd8,lang,_dd9,_dda,_ddb,_ddc,_ddd,_dde,_ddf,_de0){return _dd8("kc.widget.welcome.WelcomeActionBar",[_dda],{templateString:_ddb,contentType:_ddd.CONTENT_WELCOME,actionBarClass:"welcomeActionBar",_hasLanguageAction:true,_hasShareAction:true,setData:function(_de1){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);var _de2=_ddf.clone(_ddd.SUPPORTED_LANGUAGES);_dd9.forEach(_de2,function(l){l.label=_ddf.getSupportedLanguageName(l.id);});var _de3={"identifier":"id","items":_de2,"label":"label"};var _de4=new dojo.data.ItemFileReadStore({data:_de3});_ddf.alphabeticSort(_de4,"label");this._languageMenu.setStore(_de4,_ddd.KC_LANGUAGE);}});});},"url:kc/widget/search/templates/SearchResultFacetsItem.html":"<div class=\"displayInlineBlock searchResultFacetItem\"  tabindex=0 data-dojo-attach-point=\"_content\" data-dojo-attach-event=\"onclick:_onclick, onkeypress:_onkeypress\"></div>\n","url:kc/frame/templates/MobileRedirect.html":"<div class=\"mobileRedirectContainer\">\n\t<div class=\"mobileRedirectMessageContainer\">\n\t\t<div class=\"mobile-redirect-dialog-header\">{MOBILE_REDIRECT_OPTION_TEXT}</div>\n\t\t<div class=\"mobile-redirect-dialog-link-desktop\" id=\"mobile-redirect-dialog-link-desktop\">\n\t\t\t{MOBILE_REDIRECT_OPTION_DESKTOP}\n\t\t</div>\n\t\t<div class=\"mobile-redirect-dialog-link-mobile\" id=\"mobile-redirect-dialog-link-mobile\">\n\t\t\t{MOBILE_REDIRECT_OPTION_MOBILE}\n\t\t</div>\n\n\t\t<div class=\"watermark\">\n\t\t\t<div></div>\n\t\t</div>\n\n\t</div>\n\t\n</div>","kc/frame/Frame":function(){require({cache:{"url:kc/frame/templates/Frame.html":"<div class=\"frameContent\">\n\t\n\t<div id=\"kcHeader\" data-dojo-type=\"kc.frame.Header\" data-dojo-props=\"'class':'headerFrame', region: 'top'\" data-dojo-attach-point=\"_kcHeader\" role=\"banner\"> </div>\n\t\n\t<div data-dojo-type=\"kc.widget.common.ToggleContainer\" data-dojo-props=\"style: 'width: 100%; height: 100%;', header: 'kcHeader'\" data-dojo-attach-point=\"_kcHLT\">\t\t\n\t\t<div data-dojo-type=\"kc.frame.Search\" data-dojo-props=\"'class':'searchFrame', region: 'top'\" data-dojo-attach-point=\"_kcSearch\" role=\"search\" aria-label=\"${_searchWidgetTitle}\"> </div>\n\t\t<div data-dojo-type=\"kc.frame.Console\" data-dojo-props=\"style: '', region: 'center'\" data-dojo-attach-point=\"_kcConsole\"> </div>\n\t\t<div data-dojo-type=\"kc.frame.Footer\" data-dojo-props=\"'class':'footerFrame', region: 'bottom'\" data-dojo-attach-point=\"_kcFooter\" role=\"contentinfo\"> </div>\t\n\t</div>\n\t\n</div>"}});define("kc/frame/Frame",["dojo/_base/declare","dojo/on","kc/widget/common/KCWidget","dojo/text!kc/frame/templates/Frame.html","kc/Messaging","kc/Topics","kc/state/KCState","dojo/json","kc/Constants","kc/Utils","kc/widget/common/ToggleContainer","kc/frame/Header","kc/frame/Search","kc/frame/Console","kc/frame/Footer","kc/model/Topic","kc/HealthCheckManager"],function(_de5,on,_de6,_de7,_de8,_de9,_dea,json,_deb,_dec){return _de5("kc.frame.Frame",[_de6],{templateString:_de7,postCreate:function(){this.inherited(arguments);this.addConnection(window,"resize",this,this._layout);this._layout();if(!_dea.user){window.name="";}},_initializeStrings:function(){this._searchWidgetTitle=this.getString("SEARCH_WIDGETTITLE");},startup:function(){this.inherited(arguments);_dea.kcReady=true;_de8.publish(_de9.KC_READY,[]);if(_dea.user&&_dec.isString(window.name)&&window.name&&/^([\s\[\{]*(?:"(?:\\.|[^"])+"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(window.name)&&(json.parse(window.name).actionName==_deb.ACTION_COLLECTION_SAVE_TOPIC_TO_NEW||json.parse(window.name).actionName==_deb.ACTION_COLLECTION_SAVE_TOPIC_TO_EXISTING)){_de8.publish(_de9.KC_ACTION,[_deb.CONTENT_COLLECTION,json.parse(window.name).actionName,{alsoSaveChildren:json.parse(window.name).alsoSaveChildren},new kc.model.Topic(json.parse(window.name).topicModel)]);window.name="";}},_layout:function(){this._kcHLT.resize();}});});},"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n","kc/frame/Footer":function(){require({cache:{"url:kc/frame/templates/Footer.html":"<div>\n\t<div class=\"footerFrameContent\">\t\n\t\t<div class=\"footerContent\">\n\t\t  <ul>\n\t\t    <li><a href='javascript:void(0);' title=\"${contact}\" class=\"contact ibm-intercept-exit-survey\" data-dojo-attach-point=\"_contactLink\">${contact}</a></li>\n\t\t    <li><a href='javascript:void(0);' title=\"${privacy}\" class=\"privacy ibm-intercept-exit-survey\" data-dojo-attach-point=\"_privacyLink\">${privacy}</a></li>\n\t\t    <li><a href='javascript:void(0);' title=\"${termsOfUse}\" class=\"termsOfUse ibm-intercept-exit-survey\" data-dojo-attach-point=\"_termsOfUseLink\">${termsOfUse}</a></li>\n\t\t    <li><a href='javascript:void(0);' title=\"${accessibility}\" class=\"accessibility ibm-intercept-exit-survey\" data-dojo-attach-point=\"_accessibilityLink\">${accessibility}</a></li>\n\t\t    <li><a href='javascript:void(0);' title=\"${help}\" class=\"help ibm-intercept-exit-survey\" data-dojo-attach-point=\"_helpLink\">${help}</a></li>\n\t\t    <li><a href='javascript:void(0);' title=\"${feedback}\" class=\"feedback feedbackIcon\" data-dojo-attach-point=\"_feedbackLink\">${feedback}</a></li>\n\t\t    <li><a href='javascript:void(0);' title=\"${mobileSite}\" class=\"mobileSite\" data-dojo-attach-point=\"_mobileSiteLink\">${mobileSite}</a></li>\n\t\t  </ul>\n\t\t</div>\n\t\t<div data-dojo-attach-point=\"_languageChooserContainer\" class=\"languageChooserContainer separator\">\n\t\t\t<div id=\"languageChooser\" class=\"languageChooser\" data-dojo-type=\"idx.oneui.form.Select\" data-dojo-attach-point=\"_languageChooser\" title=\"${languageLabel}\" label=\"${languageLabel}\"></div>\n\t\t</div>\n\t</div>\n</div>"}});define("kc/frame/Footer",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/config","dojo/string","dojo/dom-construct","dojo/window","kc/widget/common/KCWidget","dojo/text!kc/frame/templates/Footer.html","kc/Messaging","kc/Constants","kc/Topics","kc/URIs","dojo/cookie","kc/Utils","dojox/mobile/sniff","dojo/touch","dojo/on"],function(_ded,lang,_dee,_def,_df0,_df1,win,_df2,_df3,_df4,_df5,_df6,URIs,_df7,_df8,has,_df9,on){return _ded("kc.frame.Footer",[_df2],{templateString:_df3,feedbackDisabled:(_df5.getServerProperty(_df5.SERVER_PROPERTY_KEY_FEEDBACK_FOOTER_DISABLED,"false")==="true"),languageLabel:"",postCreate:function(){this.inherited(arguments);if(this.feedbackDisabled){_df1.destroy(this._feedbackLink);}if(!has("mobile")){_df1.destroy(this._mobileSiteLink);}var _dfa=_df8.clone(_df5.SUPPORTED_LANGUAGES);_dee.forEach(_dfa,function(l){l.label=_df8.getSupportedLanguageName(l.id);});var _dfb={"identifier":"id","items":_dfa,"label":"label"};var _dfc=new dojo.data.ItemFileReadStore({data:_dfb});_df8.alphabeticSort(_dfc,"label");this._languageChooser.attr("store",_dfc);},startup:function(){this.inherited(arguments);this._languageChooser.attr("value",_df5.KC_LANGUAGE);this._setLanguageChooserHeight();},_initializeStrings:function(){this.contact=this.getString("LABEL_CONTACT");this.privacy=this.getString("LABEL_PRIVACY");this.termsOfUse=this.getString("LABEL_TERMS_OF_USE");this.accessibility=this.getString("LABEL_ACCESSIBILITY");this.help=this.getString("LGI_HELPLABEL");this.feedback=this.getString("FEEDBACK");this.mobileSite=this.getString("LABEL_MOBILE_SITE");this.languageLabel=this.getString("LGI_LANGUAGEMSG");},_initializeConnections:function(){this.addConnection(this._contactLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_CONTACT,_df5.KC_LANGUAGE_EXTERNAL_PATH));this.addConnection(this._privacyLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_PRIVACY,_df5.KC_LANGUAGE_EXTERNAL_PATH));this.addConnection(this._termsOfUseLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_TERMS,_df5.KC_LANGUAGE_EXTERNAL_PATH));this.addConnection(this._accessibilityLink,"onclick",this,lang.hitch(this,"_openLink",URIs.EXTERNAL_ACCESSIBILITY,_df5.KC_LANGUAGE_EXTERNAL_PATH));this.addConnection(this._helpLink,"onclick",this,"_showHelp");this.addConnection(this._feedbackLink,"onclick",this,function(){_df4.publish(_df6.EXTERNAL_FEEDBACK,[]);});this.addConnection(this._mobileSiteLink,"onclick",this,lang.hitch(this,"_openMobileLink"));if(has("iphone")&&has("safari")){this._connections.push(on(this._languageChooser,"change",lang.hitch(this,this._onLanguageChange)));this._connections.push(on.once(this._languageChooser.domNode,_df9.press,lang.hitch(this,function(){_dee.forEach(this._languageChooser._getChildren(),lang.hitch(this,function(_dfd){_dfd._setSelected=function(){};}));})));}else{this.addConnection(this._languageChooser,"onChange",this,"_onLanguageChange");}this.addConnection(window,"onresize",this,"_setLanguageChooserHeight");},_initializeSubscriptions:function(){this.addSubscription(_df6.EXTERNAL_CONTACT,this,lang.hitch(this,"_openLink",URIs.EXTERNAL_CONTACT));this.addSubscription(_df6.EXTERNAL_PRIVACY,this,lang.hitch(this,"_openLink",URIs.EXTERNAL_PRIVACY));this.addSubscription(_df6.EXTERNAL_TERMS,this,lang.hitch(this,"_openLink",URIs.EXTERNAL_TERMS));this.addSubscription(_df6.EXTERNAL_ACCESSIBILITY,this,lang.hitch(this,"_openLink",URIs.EXTERNAL_ACCESSIBILITY));},_openMobileLink:function(){localStorage.setItem("mobile-redirect-choice","mobile");window.location.href=_df8.getExternalMobileSite();},_getURLParameter:function(name){var _dfe=decodeURIComponent((new RegExp("[?|&]"+name+"="+"([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null;return _dfe||"en";},_openLink:function(url,_dff){_dff?_df4.publish(_df6.EXTERNAL_LINK,[_df0.substitute(url,[_dff])]):_df4.publish(_df6.EXTERNAL_LINK,[url]);},_onLanguageChange:function(_e00){_df4.publish(_df6.KC_LANGUAGE_CHANGE,[_e00]);},_setLanguageChooserHeight:function(){var _e01=win.getBox().h;var _e02=100;if(has("chrome")){_e02=120;}this._languageChooser.attr("maxHeight",(_e01-_e02));},_showHelp:function(){var url=URIs.HELP;var l=_df5.KC_LANGUAGE;if(l!="en"){url=_df0.substitute(URIs.HELP_WITH_LOCALE,[l]);}_df4.publish(_df6.EXTERNAL_LINK,[_df5.KC_ROOT+url]);}});});},"url:kc/widget/collection/templates/SelectCollectionDialog.html":"<div class=\"selectCollectionDialog\">\n\t<!-- TODO add accessibility, tab cycles -->\n\t<div>\n\t\t<label>${selectCollectionLabel}</label>\n\t\t<div class=\"collectionSelect\" data-dojo-attach-point=\"_collectionSelect\" data-dojo-type=\"idx.oneui.form.Select\" maxHeight=\"300\">\n\t\t</div>\n\n\t</div>\n</div>\n","dijit/form/_CheckBoxMixin":function(){define("dijit/form/_CheckBoxMixin",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(_e03,_e04,_e05){return _e03("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(_e06){this._set("readOnly",_e06);_e04.set(this.focusNode,"readOnly",_e06);this.focusNode.setAttribute("aria-readonly",_e06);},_setLabelAttr:undefined,postMixInProperties:function(){if(this.value==""){this.value="on";}this.inherited(arguments);},reset:function(){this.inherited(arguments);this._set("value",this.params.value||"on");_e04.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){_e05.stop(e);return false;}return this.inherited(arguments);}});});},"kc/frame/Console":function(){require({cache:{"url:kc/frame/templates/Console.html":"\n\t<div class=\"consoleFrameContent\">\n\t\t<div data-dojo-type=\"dijit.layout.StackContainer\" doLayout=\"true\" data-dojo-attach-point=\"_stackContainer\" style=\"width: 100%; height: 100%;\">\t\n\n\t\t\t<div data-dojo-type=\"kc.widget.common.ToggleContainer\" doLayout=\"true\" data-dojo-props=\"'class':'kcContentFrame'\" data-dojo-attach-point=\"_kcContent\">\n\t\t\t\t<div data-dojo-type=\"kc.widget.common.ToggleContainer\" doLayout=\"true\" data-dojo-props=\"'class':'', region: 'center'\" data-dojo-attach-point=\"_kcContentInner\">\n\t\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" data-dojo-props=\"'class':'contentToolbarFrame', region: 'top'\" role=\"region\" aria-label=\"${_toolbarWidgetTitle}\">\n\t\t\t\t\t\t<div data-dojo-type=\"kc.frame.ToolBar\" data-dojo-props=\"'class':'toolBar'\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" data-dojo-props=\"splitter: 'toggle', minSize: 200, maxSize: 500, splitterTag:'navigationToggle', 'class':'navigationFrame', region: 'leading'\" data-dojo-attach-point=\"_navigationContainer\" role=\"navigation\" aria-label=\"${_navigationWidgetTitle}\">\n\t\t\t\t\t\t<div data-dojo-type=\"kc.frame.Navigation\" data-dojo-attach-point=\"_navigation\"></div>\n\t\t\t\t\t</div>\n\t\n\t\t\t\t\t<div data-dojo-type=\"dijit.layout.StackContainer\" doLayout=\"true\" data-dojo-attach-point=\"_contentStackContainer\" style=\"width: 100%; height: 100%;\" data-dojo-props=\"'class':'contentFrame', region: 'center'\" role=\"main\">\n\t\t\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" class=\"contentPlaceHolder welcomePlaceholder iframeContainer\" data-dojo-attach-point=\"_kcWelcomePlaceholder\" tabindex=\"0\"></div>\n\t\t\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" class=\"contentPlaceHolder collectionsWelcomePlaceholder\" data-dojo-attach-point=\"_myCollectionsWelcomePlaceholder\" tabindex=\"0\"></div>\n\t\t\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" class=\"contentPlaceHolder searchResultsPlaceholder\" data-dojo-attach-point=\"_searchResultsPlaceholder\" tabindex=\"0\"></div>\n\t\t\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" class=\"contentPlaceHolder topicPlaceholder iframeContainer\" data-dojo-attach-point=\"_topicPlaceholder\" tabindex=\"0\"></div>\n\t\t\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" class=\"contentPlaceHolder collectionPlaceholder\" data-dojo-attach-point=\"_collectionPlaceholder\" tabindex=\"0\"></div>\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<a data-dojo-attach-point=\"focusAccessKey\" accesskey=\"${ACCESS_KEY_FOCUS_CONTENT}\" tabindex=\"-1\" style=\"display:none;\"></a>\t\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" data-dojo-attach-point=\"_relatedContentContainer\" data-dojo-props=\"splitter: 'toggle', minSize: 225, maxSize: 225, splitterTag:'relatedContentToggle', toggleSplitterState: 'closed', 'class':'relatedContentFrame', region: 'trailing' \">\n\t\t\t\t\t<div data-dojo-type=\"kc.frame.RelatedContent\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\n\t\t\t<!-- Make the filter pane hidden initially, otherwise it shows up for a split second when loading KC. Display will be set to visible automatically by dijit when the stack container shows this pane -->\n\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" style=\"display: none;\" data-dojo-props=\"'class':'filter'\" data-dojo-attach-point=\"_kcFilter\">\n\t\t\t\t<div data-dojo-type=\"kc.widget.search.FilterPane\" data-dojo-attach-point=\"_filterPane\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\t\t\n"}});define("kc/frame/Console",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/aspect","dojo/json","dojo/query","dojo/ready","dojo/window","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/dom-geometry","kc/widget/common/KCWidget","dojo/text!kc/frame/templates/Console.html","kc/Messaging","kc/Constants","kc/Topics","kc/Utils","idx/util","kc/widget/common/ToggleContainer","kc/frame/ToolBar","kc/frame/Navigation","kc/frame/RelatedContent","dijit/layout/StackContainer","dijit/layout/ContentPane","kc/widget/search/FilterPane","idx/oneui/layout/ToggleSplitter"],function(_e07,lang,_e08,_e09,json,_e0a,_e0b,win,_e0c,_e0d,_e0e,_e0f,_e10,_e11,_e12,_e13,_e14,_e15,_e16,_e17){return _e07("kc.frame.Console",[_e11],{templateString:_e12,loadedContents:undefined,CLASS_WELCOME:"kc/widget/welcome/Welcome",CLASS_TOPIC:"kc/widget/topic/TopicViewer",CLASS_SEARCH:"kc/widget/search/SearchResult",CLASS_COLLECTION_WELCOME:"kc/widget/collection/CollectionsWelcome",CLASS_COLLECTION:"kc/widget/collection/Collection",ACCESS_KEY_FOCUS_CONTENT:_e14.ACCESS_KEY_FOCUS_CONTENT,postCreate:function(){this.inherited(arguments);this.loadedContents={};},_initializeStrings:function(){this._navigationWidgetTitle=this.getString("NAVIGATION_WIDGETTITLE");this._toolbarWidgetTitle=this.getString("TOOLBAR_WIDGETTITLE");},_initializeConnections:function(){_e08.forEach(this._kcContentInner.getToggleSplitters("navigationToggle"),lang.hitch(this,function(_e18){if(_e18){this.addConnection(_e09.after(_e18,"move",lang.hitch(this,this._publishNavigationWidth)));}}));this.addConnection(window,"resize",this,"_resize");this.addConnection(this.focusAccessKey,"click",this,"hFocusCurrentContent");},_initializeSubscriptions:function(){this.addSubscription(_e15.CONSOLE_CONTENT,this,"_showContentPane");this.addSubscription(_e15.CONSOLE_FILTER,this,"_showFilterPane");this.addSubscription(_e15.KC_WELCOME,this,"_showWelcome",_e14.MESSAGING_PRIORITY_EARLY);this.addSubscription(_e15.KC_TOPIC,this,"_showTopic",_e14.MESSAGING_PRIORITY_EARLY);this.addSubscription(_e15.KC_SEARCH,this,"_showSearch",_e14.MESSAGING_PRIORITY_EARLY);this.addSubscription(_e15.KC_COLLECTION,this,"_showCollection",_e14.MESSAGING_PRIORITY_EARLY);this.addSubscription(_e15.KC_WELCOME,this,lang.hitch(this,this._notifyContentChange,_e14.CONTENT_WELCOME),_e14.MESSAGING_PRIORITY_LATE);this.addSubscription(_e15.KC_TOPIC,this,lang.hitch(this,this._notifyContentChange,_e14.CONTENT_TOPIC),_e14.MESSAGING_PRIORITY_LATE);this.addSubscription(_e15.KC_SEARCH,this,lang.hitch(this,this._notifyContentChange,_e14.CONTENT_SEARCH),_e14.MESSAGING_PRIORITY_LATE);this.addSubscription(_e15.KC_COLLECTION,this,lang.hitch(this,this._notifyContentChange,_e14.CONTENT_COLLECTION),_e14.MESSAGING_PRIORITY_LATE);this.addSubscription(_e15.CONSOLE_NAVIGATION,this,"_toggleNavigationPane");this.addSubscription(_e15.CONSOLE_RELATED_CONTENT,this,"_toggleRelatedContentPane");if(!!_e17.isWebKit){this.addSubscription(_e15.KC_ACCESS_KEY,this,function(_e19){if(_e19===this.ACCESS_KEY_FOCUS_CONTENT){this.hFocusCurrentContent();}});}},startup:function(){this.inherited(arguments);this._publishNavigationWidth();this._resize();var _e1a=this.getString("NAVIGATION_SPLITTER_WIDGETTITLE");_e08.forEach(this._kcContentInner.getToggleSplitters("navigationToggle"),function(_e1b){if(_e1b){_e0e.set(_e1b,"role","region");_e0e.set(_e1b,"aria-label",_e1a);}});var _e1c=this.getString("RELATEDINFO_SPLITTER_WIDGETTITLE");_e08.forEach(this._kcContent.getToggleSplitters("relatedContentToggle"),function(_e1d){if(_e1d){_e0e.set(_e1d,"role","region");_e0e.set(_e1d,"aria-label",_e1c);}});},_publishNavigationWidth:function(){var _e1e=_e10.getContentBox(this._navigationContainer.domNode).w;_e13.publish(_e15.CONSOLE_NAVIGATION_RESIZE,[_e1e]);},_resize:function(){var _e1f=_e10.getContentBox(this._kcContentInner.domNode).w;var _e20=_e1f/3*2;var _e21=_e10.getContentBox(this._navigationContainer.domNode).w;if(_e20<189){_e13.publish(_e15.CONSOLE_NAVIGATION,[false]);}else{if(_e21>_e20){_e10.setContentSize(this._navigationContainer.domNode,{w:_e20});}}this._kcContentInner.layout();this._publishNavigationWidth();this._navigationContainer.set("maxSize",_e20+11);},_showContentPane:function(){this._stackContainer.selectChild(this._kcContent);},_showFilterPane:function(){this._stackContainer.selectChild(this._kcFilter);this._filterPane.focus();},_toggleNavigationPane:function(_e22){_e08.forEach(this._kcContentInner.getToggleSplitters("navigationToggle"),function(_e23){if(_e23){if(_e22===undefined||_e22===null||(!_e22!=!(_e23.state==="full"))){_e23._toggle();}}});},_toggleRelatedContentPane:function(_e24){_e08.forEach(this._kcContent.getToggleSplitters("relatedContentToggle"),lang.hitch(this,function(_e25){if(_e25){if(_e24===undefined||_e24===null||(!_e24!=!(_e25.state==="full"))){_e25._toggle();}if(_e25.state==="full"){_e0f.set(this._relatedContentContainer.domNode,"display","block");_e0f.set(_e25.domNode,"display","block");}else{_e0f.set(this._relatedContentContainer.domNode,"display","none");_e0f.set(_e25.domNode,"display","none");}}}));this._resize();this._kcContent.resize();},_showWelcome:function(_e26){require([this.CLASS_WELCOME],lang.hitch(this,function(_e27){this._showContent(_e27,this._kcWelcomePlaceholder,_e26);}));},_showTopic:function(_e28,_e29){require([this.CLASS_TOPIC],lang.hitch(this,function(_e2a){this._showContent(_e2a,this._topicPlaceholder,_e28,_e29);}));},_showSearch:function(_e2b,_e2c){require([this.CLASS_SEARCH],lang.hitch(this,function(_e2d){this._showContent(_e2d,this._searchResultsPlaceholder,_e2b,_e2c);}));},_showCollection:function(_e2e,_e2f){require([this.CLASS_COLLECTION_WELCOME,this.CLASS_COLLECTION],lang.hitch(this,function(_e30,_e31){if(_e16.getObject(_e14.COLLECTION_ID,_e2f)){this._showContent(_e31,this._collectionPlaceholder,_e2e,_e2f);}else{this._showContent(_e30,this._myCollectionsWelcomePlaceholder,_e2e);}}));},_showContent:function(_e32,_e33,_e34,_e35){if(!_e32){return;}try{this._showContentPane();if(this.loadedContents[_e33]){this._contentStackContainer.selectChild(_e33);}else{this.loadedContents[_e33]=true;var _e36=new _e32();_e36.startup();_e0d.add(_e36.domNode,"content");_e0c.place(_e36.domNode,_e33.domNode);this._contentStackContainer.selectChild(_e33);if(_e16.isFunction(_e36.setInitialModel)){_e36.setInitialModel(_e34,_e35);}}}catch(error){console.error("Error showing content: "+json.stringify(error));}},_notifyContentChange:function(tab,_e37,_e38){var _e39=lang.hitch(this,function(){this.hFocusCurrentContent();});_e0b(function(){if(!_e37){_e37=_e14.SOURCE_UNKNOWN;}if(_e38){_e13.publish(_e15.KC_CONTENT,[_e37,tab,_e38]);}else{_e13.publish(_e15.KC_CONTENT,[_e37,tab]);}if(_e16.isSourceFromArea(_e37,_e14.SOURCE_CONTENT)||(_e37===_e14.SOURCE_SEARCH_TYPEAHEAD&&(tab===_e14.CONTENT_TOPIC||tab===_e14.CONTENT_COLLECTION))){_e39();}});},hFocusCurrentContent:function(){var _e3a=this._contentStackContainer.selectedChildWidget;if(_e3a){var node=_e3a.domNode;if(node&&_e16.isFunction(node.focus)){node.focus();}}}});});},"url:kc/frame/templates/ToolBar.html":"<div>\n\t<div class=\"navigationToggleContainer\" data-dojo-attach-point=\"_navigationToggleContainer\">\n\t\t<div class=\"displayInlineBlock\" data-dojo-attach-point=\"_navigationToggleIcon\"></div>\n\t\t<div class=\"displayInlineBlock navigationToggleContainerLink\" data-dojo-type=\"idx.form.Link\" data-dojo-attach-point=\"_navigationToggle\" data-dojo-props=\"'aria-live': 'polite'\"><img data-dojo-attach-point=\"_navigationToggleImage\"></div>\n\t</div>\n\t<div data-dojo-type=\"dijit.layout.StackContainer\" doLayout=\"true\" data-dojo-attach-point=\"_actionBarContainer\" data-dojo-props=\"'class':'actionBarContainer'\">\n\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" data-dojo-attach-point=\"_noActions\"></div>\n\t\t<div data-dojo-attach-point=\"_searchActionsPlaceholder\"></div>\n\t\t<div data-dojo-attach-point=\"_topicActionsPlaceholder\"></div>\n\t\t<div data-dojo-attach-point=\"_collectionActionsPlaceholder\"></div>\n\t\t<div data-dojo-attach-point=\"_welcomeActionsPlaceholder\"></div>\n\t</div>\n</div>","url:kc/widget/search/templates/_SearchTypeAheadPopup.html":"<div class='searchTypeAhead'>\n    <div id=\"searchTypeAheadMenu\" data-dojo-type=\"idx.oneui.Menu\" class=\"searchTypeAheadMenu\" data-dojo-attach-point=\"_searchTypeAheadMenu\" \n    \trole=\"listbox\" title=\"${_searchSuggestions}\"  label=\"${_searchSuggestions}\" aria-label=\"${_searchSuggestions}\"></div>\n</div>","kc/state/URLReconciler":function(){define("kc/state/URLReconciler",["dojo/_base/declare","dojo/_base/url","idx/string","kc/Constants","kc/state/StateUtils","kc/Utils"],function(_e3b,dUrl,_e3c,_e3d,_e3e,_e3f){_e3b("kc.state.URLReconciler",null,{_initialized:false,initialize:function(){if(this._initialized){return;}this._initialized=true;var url=location.href;var _e40=new dUrl(url);var path=_e40.path;var s="";if(_e3c.startsWith(path,_e3d.KC_ROOT+"/")){s+=path.substr((_e3d.KC_ROOT+"/").length);}var _e41=_e40.query;if(_e41&&_e41.length>0){s+="?"+_e41;}var _e42=_e3e.stringToBrowserState(s);var _e43=undefined;var _e44=_e40.fragment;if(_e44){if(_e3c.startsWith(_e44,_e3d.HASH_PREFIX)){_e44=_e44.substr(_e3d.HASH_PREFIX.length);}if(_e44.length>0){_e43=_e3e.stringToBrowserState(_e44);}}var _e45=_e42;if(_e43&&_e42.contentType===_e3d.CONTENT_WELCOME){_e45=_e43;_e45.language=_e42.language;}if(_e45.language){_e45.language=_e3f.getSupportedLanguage(_e45.language);}if(_e43&&_e43!==_e45){_e45.urlBase+="%23"+_e43.model.href;}var _e46=_e3e.browserStateToExternalUrl(_e45,true);if(_e46!=location.href){location.href=_e46;}}});kc.state.URLReconciler.instance=null,kc.state.URLReconciler.getInstance=function(){if(kc.state.URLReconciler.instance===null){kc.state.URLReconciler.instance=new kc.state.URLReconciler();kc.state.URLReconciler.instance.initialize();}return kc.state.URLReconciler.instance;};return kc.state.URLReconciler.getInstance();});},"url:kc/widget/search/templates/FilterDialog.html":"<div data-dojo-attach-point=\"_dialog\" class=\"filterDialogContainer\">\n\t<div id=\"filterDialogDescription\" data-dojo-attach-point=\"filterDialogDescription\">${_filterDialogDescription}</div>\n\t<div class=\"filterSearchNode\" data-dojo-attach-point=\"filterSearchNode\">\n\t\t<div class=\"filterSearchNodeInner filterKeywordContainer\" data-dojo-attach-point=\"filterSearchNodeInner\">\n\t\t   \t<div class=\"searchInputboxContainer\">\n\t    \t\t<label for=\"filterInputBox\" style=\"display: none;\">${_filterInputLabel}</label>\n        \t\t<input id=\"filterInputBox\" maxlength=\"200\" class=\"filterInputBox\" data-dojo-attach-point=\"_filterInputBox\" aria-label=\"${_filterInputLabel}\" placeHolder=\"${_filterInputLabel}\"></input>\n    \t\t</div>\n\t\t</div>\n\t\t<div data-dojo-attach-point=\"_typeaheadFilterInput\" class=\"typeaheadFilterInput\"></div>\n    </div>\n\t<div data-dojo-attach-point=\"_loading\" class=\"loading\"></div>\n\t<div data-dojo-attach-point=\"_infoMessage\" class=\"infoMessage\" role=\"log\" aria-live=\"polite\" aria-label=\"${_filterDialogNameLabel}\"></div>\n\t<div data-dojo-attach-point=\"_treeWrapper\">\n\t\t<div data-dojo-attach-point=\"_productTreePlaceholder\" id=\"filterProductTree\"></div>\n\t</div>\n\t<span id=\"filterDialogFilterStatus\" class=\"hiddenAccesible\" data-dojo-attach-point=\"_filterDialogFilterStatus\" aria-label=\"${_filterLogLabel}\" aria-live=\"polite\" role=\"status\"></span>\n</div>","kc/widget/collection/CollectionManager":function(){define("kc/widget/collection/CollectionManager",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","kc/widget/common/_KCi18nMixin","kc/Topics","kc/Messaging","kc/Constants","kc/state/KCState","kc/Utils","kc/controller/AuthenticationController","kc/controller/CollectionsController","kc/DialogManager","dojo/json","kc/widget/collection/NewCollectionDialog","kc/widget/collection/SelectCollectionDialog","kc/model/PDFJob"],function(_e47,lang,_e48,_e49,_e4a,_e4b,_e4c,_e4d,_e4e,_e4f,_e50,_e51,_e52,json){_e47("kc.widget.collection.CollectionManager",[_e4a],{_initialized:false,_pdfJobs:undefined,_pdfJobActive:false,initialize:function(){if(this._initialized){return;}this._pdfJobs={};_e4c.subscribe(_e4b.KC_ACTION,this,"_checkSignedIn",_e4d.MESSAGING_PRIORITY_EARLIEST);_e4c.subscribe(_e4b.KC_ACTION,this,"_onAction",_e4d.MESSAGING_PRIORITY_LATE);_e4c.subscribe(_e4b.KC_COLLECTION,this,"_loadJobsIfNecessary",_e4d.MESSAGING_PRIORITY_EARLY,true);this._initialized=true;},_loadJobsIfNecessary:function(){if(_e4e.user){setTimeout(lang.hitch(this,function(){if(_e4e.user){this.refreshPdfJobStatus();}}),5000);}},_checkSignedIn:function(_e53,_e54,_e55,_e56){if(_e4d.CONTENT_COLLECTION===_e53){switch(_e54){case _e4d.ACTION_COLLECTION_EDIT:case _e4d.ACTION_COLLECTION_SAVE:case _e4d.ACTION_COLLECTION_DELETE:case _e4d.ACTION_COLLECTION_EXPORT_PDF:return _e50.checkAuthenticated();}}},_onAction:function(_e57,_e58,_e59,_e5a){if(_e4d.CONTENT_COLLECTION===_e57){switch(_e58){case _e4d.ACTION_COLLECTION_SAVE_TOPIC_TO_EXISTING:this._saveToExistingCollection(_e5a,_e4f.getObject("alsoSaveChildren",_e59));break;case _e4d.ACTION_COLLECTION_SAVE_TOPIC_TO_NEW:this._saveToNewCollection(_e5a,_e4f.getObject("alsoSaveChildren",_e59));break;case _e4d.ACTION_COLLECTION_SAVE:this._saveCollection(_e5a,_e4f.getObject("newModel",_e59),_e4f.getObject("deferred",_e59));break;case _e4d.ACTION_COLLECTION_DELETE:this._deleteCollection(_e5a);break;case _e4d.ACTION_COLLECTION_EXPORT_PDF:this._exportPdf(_e5a);break;case _e4d.ACTION_COLLECTION_MOVE_TOPIC_TO_EXISTING:this._moveToExistingCollection(_e5a);break;case _e4d.ACTION_COLLECTION_MOVE_TOPIC_TO_NEW:this._moveToNewCollection(_e5a);}}},_saveToExistingCollection:function(_e5b,_e5c){var _e5d=json.stringify({actionName:_e4d.ACTION_COLLECTION_SAVE_TOPIC_TO_EXISTING,"topicModel":_e5b,"alsoSaveChildren":_e5c});var _e5e=false;this._existingCollection(_e5d,_e5b,_e5c,_e5e);},_saveToNewCollection:function(_e5f,_e60){var _e61=json.stringify({actionName:_e4d.ACTION_COLLECTION_SAVE_TOPIC_TO_NEW,"topicModel":_e5f,"alsoSaveChildren":_e60});var _e62=false;this._newCollection(_e61,_e5f,_e60,_e62);},_moveToExistingCollection:function(_e63){var _e64=json.stringify({actionName:_e4d.ACTION_COLLECTION_MOVE_TOPIC_TO_EXISTING,"topicModel":_e63});var _e65=false;var _e66=true;this._existingCollection(_e64,_e63,_e65,_e66);},_moveToNewCollection:function(_e67){var _e68=json.stringify({actionName:_e4d.ACTION_COLLECTION_MOVE_TOPIC_TO_NEW,"topicModel":_e67});var _e69=false;var _e6a=true;this._newCollection(_e68,_e67,_e69,_e6a);},_existingCollection:function(_e6b,_e6c,_e6d,_e6e){if(!_e4e.user){_e4c.publish(_e4b.KC_SIGN_IN,[_e6b]);return;}if(_e4d.MESSAGING_STOP_PROPAGATION===_e50.checkAuthenticated(_e6b)){return;}var _e6f=new kc.widget.collection.SelectCollectionDialog();_e6f.startup();_e6f.show(lang.hitch(this,function(_e70){if(_e4d.debugMode){}if(_e6e){this.__moveToCollection(_e70,_e6c,_e4d.ACTION_COLLECTION_MOVE_TOPIC_TO_EXISTING);}else{this.__addToCollection(_e70,_e6c,_e6d,_e4d.ACTION_COLLECTION_SAVE_TOPIC_TO_EXISTING);}}),_e6c,_e6d,_e6b,_e6e);},_newCollection:function(_e71,_e72,_e73,_e74){if(!_e4e.user){_e4c.publish(_e4b.KC_SIGN_IN,[_e71]);return;}if(_e4d.MESSAGING_STOP_PROPAGATION===_e50.checkAuthenticated(_e71)){return;}var _e75=new kc.widget.collection.NewCollectionDialog();_e75.startup();_e75.show(lang.hitch(this,function(_e76){if(!_e4f.isEmpty(_e76)){if(_e4d.debugMode){}if(_e74){this.__moveToCollection(_e76,_e72,_e4d.ACTION_COLLECTION_MOVE_TOPIC_TO_NEW);}else{this.__addToCollection(_e76,_e72,_e73,_e4d.ACTION_COLLECTION_SAVE_TOPIC_TO_NEW);}}}),_e72,_e71);},__addToCollection:function(_e77,_e78,_e79,_e7a){var _e7b=_e51.addContent(_e77,_e78,_e79);_e7b.then(lang.hitch(this,function(){_e4c.publish(_e4b.KC_NOTIFICATION,[_e4d.CONTENT_COLLECTION,_e7a,_e77]);_e51.getCollections();}),lang.hitch(this,function(){_e51.getCollections();}));},__moveToCollection:function(_e7c,_e7d,_e7e){_e7c.operations=[new kc.model.CollectionOperation({id:_e4f.getObject(_e4d.COLLECTION_TOPIC_INTERNAL_COLLECTION_ID,_e7d),operation:_e4d.ACTION_COLLECTION_OPERATION_MOVE})];var _e7f=_e51.saveCollection(_e7c);_e7f.then(lang.hitch(this,function(){_e4c.publish(_e4b.KC_NOTIFICATION,[_e4d.CONTENT_COLLECTION,_e7e,_e7c]);_e51.getCollections();}),lang.hitch(this,function(){_e51.getCollections();}));},_deleteCollection:function(_e80){_e52.showYesNoDialog(this.getString("confirmation"),this.getString("DELETE_COLLECTION_CONFIRM_MESSAGE"),lang.hitch(this,function(){var _e81=_e51.deleteCollection(_e80);_e81.then(lang.hitch(this,function(_e82){_e4c.publish(_e4b.KC_NOTIFICATION,[_e4d.CONTENT_COLLECTION,_e4d.ACTION_COLLECTION_DELETE,_e82]);_e51.getCollections();_e4c.publish(_e4b.KC_COLLECTION,[_e4d.SOURCE_CONTENT_COLLECTION]);},_e80),lang.hitch(this,function(_e83){},_e80));}),undefined,true,true);},_saveCollection:function(_e84,_e85,_e86){_e52.showProgressDialog(this.getString("COLLECTION_SAVE_PROGRESS"));var _e87=_e51.saveCollection(_e85);_e87.then(lang.hitch(this,function(_e88){_e52.hideProgressDialog();_e4c.publish(_e4b.KC_NOTIFICATION,[_e4d.CONTENT_COLLECTION,_e4d.ACTION_COLLECTION_SAVE,_e88]);if(_e86&&_e86 instanceof _e49){_e86.resolve(_e4d.MESSAGING_CONTINUE_PROPAGATION);}_e51.getCollections();if(_e4d.CONTENT_COLLECTION===_e4e.active){var _e89=_e4f.getObject(_e4d.COLLECTION_ID,_e4e.getLatestContentModel(_e4d.CONTENT_COLLECTION));var _e8a=_e4f.getObject(_e4d.COLLECTION_ID,_e88);if(_e89&&_e89===_e8a){_e4c.publish(_e4b.KC_COLLECTION,[_e4d.SOURCE_CONTENT_COLLECTION,_e88]);}}},_e85),lang.hitch(this,function(_e8b,_e8c){_e52.hideProgressDialog();if(_e86&&_e86 instanceof _e49){_e86.resolve(_e4d.MESSAGING_STOP_PROPAGATION);}},_e85));return _e87;},_pdfJobsReceived:function(_e8d){if(_e4f.isArray(_e8d)){var jobs=_e48.map(_e8d,function(j){var o=new kc.model.PDFJob();_e4f.copyProperties(j,o);return o;});jobs=_e48.filter(jobs,function(j){return !_e4f.isEmpty(j.id);});var _e8e=_e48.filter(jobs,function(j){return j.isComplete();});var _e8f=_e48.filter(jobs,function(j){return (j.progress!=0&&!j.isComplete());});var _e90=_e48.filter(jobs,function(j){return (j.progress==0&&!j.isComplete());});this._pdfJobActive=!_e4f.isEmpty(_e8f)||!_e4f.isEmpty(_e90);var _e91={};_e48.forEach(jobs,lang.hitch(this,function(j){_e91[j.id]=j;}));_e48.forEach(_e8e,lang.hitch(this,function(j){var _e92=this._pdfJobs[j.id];if(_e92&&!_e92.isComplete()){_e52.showToast(this.getString("COLLECTION_EXPORT_PDF_READY_NOTIFICATION",[_e4f.getObject("name",j,"")]));_e51.downloadPdf(j.id,function(){},lang.hitch(this,function(){CollectionManager.refreshPdfJobStatus();_e52.showWarningDialog(this.getString("warning"),this.getString("COLLECTION_EXPORT_PDF_INVALID_LINK"));}));}}));if(_e4f.isEmpty(_e8f)&&!_e4f.isEmpty(_e90)){setTimeout(lang.hitch(this,this.refreshPdfJobStatus),4000);}else{if(!_e4f.isEmpty(_e8f)){setTimeout(lang.hitch(this,this.refreshPdfJobStatus),3500);}else{}}this._pdfJobs=_e91;_e48.forEach(jobs,lang.hitch(this,function(j){_e4c.publish(_e4b.KC_NOTIFICATION,[_e4d.CONTENT_COLLECTION,_e4d.NOTIFICATION_PDF_JOB_CHECK,j]);}));}else{this._pdfJobActive=false;this._pdfJobs={};}},refreshPdfJobStatus:function(){_e51.checkPdfJobs(lang.hitch(this,this._pdfJobsReceived),function(){});},getPdfJob:function(_e93){var id=_e4f.getObject(_e4d.COLLECTION_ID,_e93);if(id){return _e4f.getObject(id,this._pdfJobs);}},getPdfJobs:function(){var _e94=[];for(var jid in this._pdfJobs){_e94.push(this._pdfJobs[jid]);}return _e94;},hasPdfJobInProgress:function(){return this._pdfJobActive;},_exportPdf:function(_e95){_e51.exportPdf(_e95,lang.hitch(this,function(_e96){var _e97=_e4f.getObject("id",_e96);if(_e4f.isEmpty(_e97)){return;}this._pdfJobs[_e97]=new kc.model.PDFJob({id:_e97});if(!this._pdfJobActive){this._pdfJobActive=true;_e51.checkPdfJobs(lang.hitch(this,this._pdfJobsReceived),function(){});}}),lang.hitch(this,function(){_e52.showWarningDialog(this.getString("COLLECTION_EXPORT_PDF"),this.getString("COLLECTION_EXPORT_PDF_ERROR"));}));}});kc.widget.collection.CollectionManager.instance=null,kc.widget.collection.CollectionManager.getInstance=function(){if(kc.widget.collection.CollectionManager.instance===null){kc.widget.collection.CollectionManager.instance=new kc.widget.collection.CollectionManager();kc.widget.collection.CollectionManager.instance.initialize();}return kc.widget.collection.CollectionManager.instance;};return kc.widget.collection.CollectionManager.getInstance();});},"url:kc/widget/common/templates/ActionBar.html":"<div class=\"{{actionBarClass}}\" data-dojo-attach-point=\"_actionbar\">\n\n\t{% block actionPlaceholderBeginning %}\n\t{% endblock %}\n\n\t{% if _hasLanguageAction %} \t\n\t\t{% block beforeLanguageAction %}\n\t\t{% endblock %}\n\t\t{% block languageAction %}\n\t\t <!-- This is used by Welcome and Topic action bars -->\n\t\t <div class=\"toolBarAction toolBarLanguageMenu\" data-dojo-attach-point=\"_languageMenu\" data-dojo-type=\"idx.oneui.form.Select\" maxHeight=\"300\" title=\"{{languageTitle}}\"  label=\"{{languageLabel}}\">\n\t\t </div>\n\t\t \n\t\t{% endblock %}\n\t\t{% block afterLanguageAction %}\n\t\t{% endblock %}\n\t{% endif %}\n\n\t{% if _hasShareAction %} \n\t\t{% block beforeShareAction %}\n\t\t{% endblock %}\t\n\t\t{% block shareAction %}\n\t\t <!-- This is used by Welcome, Topic action bars -->\n\t\t <div class=\"toolBarAction\" data-dojo-type=\"idx.form.DropDownLink\" label=\"{{shareLabel}}\">\n\t\t \t<div data-dojo-type=\"dijit.Menu\" data-dojo-attach-point=\"_shareMenu\">\t\t\t\t\t\t\n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_shareEmail\" label=\"{{emailLabel}}\"></div>\n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_shareLinkedIn\" label=\"{{linkedInLabel}}\"></div>\n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_shareTwitter\" label=\"{{twitterLabel}}\"></div>\n\t\t\t\t<!-- \n\t\t\t\t<div data-dojo-type=\"dijit.MenuItem\" data-dojo-attach-point=\"_shareFacebook\" label=\"{{facebookLabel}}\"></div>\n\t\t\t\t -->\n\t\t\t</div>\n\t\t </div>\n\t\t{% endblock %} \t\t\n\t\t{% block afterShareAction %}\n\t\t{% endblock %}\n\t{% endif %}\n\n\t{% block actionPlaceholderEnd %}\n\t{% endblock %}\t\n\t \n</div>","kc/widget/topic/CommentEditor":function(){define("kc/widget/topic/CommentEditor",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/window","kc/Constants","dojo/dom-geometry","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/_base/sniff","dijit/registry","kc/widget/common/KCWidget","kc/Messaging","kc/Topics","kc/Utils","idx/string","dojo/store/Memory","kc/widget/topic/CommentItem","kc/controller/TopicController","kc/DialogManager","dojo/json","dojox/mobile/sniff","dojo/data/ItemFileWriteStore","kc/widget/common/Editor","idx/oneui/form/TextBox"],function(_e98,lang,_e99,win,_e9a,_e9b,_e9c,_e9d,_e9e,has,reg,_e9f,_ea0,_ea1,_ea2,_ea3,_ea4,_ea5,_ea6,_ea7,json,_ea8){return _e98("kc.widget.topic.CommentEditor",[_e9f],{templateString:"<div class=\"editor\"></div>",topicModel:undefined,type:undefined,parentId:undefined,commentId:undefined,_initializeStrings:function(){this._titleLabel=this.getString("CMT_TITLELABEL");this._editorLabel=this.getString("CMT_EDITORLABEL");this._submitLabel=this.getString("ACTION_SUBMIT");this._cancelLabel=this.getString("ACTION_CANCEL");this._fillinmsgLabel=this.getString("CMT_FILLINMSGLABEL");this._cannoteditMsg=this.getString("CMT_CANNOTEDITMSG");},_initializeSubscriptions:function(){this.addSubscription(_ea1.KC_CONTENT,this,"destroy");},_initializeConnections:function(){this.addConnection(window,"resize",this,"resize");},constructor:function(args){if(args){lang.mixin(this,args);}},postCreate:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);this.editor=new kc.widget.common.Editor({height:"150px","aria-label":this._editorLabel,"lang":_e9a.KC_LANGUAGE});this.editor.startup();this.domNode.appendChild(this.editor.domNode);var _ea9="commentTitle_"+reg.getUniqueId(idx.oneui.form.TextBox.prototype.declaredClass);this.titleInput=new idx.oneui.form.TextBox({id:_ea9,maxlength:"128",required:"true"});_e9d.add(this.titleInput.domNode,"commentTitleEditor");var _eaa=document.createElement("div");_e9d.add(_eaa,"commentTitleContainer");var _eab=document.createElement("label");_e9d.add(_eab,"commentTitleLabel");_eab.innerHTML=this._titleLabel;_eab.setAttribute("for",_ea9);_eaa.appendChild(_eab);_eaa.appendChild(this.titleInput.domNode);this.domNode.insertBefore(_eaa,this.domNode.firstChild);this.editor.onLoadDeferred.then(lang.hitch(this,function(){this.titleInput.focus();this.editor.iframe.title=this._editorLabel;this.editorInit();this.resize();if(this.type=="e"){var item=this.store._getItemByIdentity(this.commentId);this.editor.set("value",item.review[0]);var _eac=item.title[0];this.titleInput.set("value",_eac);this.titleInput.set("disabled",true);_ea2.setWidgetEnabled(this.titleInput,false);}if(this.type=="r"){var item=this.store._getItemByIdentity(this.parentId);var _eac=item.title[0];_ea2.setWidgetEnabled(this.titleInput,false);this.titleInput.set("value",_eac);if((_ea8("ipad")||_ea8("iphone"))&&_ea8("safari")){_e9e.set(this.titleInput.textbox,"color","black");}}}));_e9d.add(this.editor.domNode,"commentEditor");this.submitBtn=new dijit.form.Button({label:this._submitLabel});_e9d.add(this.submitBtn.domNode,"actionButton");this.submitBtn.onClick=lang.hitch(this,function(){if(!this.titleInput.disabled){this.titleInput.validate();}if(!this.titleInput.isValid()){this.titleInput.focus();this.editor.focus();this.titleInput.focus();return;}if(this.type==="e"){}else{_ea2.setWidgetEnabled(this.submitBtn,false);_ea2.setWidgetEnabled(this.cancel,false);this.setMsg("");var _ead={"title":this.titleInput.value,"comment":this.editor.value,"parentId":this.parentId};var _eae=json.stringify({actionName:_ea2.isString(this.parentId)?_e9a.ACTION_ADD_RESPONSE:_e9a.ACTION_ADD_COMMENT,parentId:_ea2.isString(this.parentId)?this.parentId:undefined,title:this.titleInput.value,content:this.editor.value});_ea6.postComment(this.topicModel,_ead,lang.hitch(this,function(tm){if(this.topicModel===tm){this.destroy();}},this.topicModel),lang.hitch(this,function(_eaf){_ea2.setWidgetEnabled(this.submitBtn,true);_ea2.setWidgetEnabled(this.cancel,true);var _eb0=_eaf.xhr.status;var _eb1=_eaf.xhr.responseText;try{_eb1=json.parse(_eb1);}catch(jpe){}if(_eb0===400){var key=_ea2.getObject("errorKey",_eb1,"");var _eb2=_ea2.getObject("error.acceptableComment",_eb1,undefined);if(key==="FEEDBACK_UNACCEPTABLE_COMMENT"){if(_eb2){_ea7.showToast(this.getString("FEEDBACK_UNACCEPTABLE_COMMENT"),"info");this.editor.set("value",_eb2);}else{_eb3=this.getString("FEEDBACK_UNKNOWN_ERROR");this.setMsg(_eb3);}this.editor.focus();}else{var _eb3;if(this.hasString(key)){var _eb4={};var _eb5=_ea2.getObject("error",_eb1,{});_e99.forEach(_ea2.getPropertiesOfObject(_eb5),lang.hitch(this,function(prop){var a=_ea2.stripBeginning(prop,"errorKeyArgument");if(!_ea2.isEmpty(a)){_eb4[a]=_eb5[prop];}}));if(_ea2.isEmpty(_eb4)){_eb4=undefined;}_eb3=this.getString(key,_eb4);}else{_eb3=this.getString("FEEDBACK_UNKNOWN_ERROR");}this.editor.focus();this.setMsg(_eb3);}}else{this.editor.focus();this.setMsg(this.getString("FEEDBACK_UNKNOWN_ERROR"));}}),_eae);}});this.domNode.appendChild(this.submitBtn.domNode);this.cancel=new dijit.form.Button({label:this._cancelLabel});_e9d.add(this.cancel.domNode,"actionButton");_e9d.add(this.cancel.domNode,"idxSecondaryButton");this.cancel.onClick=lang.hitch(this,function(){this.destroy();});this.domNode.appendChild(this.cancel.domNode);this.msgNode=document.createElement("span");_e9d.add(this.msgNode,"commentMissingNote");_e9c.set(this.msgNode,"role","alert");this.domNode.appendChild(this.msgNode);this.addSubscription(_ea1.KC_COMMENT_EDIT,this,function(){this.setMsg(this._cannoteditMsg);});this.fl=true;this.editor.onFocus=lang.hitch(this,function(){if(this.fl){this.titleInput.focus();}this.fl=false;});},editorInit:function(){try{if(has("webkit")){this.editor.iframe.contentDocument.body.firstChild.innerHTML="";}else{if(!has("ie")){this.editor.iframe.contentWindow.document.body.innerHTML="<div contenteditable=\"true\" role=\"textbox\" aria-multiline=\"true\" aria-label=\""+this._editorLabel+"\" style=\"height:150px;overflow:auto\"></div>";}}}catch(e){}},resize:function(){if(!this.editor){return;}var h=_e9b.position(this.editor.domNode).h-_e9b.position(this.editor.toolbar.domNode).h-21;if(h<0){h=120;}try{this.editor.iframe.style.height=h+"px";_e9e.set(this.editor.iframe.contentWindow.document.body.firstChild,"height",h);_e9e.set(this.editor.iframe.contentWindow.document.body.firstChild,"overflow","auto");}catch(e){}},setMsg:function(msg){this.msgNode.innerHTML=msg;win.scrollIntoView(this.msgNode);this.msgNode.focus();},destroy:function(){if(this.editor){this.editor.destroy();delete this.editor;}if(this.titleInput){this.titleInput.destroy();}this.domNode.innerHTML="";if(this.domNode.parentNode){this.domNode.parentNode.removeChild(this.domNode);}}});});},"kc/widget/common/_KCConnectionMixin":function(){define("kc/widget/common/_KCConnectionMixin",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/on","kc/Messaging","kc/Topics","dojox/mobile/sniff","dojo/touch","kc/Utils","dijit/MenuItem","idx/oneui/form/Select"],function(_eb6,lang,_eb7,on,_eb8,_eb9,has,_eba,_ebb){return _eb6("kc.widget.common._KCConnectionMixin",[],{_connections:null,_subscriptions:null,constructor:function(){this._connections=[];this._subscriptions=[];},_initializeConnections:function(){},_initializeSubscriptions:function(){},startup:function(){this.inherited(arguments);this._initializeConnections();this._initializeSubscriptions();},addConnection:function(_ebc,_ebd,_ebe,_ebf,once,_ec0){if(_ebc){if(arguments.length==1){this._connections.push(_ebc);return _ebc;}else{if(_ebb.isString(_ebd)){var _ec1=_ebd.toLowerCase();if(_ec1.substr(0,2)==="on"){_ec1=_ec1.slice(2);}var _ec2;if(once===true){_ec2=on.once(has("touch")&&_ec1=="click"&&_ebc instanceof dijit.MenuItem?_ebc.domNode:_ebc,has("touch")&&_ec1=="click"&&_ebc instanceof dijit.MenuItem?_eba.release:_ec1,lang.hitch(_ebe,_ebf));}else{if(_ec0===true){_ec2=on.pausable(has("touch")&&_ec1=="click"&&_ebc instanceof dijit.MenuItem?_ebc.domNode:_ebc,has("touch")&&_ec1=="click"&&_ebc instanceof dijit.MenuItem?_eba.release:_ec1,lang.hitch(_ebe,_ebf));}else{_ec2=on(has("touch")&&_ec1=="click"&&_ebc instanceof dijit.MenuItem?_ebc.domNode:_ebc,has("touch")&&_ec1=="click"&&_ebc instanceof dijit.MenuItem?_eba.release:_ec1,lang.hitch(_ebe,_ebf));}}if(has("touch")&&_ec1=="change"&&_ebc instanceof idx.oneui.form.Select){this._connections.push(on.once(_ebc.domNode,_eba.press,lang.hitch(this,function(){_eb7.forEach(_ebc._getChildren(),lang.hitch(this,function(_ec3){this._connections.push(_eba.release(_ec3.domNode,function(){on.emit(_ec3.domNode,"click",{cancelable:true,bubbles:true});}));_ec3._setSelected=function(){};}));})));}if(_ebc instanceof dijit.MenuItem&&has("touch")){_ebc._setSelected=function(){};}this._connections.push(_ec2);return _ec2;}}}},removeConnection:function(_ec4){try{_ec4.remove();}catch(err){}var _ec5=_eb7.indexOf(this._connections,_ec4);if(_ec5>-1){this._subscriptions.splice(_ec5,1);}},addSubscription:function(_ec6,_ec7,_ec8,_ec9,once){if(_ec6){if(arguments.length==1){this._subscriptions.push(_ec6);if(_ec9||once){console.error("Cannot set a priority or add a one time subscription (once) since the subscription has already been created.");}return _ec6;}else{var _eca=_eb8.subscribe(_ec6,_ec7,_ec8,_ec9,once);if(lang.isArray(_eca)){this._subscriptions=this._subscriptions.concat(_eca);}else{this._subscriptions.push(_eca);}return _eca;}}},removeSubscription:function(_ecb){var _ecc=lang.hitch(this,function(h){_eb8.unsubscribe(h);var _ecd=_eb7.indexOf(this._subscriptions,h);if(_ecd>-1){this._subscriptions.splice(_ecd,1);}});if(lang.isArray(_ecb)){_eb7.forEach(_ecb,_ecc);}else{_ecc(_ecb);}},uninitialize:function(){this.inherited(arguments);_eb7.forEach(this._connections,lang.hitch(this,function(_ece){_ece.remove();}));_eb7.forEach(this._subscriptions,lang.hitch(_eb8,_eb8.unsubscribe));this._connections=[];this._subscriptions=[];}});});},"kc/widget/common/Badge":function(){define("kc/widget/common/Badge",["dojo/_base/declare","idx/form/Link"],function(_ecf,link){return _ecf("kc.widget.common.Badge",[link],{baseClass:"badge"});});},"url:kc/widget/search/templates/SearchResult.html":"<div class='searchResultContainer' data-dojo-attach-point='_searchResultContainer'>\n\t<div class=\"searchSuggestion\" data-dojo-attach-point=\"_searchSuggestionPlaceholder\"></div>\n\t<div class='searchResultMessage' data-dojo-attach-point='_searchResultMessageNode' tabindex=\"0\" role=\"log\" aria-live=\"polite\" aria-label=\"${_searchResultsLabel}\">${_loadingIndicator}</div>\n\t<div data-dojo-attach-point=\"_paginationPlaceholder\"></div>\n\t<div class=\"searchResultTableDiv\" data-dojo-attach-point=\"_tablePlaceholder\" tabindex=\"-1\">\n\t\t<table data-dojo-attach-point=\"_searchResultTable\" class=\"searchResultTable\" role=\"presentation\"></table>\n\t</div>\n</div>","kc/state/StateUtils":function(){define("kc/state/StateUtils",["dojo/_base/lang","dojo/_base/array","dojo/_base/config","dojo/json","dojo/io-query","dojo/_base/url","idx/string","kc/Constants","kc/Topics","kc/Utils","kc/state/BrowserState","kc/model/Topic","kc/model/Search","kc/model/Tag","kc/model/Collection"],function(lang,_ed0,_ed1,json,_ed2,dUrl,_ed3,_ed4,_ed5,_ed6){kc.state.stateUtils={stringToBrowserState:function(_ed7){var _ed8=new kc.state.BrowserState();var _ed9=_ed7.indexOf("?");if(_ed9==-1){_ed8.urlBase=_ed7;}else{_ed8.urlBase=_ed7.substring(0,_ed9);var _eda=_ed7.substr(_ed9+1);_eda=_ed6.stripEnding(_eda,"/");if(_eda.length>0){_ed8.parameters=_ed2.queryToObject(_eda);_ed8.language=_ed6.getObject(_ed4.BROWSER_STATE_PARAMETER_LANGUAGE,_ed8.parameters);delete _ed8.parameters[_ed4.BROWSER_STATE_PARAMETER_LANGUAGE];if(_ed6.getPropertiesOfObject(_ed8.parameters).length==0){delete _ed8.parameters;}}}_ed8.urlBase=_ed6.stripEnding(_ed8.urlBase,"/");var _edb=this.inferContentType(_ed8.urlBase);var _edc=this.getModelClass(_edb);var _edd=_edc?lang.getObject(_edc):undefined;_ed8.contentType=_edb;_ed8.title="IBM Knowledge Center";switch(_edb){case _ed4.CONTENT_WELCOME:break;case _ed4.CONTENT_TOPIC:var _ede=new _edd();_ede.href=this.stripUrlBasePrefix(_edb,_ed8.urlBase);_ede.id=_ede.href;_ede.contextPath=this.getParameter(_ed8,_ed4.BROWSER_STATE_PARAMETER_TOPIC_CONTEXT_PATH);_ed8.model=_ede;break;case _ed4.CONTENT_SEARCH:var _ede=new _edd();_ede.term=this.stripUrlBasePrefix(_edb,_ed8.urlBase);if(_ede.term){_ed8.title="IBM Knowledge Center - "+decodeURIComponent(_ede.term);}_ed8.model=_ede;var _edf=this.getParameter(_ed8,_ed4.BROWSER_STATE_PARAMETER_SEARCH_SCOPE);var _ee0=this.getParameter(_ed8,_ed4.BROWSER_STATE_PARAMETER_TAG_PRODUCT);var task=this.getParameter(_ed8,_ed4.BROWSER_STATE_PARAMETER_TAG_TASK);var os=this.getParameter(_ed8,_ed4.BROWSER_STATE_PARAMETER_TAG_OS);var type=this.getParameter(_ed8,_ed4.BROWSER_STATE_PARAMETER_TAG_TYPE);var _ee1=this.getParameter(_ed8,_ed4.BROWSER_STATE_PARAMETER_TAG_FROMDATE);var _ee2=this.getParameter(_ed8,_ed4.BROWSER_STATE_PARAMETER_TAG_TODATE);if(_edf){if(!_ed6.isArray(_edf)){_edf=[_edf];}_ed8.model.scope=_edf;}if(_ee0||task||os||type||_ee1||_ee2){if(_ee0&&!_ed6.isArray(_ee0)){_ee0=[_ee0];}if(task&&!_ed6.isArray(task)){task=[task];}if(os&&!_ed6.isArray(os)){os=[os];}if(type&&!_ed6.isArray(type)){type=[type];}_ed8.model.tag=new kc.model.Tag({product:_ee0,task:task,os:os,type:type,fromDate:_ee1,toDate:_ee2});}break;case _ed4.CONTENT_COLLECTION:var _ee3=this.stripUrlBasePrefix(_edb,_ed8.urlBase);if(_ee3.length>0){var _ede=new _edd();_ede[_ed4.COLLECTION_ID]=_ee3;_ed8.model=_ede;}break;}return _ed8;},browserStateToString:function(_ee4,_ee5,_ee6){var url=_ee4.urlBase;var _ee7=_ee5?((_ee6&&(_ed6.getObject("language",_ee4,_ed4.KC_LANGUAGE)===_ed4.KC_LANGUAGE))?false:_ee4.language):false;var _ee8=this.parametersToString(_ee4);if(_ee8.length>0){url+="?"+_ee8;if(_ee7){url+="&"+_ed4.BROWSER_STATE_PARAMETER_LANGUAGE+"="+_ee7;}}else{if(_ee7){url+="?"+_ed4.BROWSER_STATE_PARAMETER_LANGUAGE+"="+_ee7;}}return url;},modelToBrowserState:function(_ee9,_eea){var _eeb=new kc.state.BrowserState();_eeb.contentType=_ee9;_eeb.model=_eea;_eeb.title="IBM Knowledge Center";var _eec=this.getUrlBasePrefix(_ee9);_eeb.urlBase=_eec;switch(_ee9){case _ed4.CONTENT_WELCOME:break;case _ed4.CONTENT_TOPIC:if(_eea.title){_eeb.title="IBM Knowledge Center - "+_eea.title;}_eeb.urlBase+=_eea.href;if(_eea.contextPath){this.setParameter(_eeb,_ed4.BROWSER_STATE_PARAMETER_TOPIC_CONTEXT_PATH,_eea.contextPath);}break;case _ed4.CONTENT_SEARCH:if(_eea.term){_eeb.title="IBM Knowledge Center - "+decodeURIComponent(_eea.term);}if(_eea.term){_eeb.urlBase+="/"+_eea.term;}var _eed=_eea.scope;var tag=_eea.tag;if(_eed){this.setParameter(_eeb,_ed4.BROWSER_STATE_PARAMETER_SEARCH_SCOPE,_eed);}if(tag){this.setParameter(_eeb,_ed4.BROWSER_STATE_PARAMETER_TAG_PRODUCT,tag.product);this.setParameter(_eeb,_ed4.BROWSER_STATE_PARAMETER_TAG_TASK,tag.task);this.setParameter(_eeb,_ed4.BROWSER_STATE_PARAMETER_TAG_OS,tag.os);this.setParameter(_eeb,_ed4.BROWSER_STATE_PARAMETER_TAG_TYPE,tag.type);this.setParameter(_eeb,_ed4.BROWSER_STATE_PARAMETER_TAG_FROMDATE,tag.fromDate);this.setParameter(_eeb,_ed4.BROWSER_STATE_PARAMETER_TAG_TODATE,tag.toDate);}break;case _ed4.CONTENT_COLLECTION:if(_eea){if(_eea.title){_eeb.title="IBM Knowledge Center - "+_eea.title;}var id=_ed6.getObject(_ed4.COLLECTION_ID,_eea);if(id){_eeb.urlBase+="/"+id;}}break;}if(_eea&&!_ed6.isEmpty(_eea.contentLanguage)){_eeb.language=_eea.contentLanguage;}return _eeb;},modelToExternalUrl:function(_eee,_eef,_ef0,_ef1){var _ef2=this.modelToBrowserState(_eee,_eef);_ef2.language=_ef0;return this.browserStateToExternalUrl(_ef2,_ef1);},browserStateToExternalUrl:function(_ef3,_ef4){var url=location.href;var _ef5=new dUrl(url);var host=_ef5.scheme+"://"+_ef5.authority;if(_ef4===true){if(_ed4.STATE_MANAGEMENT===_ed4.SM_HASH){var s=this.browserStateToString(_ef3,false);var _ef6=_ef3.language;if(_ef6){_ef6="?"+_ed4.BROWSER_STATE_PARAMETER_LANGUAGE+"="+_ef6;}else{_ef6="";}return host+_ed4.KC_ROOT+"/"+_ef6+"#"+_ed4.HASH_PREFIX+s;}else{if(_ed4.STATE_MANAGEMENT===_ed4.SM_HTML5){var s=this.browserStateToString(_ef3,true);return host+_ed4.KC_ROOT+"/"+s;}}}else{var s=this.browserStateToString(_ef3,true);return host+_ed4.KC_ROOT+"/"+s;}},equalStates:function(_ef7,_ef8){if(_ef7===undefined!=_ef8===undefined){return false;}if(_ef7===_ef8){return true;}var _ef9=_ed6.getObject("urlBase",_ef7);var _efa=_ed6.getObject("urlBase",_ef8);if(_ef9!==_efa){return false;}var _efb=_ed6.getObject("parameters",_ef7);var _efc=_ed6.getObject("parameters",_ef8);if(_efb===undefined!=_efc===undefined){return false;}if(!_ed6.compareObjects(_efb,_efc)){return false;}var _efd=_ed6.getObject("language",_ef7,_ed4.KC_LANGUAGE);var _efe=_ed6.getObject("language",_ef8,_ed4.KC_LANGUAGE);if(_efd!==_efe){return false;}return true;},equalBaseUrl:function(_eff,_f00){if(_eff===undefined!=_f00===undefined){return false;}if(_eff===_f00){return true;}var _f01=_ed6.getObject("urlBase",_eff);var _f02=_ed6.getObject("urlBase",_f00);if(_f01!==_f02){return false;}var _f03=_ed6.getObject("language",_eff,_ed4.KC_LANGUAGE);var _f04=_ed6.getObject("language",_f00,_ed4.KC_LANGUAGE);if(_f03!==_f04){return false;}var _f05=_ed6.getObject("parameters",_eff);var _f06=_ed6.getObject("parameters",_f00);if(_f05===undefined!=_f06===undefined){return false;}_f05["cp"]=_f06["cp"]=undefined;if(!_ed6.compareObjects(_f05,_f06)){return false;}return true;},setParameter:function(_f07,_f08,_f09){if(!_f09){return;}if(!_ed6.isObject(_f07.parameters)){_f07.parameters={};}_ed6.setObject(_f08,_f09,_f07.parameters);},removeParameter:function(_f0a,_f0b){if(!_f0b){return;}if(_ed6.isObject(_f0a.parameters)){delete _f0a.parameters[_f0b];}},getParameter:function(_f0c,_f0d,_f0e){return _ed6.getObject(_f0d,_f0c.parameters,_f0e);},parametersToString:function(_f0f){return _ed2.objectToQuery(_ed6.getObject("parameters",_f0f,{}));},getSearchModel:function(_f10){if(!_f10){return undefined;}if(_ed4.CONTENT_SEARCH===_f10.contentType){return _f10.model;}else{if(_ed6.isObject(_f10.parameters)){var term=_ed6.getObject(_ed4.BROWSER_STATE_PARAMETER_SEARCH,_f10.parameters);var _f11=_ed6.getObject(_ed4.BROWSER_STATE_PARAMETER_SEARCH_SCOPE,_f10.parameters);if(_f11&&!_ed6.isArray(_f11)){_f11=[_f11];}var tag=this.getTagModel(_f10);var _f12=new kc.model.Search({term:term,scope:_f11,tag:tag});return _f12;}}return undefined;},serializeSearchModel:function(_f13){var _f14={};if(_f13.title){_ed6.setObject("title",_f13.title,_f14);}if(_f13.term){_ed6.setObject("term",_f13.term,_f14);}if(_f13.scope){_ed6.setObject("scope",_f13.scope.toString(),_f14);}if(_f13.tag){lang.mixin(_f14,this.serializeTagModel(_f13.tag));}return _f14;},getTagModel:function(_f15){if(!_f15){return undefined;}if(_ed4.CONTENT_SEARCH===_f15.contentType){return _f15.model.tag;}else{if(_ed6.isObject(_f15.parameters)){var _f16=this.getParameter(_f15,_ed4.BROWSER_STATE_PARAMETER_TAG_PRODUCT);var task=this.getParameter(_f15,_ed4.BROWSER_STATE_PARAMETER_TAG_TASK);var os=this.getParameter(_f15,_ed4.BROWSER_STATE_PARAMETER_TAG_OS);var type=this.getParameter(_f15,_ed4.BROWSER_STATE_PARAMETER_TAG_TYPE);var _f17=this.getParameter(_f15,_ed4.BROWSER_STATE_PARAMETER_TAG_FROMDATE);var _f18=this.getParameter(_f15,_ed4.BROWSER_STATE_PARAMETER_TAG_TODATE);if(_f16||task||os||type||_f17||_f18){if(_f16&&!_ed6.isArray(_f16)){_f16=[_f16];}if(task&&!_ed6.isArray(task)){task=[task];}if(os&&!_ed6.isArray(os)){os=[os];}if(type&&!_ed6.isArray(type)){type=[type];}return new kc.model.Tag({product:_f16,task:task,os:os,type:type,fromDate:_f17,toDate:_f18});}}}return undefined;},serializeTagModel:function(_f19){var _f1a={};if(_f19.product){_ed6.setObject("product",_f19.product.toString(),_f1a);}if(_f19.task){_ed6.setObject("task",_f19.task.toString(),_f1a);}if(_f19.os){_ed6.setObject("os",_f19.os.toString(),_f1a);}if(_f19.type){_ed6.setObject("type",_f19.type.toString(),_f1a);}if(_f19.fromDate){_ed6.setObject("fromDate",_f19.fromDate,_f1a);}if(_f19.toDate){_ed6.setObject("toDate",_f19.toDate,_f1a);}return _f1a;},getModelClass:function(_f1b){return _ed6.getObject(_f1b+".modelClass",kc.state.stateUtils.__contentTypeMappings);},getTopic:function(_f1c){return _ed6.getObject(_f1c+".topic",kc.state.stateUtils.__contentTypeMappings);},getUrlBasePrefix:function(_f1d){return _ed6.getObject(_f1d+".urlBasePrefix",kc.state.stateUtils.__contentTypeMappings);},stripUrlBasePrefix:function(_f1e,_f1f){var _f20=this.getUrlBasePrefix(_f1e);return _ed6.stripBeginning(_ed6.stripBeginning(_f1f,_f20),"/");},inferContentType:function(_f21){if(_f21===""||_f21===_ed4.KC_ROOT+"/"){return _ed4.CONTENT_WELCOME;}if(_f21===_ed4.BROWSER_STATE_URLBASE_PREFIX_WELCOME){return _ed4.CONTENT_WELCOME;}if(_f21===_ed4.BROWSER_STATE_URLBASE_PREFIX_SEARCH){return _ed4.CONTENT_SEARCH;}if(_ed3.startsWith(_f21,_ed4.BROWSER_STATE_URLBASE_PREFIX_SEARCH+"/")){return _ed4.CONTENT_SEARCH;}if(_f21===_ed4.BROWSER_STATE_URLBASE_PREFIX_COLLECTION){return _ed4.CONTENT_COLLECTION;}if(_ed3.startsWith(_f21,_ed4.BROWSER_STATE_URLBASE_PREFIX_COLLECTION+"/")){return _ed4.CONTENT_COLLECTION;}return _ed4.CONTENT_TOPIC;}};kc.state.stateUtils.__contentTypeMappings=(function(){var map={};map[_ed4.CONTENT_WELCOME]={modelClass:undefined,topic:_ed5.KC_WELCOME,urlBasePrefix:_ed4.BROWSER_STATE_URLBASE_PREFIX_WELCOME};map[_ed4.CONTENT_TOPIC]={modelClass:"kc.model.Topic",topic:_ed5.KC_TOPIC,urlBasePrefix:_ed4.BROWSER_STATE_URLBASE_PREFIX_TOPIC};map[_ed4.CONTENT_SEARCH]={modelClass:"kc.model.Search",topic:_ed5.KC_SEARCH,urlBasePrefix:_ed4.BROWSER_STATE_URLBASE_PREFIX_SEARCH};map[_ed4.CONTENT_COLLECTION]={modelClass:"kc.model.Collection",topic:_ed5.KC_COLLECTION,urlBasePrefix:_ed4.BROWSER_STATE_URLBASE_PREFIX_COLLECTION};return map;})();return kc.state.stateUtils;});},"kc/widget/search/FacetTree":function(){require({cache:{"url:kc/widget/search/templates/FacetTreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\">\n    <div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\" data-dojo-attach-event=\" ondblclick:_onDblClick, onkeypress:_onKeyPress\">\n        <img data-dojo-attach-event=\"onclick:_onClick\" src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"/>\n        <span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"></span>\n        <span data-dojo-attach-point=\"contentNode\" class=\"dijitTreeContent\" role=\"presentation\" data-dojo-attach-event=\"onclick:_onNodeClick\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"/>\n\t\t\t<span data-dojo-attach-point=\"labelNode\"  class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\" data-dojo-attach-event=\"onfocus:_onLabelFocus\"></span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n\n"}});define("kc/widget/search/FacetTree",["dojo/_base/declare","dojo/keys","dojo/_base/array","dojo/_base/lang","dojo/fx","dojo/_base/event","dojo/dom-class","dojo/dom-style","kc/widget/common/KCTree","dojo/text!kc/widget/search/templates/FacetTreeNode.html"],function(_f22,keys,_f23,lang,_f24,_f25,_f26,_f27,_f28,_f29){_f22("kc.widget.search.FacetTreeNode",[kc.widget.common.KCTreeNode],{templateString:_f29,lastindent:0,selected:false,cssStateNodes:{labelNode:"dijitTreeLabel"},postCreate:function(){this.inherited(arguments);_f26.add(this.domNode,"displayInlineBlock");_f27.set(this.domNode,"vertical-align","top");if(!this.isExpandable){_f27.set(this.expandoNode,"display","none");}},setSelected:function(_f2a){this.selected=_f2a;this.labelNode.setAttribute("aria-selected",_f2a);_f26.toggle(this.contentNode,"searchResultFacetTreeItemSelected",_f2a);var _f2b=this.tree.selectedFacets;if(!this.item.id){return;}var id=this.item.id[0];if(_f2a&&_f23.indexOf(_f2b,id)==-1){_f2b.push(id);}else{if(!_f2a&&_f23.indexOf(_f2b,id)>-1){this.getParent().toExpand=false;_f2b.splice(_f23.indexOf(_f2b,id),1);}}},_onNodeClick:function(e){this.setSelected(!this.selected);},setChildItems:function(_f2c){this.lastindent=this.indent;this.indent=0;return this.inherited(arguments);},expand:function(){if(this.isExpandable){_f26.add(this.domNode,"displayBlock");_f26.remove(this.domNode,"displayInlineBlock");}this._setIndentAttr(this.lastindent);return this.inherited(arguments);},collapse:function(){this.inherited(arguments);this.lastindent=this.get("indent");this._setIndentAttr(0);_f26.remove(this.domNode,"displayBlock");_f26.add(this.domNode,"displayInlineBlock");},_onKeyPress:function(e){if(e.keyCode==keys.ENTER||e.charCode==keys.ENTER||e.keyCode==keys.SPACE||e.charCode==keys.SPACE){this._onNodeClick();_f25.stop(e);}}});return _f22("kc.widget.search.FacetTree",[_f28],{openOnClick:false,selectedFacets:[],postCreate:function(){this.inherited(arguments);},updateFacets:function(_f2d){var _f2e=this._arrayMinus(_f2d,this.selectedFacets);var _f2f=this._arrayMinus(this.selectedFacets,_f2d);this._selectFacets(_f2f,false);this._selectFacets(_f2e,true);this._collapseUnselectedFacets(this.rootNode);},_arrayMinus:function(a1,a2){var _f30=_f23.filter(a1,function(item){return _f23.indexOf(a2,item)==-1;});return _f30;},_selectFacets:function(_f31,_f32){if(_f31&&_f31.length){_f23.forEach(_f31,function(_f33){var item=this.model.store._getItemByIdentity(_f33);var node=this.getNodesByItem(item);if(node&&node[0]){node[0].setSelected(_f32);}},this);}},_collapseUnselectedFacets:function(node){_f23.forEach(node.getChildren(),function(_f34){this._collapseUnselectedFacets(_f34);if(_f34.selected||_f34.toExpand){node.toExpand=true;}},this);if(!node.toExpand&&node!=this.rootNode&&node.isExpandable){if(!node._wipeOut){node._wipeOut=_f24.wipeOut({node:node.containerNode});}node._wipeOut.duration=0;this._collapseNode(node);node._wipeOut.duration=200;}},startup:function(){this.inherited(arguments);},_createTreeNode:function(args){return new kc.widget.search.FacetTreeNode(args);},getSelectedFacets:function(){return this.selectedFacets;}});});},"idx/oneui/form/_InputListItemMixin":function(){define("idx/oneui/form/_InputListItemMixin",["dojo/_base/declare","dojo/_base/lang"],function(_f35,lang){return _f35("idx.oneui.form._InputListItemMixin",null,{widgetsInTemplate:true,option:null,parent:null,disabled:false,readOnly:false,postCreate:function(){this.inherited(arguments);this.focusNode.onClick=lang.hitch(this,"_changeBox");this.labelNode.innerHTML=this.option.label;this._updateBox();},_updateBox:function(){this.focusNode.set("checked",!!this.option.selected);},_setDisabledAttr:function(_f36){this.disabled=_f36;this.focusNode.set("disabled",this.disabled);},_setReadOnlyAttr:function(_f37){this.readOnly=_f37;this.focusNode.set("readOnly",_f37);},focus:function(){this.focusNode.focus();}});});},"url:kc/widget/topic/templates/TopicBreadcrumbs.html":"<div class=\"topicBreadcrumbs\" data-dojo-attach-point=\"container\"></div>","dijit/CalendarLite":function(){require({cache:{"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n"}});define("dijit/CalendarLite",["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/dom","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/_base/sniff","dojo/string","dojo/_base/window","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html"],function(_f38,_f39,_f3a,date,_f3b,dom,_f3c,_f3d,lang,has,_f3e,win,_f3f,_f40,_f41){var _f42=_f39("dijit.CalendarLite",[_f3f,_f40],{templateString:_f41,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:date,dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),baseClass:"dijitCalendar",_isValidDate:function(_f43){return _f43&&!isNaN(_f43)&&typeof _f43=="object"&&_f43.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){if(this.value&&!isNaN(this.value)){var _f44=new this.dateClassObj(this.value);_f44.setHours(0,0,0,0);if(_f44.getDate()<this.value.getDate()){_f44=this.dateFuncObj.add(_f44,"hour",1);}return _f44;}else{return null;}},_setValueAttr:function(_f45,_f46){if(_f45){_f45=new this.dateClassObj(_f45);}if(this._isValidDate(_f45)){if(!this._isValidDate(this.value)||this.dateFuncObj.compare(_f45,this.value)){_f45.setHours(1,0,0,0);if(!this.isDisabledDate(_f45,this.lang)){this._set("value",_f45);this.set("currentFocus",_f45);if(_f46||typeof _f46=="undefined"){this.onChange(this.get("value"));}}}}else{this._set("value",null);this.set("currentFocus",this.currentFocus);}},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(win.doc.createTextNode(text));},_populateGrid:function(){var _f47=new this.dateClassObj(this.currentFocus);_f47.setDate(1);var _f48=_f47.getDay(),_f49=this.dateFuncObj.getDaysInMonth(_f47),_f4a=this.dateFuncObj.getDaysInMonth(this.dateFuncObj.add(_f47,"month",-1)),_f4b=new this.dateClassObj(),_f4c=_f3a.getFirstDayOfWeek(this.lang);if(_f4c>_f48){_f4c-=7;}this._date2cell={};_f38.forEach(this.dateCells,function(_f4d,idx){var i=idx+_f4c;var date=new this.dateClassObj(_f47),_f4e,_f4f="dijitCalendar",adj=0;if(i<_f48){_f4e=_f4a-_f48+i+1;adj=-1;_f4f+="Previous";}else{if(i>=(_f48+_f49)){_f4e=i-_f48-_f49+1;adj=1;_f4f+="Next";}else{_f4e=i-_f48+1;_f4f+="Current";}}if(adj){date=this.dateFuncObj.add(date,"month",adj);}date.setDate(_f4e);if(!this.dateFuncObj.compare(date,_f4b,"date")){_f4f="dijitCalendarCurrentDate "+_f4f;}if(this._isSelectedDate(date,this.lang)){_f4f="dijitCalendarSelectedDate "+_f4f;_f4d.setAttribute("aria-selected",true);}else{_f4d.setAttribute("aria-selected",false);}if(this.isDisabledDate(date,this.lang)){_f4f="dijitCalendarDisabledDate "+_f4f;_f4d.setAttribute("aria-disabled",true);}else{_f4f="dijitCalendarEnabledDate "+_f4f;_f4d.removeAttribute("aria-disabled");}var _f50=this.getClassForDate(date,this.lang);if(_f50){_f4f=_f50+" "+_f4f;}_f4d.className=_f4f+"Month dijitCalendarDateTemplate";var _f51=date.valueOf();this._date2cell[_f51]=_f4d;_f4d.dijitDateValue=_f51;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);this.monthWidget.set("month",_f47);var y=_f47.getFullYear()-1;var d=new this.dateClassObj();_f38.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(args){this.datePackage=args.datePackage||this.datePackage;this.dateFuncObj=typeof this.datePackage=="string"?lang.getObject(this.datePackage,false):this.datePackage;this.dateClassObj=this.dateFuncObj.Date||Date;this.dateLocaleModule=lang.getObject("locale",false,this.dateFuncObj);},_createMonthWidget:function(){return _f42._MonthWidget({id:this.id+"_mw",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_f52=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_f53=_f3a.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_f3e.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _f52[_f53++%7];});var r=_f3e.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _f54=new this.dateClassObj(this.currentFocus);this._supportingWidgets.push(this.monthWidget=this._createMonthWidget());this.set("currentFocus",_f54,false);var _f55=lang.hitch(this,function(_f56,part,_f57){this.connect(this[_f56],"onclick",function(){this._setCurrentFocusAttr(this.dateFuncObj.add(this.currentFocus,part,_f57));});});_f55("incrementMonth","month",1);_f55("decrementMonth","month",-1);_f55("nextYearLabelNode","year",1);_f55("previousYearLabelNode","year",-1);},_setCurrentFocusAttr:function(date,_f58){var _f59=this.currentFocus,_f5a=_f59&&this._date2cell?this._date2cell[_f59.valueOf()]:null;date=new this.dateClassObj(date);date.setHours(1,0,0,0);this._set("currentFocus",date);this._populateGrid();var _f5b=this._date2cell[date.valueOf()];_f5b.setAttribute("tabIndex",this.tabIndex);if(this.focused||_f58){_f5b.focus();}if(_f5a&&_f5a!=_f5b){if(has("webkit")){_f5a.setAttribute("tabIndex","-1");}else{_f5a.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){_f3d.stop(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_f3c.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},onChange:function(){},_isSelectedDate:function(_f5c){return this._isValidDate(this.value)&&!this.dateFuncObj.compare(_f5c,this.value,"date");},isDisabledDate:function(){},getClassForDate:function(){}});_f42._MonthWidget=_f39("dijit.CalendarLite._MonthWidget",_f3f,{_setMonthAttr:function(_f5d){var _f5e=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_f5d),_f5f=(has("ie")==6?"":"<div class='dijitSpacer'>"+_f38.map(_f5e,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_f5f+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_f5e[_f5d.getMonth()]+"</div>";}});return _f42;});},"url:kc/frame/templates/Search.html":"<div>\n\t<div class=\"searchFrameContent\">\n\t\t<div data-dojo-type=\"kc.widget.search.SearchBox\"></div>\n\t\t<div data-dojo-type=\"kc.widget.search.FilterRow\"></div>\n\t</div>\n</div>","dojox/lang/functional/object":function(){define("dojox/lang/functional/object",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","./lambda"],function(dojo,lang,win,df){var _f60={};lang.mixin(df,{keys:function(obj){var t=[];for(var i in obj){if(!(i in _f60)){t.push(i);}}return t;},values:function(obj){var t=[];for(var i in obj){if(!(i in _f60)){t.push(obj[i]);}}return t;},filterIn:function(obj,f,o){o=o||win.global;f=df.lambda(f);var t={},v,i;for(i in obj){if(!(i in _f60)){v=obj[i];if(f.call(o,v,i,obj)){t[i]=v;}}}return t;},forIn:function(obj,f,o){o=o||win.global;f=df.lambda(f);for(var i in obj){if(!(i in _f60)){f.call(o,obj[i],i,obj);}}return o;},mapIn:function(obj,f,o){o=o||win.global;f=df.lambda(f);var t={},i;for(i in obj){if(!(i in _f60)){t[i]=f.call(o,obj[i],i,obj);}}return t;}});return df;});},"url:kc/frame/templates/Console.html":"\n\t<div class=\"consoleFrameContent\">\n\t\t<div data-dojo-type=\"dijit.layout.StackContainer\" doLayout=\"true\" data-dojo-attach-point=\"_stackContainer\" style=\"width: 100%; height: 100%;\">\t\n\n\t\t\t<div data-dojo-type=\"kc.widget.common.ToggleContainer\" doLayout=\"true\" data-dojo-props=\"'class':'kcContentFrame'\" data-dojo-attach-point=\"_kcContent\">\n\t\t\t\t<div data-dojo-type=\"kc.widget.common.ToggleContainer\" doLayout=\"true\" data-dojo-props=\"'class':'', region: 'center'\" data-dojo-attach-point=\"_kcContentInner\">\n\t\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" data-dojo-props=\"'class':'contentToolbarFrame', region: 'top'\" role=\"region\" aria-label=\"${_toolbarWidgetTitle}\">\n\t\t\t\t\t\t<div data-dojo-type=\"kc.frame.ToolBar\" data-dojo-props=\"'class':'toolBar'\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" data-dojo-props=\"splitter: 'toggle', minSize: 200, maxSize: 500, splitterTag:'navigationToggle', 'class':'navigationFrame', region: 'leading'\" data-dojo-attach-point=\"_navigationContainer\" role=\"navigation\" aria-label=\"${_navigationWidgetTitle}\">\n\t\t\t\t\t\t<div data-dojo-type=\"kc.frame.Navigation\" data-dojo-attach-point=\"_navigation\"></div>\n\t\t\t\t\t</div>\n\t\n\t\t\t\t\t<div data-dojo-type=\"dijit.layout.StackContainer\" doLayout=\"true\" data-dojo-attach-point=\"_contentStackContainer\" style=\"width: 100%; height: 100%;\" data-dojo-props=\"'class':'contentFrame', region: 'center'\" role=\"main\">\n\t\t\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" class=\"contentPlaceHolder welcomePlaceholder iframeContainer\" data-dojo-attach-point=\"_kcWelcomePlaceholder\" tabindex=\"0\"></div>\n\t\t\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" class=\"contentPlaceHolder collectionsWelcomePlaceholder\" data-dojo-attach-point=\"_myCollectionsWelcomePlaceholder\" tabindex=\"0\"></div>\n\t\t\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" class=\"contentPlaceHolder searchResultsPlaceholder\" data-dojo-attach-point=\"_searchResultsPlaceholder\" tabindex=\"0\"></div>\n\t\t\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" class=\"contentPlaceHolder topicPlaceholder iframeContainer\" data-dojo-attach-point=\"_topicPlaceholder\" tabindex=\"0\"></div>\n\t\t\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" class=\"contentPlaceHolder collectionPlaceholder\" data-dojo-attach-point=\"_collectionPlaceholder\" tabindex=\"0\"></div>\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<a data-dojo-attach-point=\"focusAccessKey\" accesskey=\"${ACCESS_KEY_FOCUS_CONTENT}\" tabindex=\"-1\" style=\"display:none;\"></a>\t\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" data-dojo-attach-point=\"_relatedContentContainer\" data-dojo-props=\"splitter: 'toggle', minSize: 225, maxSize: 225, splitterTag:'relatedContentToggle', toggleSplitterState: 'closed', 'class':'relatedContentFrame', region: 'trailing' \">\n\t\t\t\t\t<div data-dojo-type=\"kc.frame.RelatedContent\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\n\t\t\t<!-- Make the filter pane hidden initially, otherwise it shows up for a split second when loading KC. Display will be set to visible automatically by dijit when the stack container shows this pane -->\n\t\t\t<div data-dojo-type=\"dijit.layout.ContentPane\" style=\"display: none;\" data-dojo-props=\"'class':'filter'\" data-dojo-attach-point=\"_kcFilter\">\n\t\t\t\t<div data-dojo-type=\"kc.widget.search.FilterPane\" data-dojo-attach-point=\"_filterPane\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\t\t\n","idx/oneui/form/_RadioButtonSetItem":function(){require({cache:{"url:idx/oneui/form/templates/_RadioButtonSetItem.html":"<div class=\"dijitReset ${baseClass}\"\n\t><input id=\"${_inputId}\" dojoType=\"dijit.form.RadioButton\" dojoAttachPoint=\"focusNode\" name=\"${name}\"\n\t/><label for=\"${_inputId}\" dojoAttachPoint=\"labelNode\"></label\n></div>"}});define("idx/oneui/form/_RadioButtonSetItem",["dojo/_base/declare","dojo/_base/array","dojo/dom-attr","dijit/_Widget","dijit/_CssStateMixin","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","idx/oneui/form/_InputListItemMixin","dojo/text!./templates/_RadioButtonSetItem.html","dijit/form/CheckBox"],function(_f61,_f62,_f63,_f64,_f65,_f66,_f67,_f68,_f69){return _f61("idx.oneui.form._RadioButtonSetItem",[_f64,_f65,_f66,_f67,_f68],{templateString:_f69,baseClass:"idxRadioButtonSetItem",_changeBox:function(){if(this.get("disabled")||this.get("readOnly")){return;}_f62.forEach(this.parent.options,function(opt){opt.selected=false;});this.option.selected=true;this.parent.set("value",this.parent._getValueFromOpts());this.parent.focusChild(this);},_setNameAttr:function(_f6a){this.inherited(arguments);_f63.set(this.focusNode,"name",_f6a);}});});},"url:kc/widget/search/templates/FilterPane.html":"<div class=\"filterPane\" role=\"dialog\" aria-labelledby=\"kcFilterPanelTitle\">\n    <div class=\"filterPaneTitleBar\">\n        <span id=\"kcFilterPanelTitle\" class=\"filterPaneTitle\">${_filterPaneTitle}</span>\n        <div class=\"filterButton\">\n            <div class=\"filterApplyButton\" data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"_filterApplyButton\">${_filterApplyLabel}</div>\n            <div class=\"filterCancelButton idxSecondaryButton\" data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"_filterCancelButton\">${_filterCancelLabel}</div>\n        </div>\n        <div class=\"filterPaneTip\">${_filterPaneTip}</div>\n    </div>\n    <div class=\"filterContent\">\n        <div class=\"filterLabel\">${_productLabel}</div>\n\t\t<div data-dojo-attach-point=\"_productTreePlaceholder\" id=\"productTree\"></div>\n    </div>\n</div>\t\n","kc/model/KCModel":function(){define("kc/model/KCModel",["dojo/_base/declare","dojo/_base/lang"],function(_f6b,lang){return _f6b("kc.model.KCModel",[],{contentLanguage:undefined,constructor:function(args){if(args){lang.mixin(this,args);}}});});},"kc/MockManager":function(){define("kc/MockManager",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/cookie","kc/Topics","kc/Messaging","kc/Constants","kc/Utils","kc/controller/Handler","idx/string","kc/DialogManager"],function(_f6c,lang,_f6d,json,_f6e,_f6f,_f70,_f71,_f72,_f73,_f74,_f75){_f6c("kc.MockManager",null,{_initialized:false,_debug:_f71.debugMode,initialize:function(){if(this._initialized){return;}_f70.subscribe(_f6f.KC_READY,this,"_ready");if(_f71.isDevelopment){_f70.subscribe(_f6f.KC_SEARCH,this,"_onSearch",_f71.MESSAGING_PRIORITY_EARLIEST);}this._initialized=true;},_ready:function(){setTimeout(lang.hitch(this,function(){if(this._debug){}var a=[];a.push("kc/widget/common/ActionBar");a.push("kc/widget/welcome/Welcome");a.push("kc/widget/welcome/WelcomeActionBar");a.push("kc/widget/topic/TopicViewer");a.push("kc/widget/topic/TopicActionBar");a.push("kc/widget/search/SearchResult");a.push("kc/widget/search/SearchActionBar");a.push("kc/widget/collection/CollectionsWelcome");a.push("kc/widget/collection/Collection");a.push("kc/widget/collection/CollectionActionBar");require(a);}),1500);},_onSearch:function(_f76,_f77){if(_f77.term==="debug_help"){var _f78="Enter the following keyword as a search term and perform a search.<br><br>"+"<li><b>debug_uncompressed_source</b> Reload KC with uncompressed source. Clear cache and cookies to revert to compressed source.<br><br></li>"+"<li><b>debug_synchronous_loading</b> Reload KC with synchronous script loading. Clear cache and cookies to revert to default.<br><br></li>"+"<li><b>debug_asynchronous_loading</b> Reload KC with asynchronous script loading. Clear cache and cookies to revert to default.<br><br></li>"+"<li><b>debug_private_feedback</b> Display the feedback entered through the Feedback link on the footer. The report may take few seconds to generate, and it will show on a separate popup.<br><br></li>"+"<li><b>debug_topic_ratings</b> Displays all the ratings.<br><br></li>"+"<li><b>debug_topic_comments</b> Displays all the comments.<br><br></li>"+"<li><b>debug_refresh_feedback</b> Refresh comments and ratings for topics from OpinionLabs. KC will reload itself after successful refresh.<br><br></li>";_f75.showInfoDialog("Help on debug options",_f78);return _f71.MESSAGING_STOP_PROPAGATION;}else{if(_f77.term==="debug_loaded"){var _f79={};_f79.url="/kc/js/kc/mockdata/kc.har";_f79.preventCache=false;_f79.timeout=_f71.XHR_TIMEOUT;_f79.handleAs="json";_f79.load=function(data){var _f7a=data.log.entries;var urls=_f6d.filter(_f6d.map(_f7a,function(_f7b){var _f7c=_f7b.request;if(_f7c.method==="GET"&&_f74.endsWith(_f7c.url,".js")){var _f7d=_f7c.url.replace(/\//g,".");_f7d=_f72.stripBeginning(_f7d,"http:..localhost:9080.kc.lib.");_f7d=_f72.stripBeginning(_f7d,"http:..localhost:9080.kc.js.");_f7d=_f72.stripEnding(_f7d,".js");return "\""+_f7d+"\"";}}),function(_f7e){return (_f7e);}).sort();};_f73.doXhrGet(_f79);return _f71.MESSAGING_STOP_PROPAGATION;}else{if(_f77.term==="debug_uncompressed_source"){var val=_f6e("kc_source");if(val!=="uncompressed"){_f6e("kc_source","uncompressed",{expires:7});location.reload();}return _f71.MESSAGING_STOP_PROPAGATION;}else{if(_f77.term==="debug_synchronous_loading"){var val=_f6e("kc_synchronous");if(val!=="true"){_f6e("kc_synchronous","true",{expires:7});location.reload();}return _f71.MESSAGING_STOP_PROPAGATION;}else{if(_f77.term==="debug_asynchronous_loading"){var val=_f6e("kc_synchronous");if(val!=="false"){_f6e("kc_synchronous","false",{expires:7});location.reload();}return _f71.MESSAGING_STOP_PROPAGATION;}else{if(_f77.term==="debug_refresh_feedback"){var _f79={};_f79.url=_f71.KC_API_ROOT+"/ol_private/refresh";_f79.preventCache=true;_f79.handleAs="json";_f79.load=lang.hitch(this,function(data){location.reload();});_f75.showInfoDialog("IBM Knowledge Center Refresh Topic Feedback","Comments and ratings for topics are currently refreshing from OpinionLabs. KC will reload itself after successful refresh, or you will see an error dialog if there's a problem.");_f73.doXhrGet(_f79);return _f71.MESSAGING_STOP_PROPAGATION;}else{if(_f77.term==="debug_private_feedback"){_f75.showInfoDialog("IBM Knowledge Center Private Feedback","Generating IBM Knowledge Center Private Feedback report. Please wait...<br><br>If the report popup doesn't show up within few seconds, check your browser's popup blockers and try again.");var _f79={};_f79.url=_f71.KC_API_ROOT+"/ol_private";_f79.preventCache=true;_f79.handleAs="json";_f79.load=lang.hitch(this,function(data){var _f7f="<html><head><title>IBM Knowledge Center Feedback</title></head><body style=\"overflow: auto\">"+"<h1>IBM Knowledge Center Feedback</h1>"+"<h4>Note 1: If you have recently entered a feedback, please wait for about 5 minutes for feedback to appear.</h4>"+"<h4>Note 2: Currently only the overall rating and the feedback comments are displayed in this report.</h4>";_f6d.forEach(data,lang.hitch(this,function(item){_f7f+="<div>";var url=item.resource;var i=url.indexOf("/knowledgecenter");var _f80=url.substr(i);var _f81="/kc"+url.substr(i);_f7f+="Feedback entered while looking at this URL: <a target=\"_blank\" href=\""+_f81+"\">"+_f80+"</a>";_f7f+="<ul>";_f6d.forEach(item.data,lang.hitch(this,function(_f82){_f7f+="<li>Rating: "+_f82.rating+"\t Comment: "+_f82.comment+"</li>";}));_f7f+="</ul>";_f7f+="</div>";}));_f7f+="</body></html>";this._showPopup(_f7f);});_f73.doXhrGet(_f79);return _f71.MESSAGING_STOP_PROPAGATION;}else{if(_f77.term==="debug_topic_comments"){_f75.showInfoDialog("IBM Knowledge Center Topic Comments","Generating IBM Knowledge Center Topic Comments report. Please wait...<br><br>If the report popup doesn't show up within few seconds, check your browser's popup blockers and try again.");var _f79={};_f79.url=_f71.KC_API_ROOT+"/ol_commenting";_f79.preventCache=true;_f79.handleAs="json";_f79.load=lang.hitch(this,function(data){var _f83="<html><head><title>IBM Knowledge Center Topic Comments</title></head><body style=\"overflow: auto\">"+"<h1>IBM Knowledge Center Topic Comments</h1>"+"<h4>Note 1: If you have recently entered a topic comment, please wait for about 5 minutes for feedback to appear.</h4>"+"<h4>Note 2: Currently only the comments are displayed in this report (no ratings or comment titles) </h4>";_f6d.forEach(data,lang.hitch(this,function(item){_f83+="<div>";var url=item.resource;var _f84=url;var _f85="/kc/knowledgecenter/"+url;_f83+="Comment for the topic with URL: <a target=\"_blank\" href=\""+_f85+"\">"+_f84+"</a>";_f83+="<ul>";_f6d.forEach(item.comments,lang.hitch(this,function(_f86){_f83+="<li>Comment: "+_f86.body+"</li>";}));_f83+="</ul>";_f83+="</div>";}));_f83+="</body></html>";this._showPopup(_f83);});_f73.doXhrGet(_f79);return _f71.MESSAGING_STOP_PROPAGATION;}else{if(_f77.term==="debug_topic_ratings"){_f75.showInfoDialog("IBM Knowledge Center Topic Ratings","Generating IBM Knowledge Center Topic Ratings report. Please wait...<br><br>If the report popup doesn't show up within few seconds, check your browser's popup blockers and try again.");var _f79={};_f79.url=_f71.KC_API_ROOT+"/ol_rating";_f79.preventCache=true;_f79.handleAs="json";_f79.load=lang.hitch(this,function(data){var _f87="<html><head><title>IBM Knowledge Center Topic Ratings</title></head><body style=\"overflow: auto\">"+"<h1>IBM Knowledge Center Topic Ratings</h1>"+"<h4>Note 1: If you have recently entered a topic rating, please wait for about 5 minutes for feedback to appear.</h4>";_f87+="<ul>";_f6d.forEach(data,lang.hitch(this,function(item){_f87+="<li>";var url=item.resource;var _f88=url;var _f89="/kc/knowledgecenter/"+url;_f87+="Rating for the topic with URL: <a target=\"_blank\" href=\""+_f89+"\">"+_f88+"</a>";_f87+="<br>AverageRating: "+item.averageRating;_f87+="<br>Current user's rating: "+item.userResponse;_f87+="<br>Num likes: "+item.likes;_f87+="<br>Num dislikes: "+item.dislikes;_f87+="</li>";}));_f87+="</ul>";_f87+="</body></html>";this._showPopup(_f87);});_f73.doXhrGet(_f79);return _f71.MESSAGING_STOP_PROPAGATION;}}}}}}}}}},_showPopup:function(_f8a){var _f8b=window.open("","","scrollbars=yes,resizable=yes,fullscreen=yes");if(_f8b){_f8b.document.write(_f8a);}else{_f75.showWarningDialog("Popup blocker detected","Please enable popups on the site and try again!");}}});kc.MockManager.instance=null,kc.MockManager.getInstance=function(){if(kc.MockManager.instance===null){kc.MockManager.instance=new kc.MockManager();kc.MockManager.instance.initialize();}return kc.MockManager.instance;};return kc.MockManager.getInstance();});}}});require(["dojo/i18n"],function(i18n){i18n._preloadLocalizations("dojo/nls/layer_kc",["hr","da","es","pt-pt","vi","hu","de","sk","sl","pl","ca","sv","zh-tw","ar","fi","ro","ru","zh","fr","it","th","he","cs","pt-br","bg","kk","nl","el","no","ko","tr","ja"]);});define("dojo/layer_kc",[],1);